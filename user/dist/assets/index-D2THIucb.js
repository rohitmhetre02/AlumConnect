(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=r(c);fetch(c.href,u)}})();var wd={exports:{}},kn={};var sf;function bv(){if(sf)return kn;sf=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(o,c,u){var p=null;if(u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),"key"in c){u={};for(var b in c)b!=="key"&&(u[b]=c[b])}else u=c;return c=u.ref,{$$typeof:a,type:o,key:p,ref:c!==void 0?c:null,props:u}}return kn.Fragment=n,kn.jsx=r,kn.jsxs=r,kn}var af;function gv(){return af||(af=1,wd.exports=bv()),wd.exports}var e=gv(),Sd={exports:{}},fe={};var lf;function yv(){if(lf)return fe;lf=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),v=Symbol.iterator;function C(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function S(M,Q,se){this.props=M,this.context=Q,this.refs=j,this.updater=se||N}S.prototype.isReactComponent={},S.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},S.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function _(){}_.prototype=S.prototype;function B(M,Q,se){this.props=M,this.context=Q,this.refs=j,this.updater=se||N}var D=B.prototype=new _;D.constructor=B,k(D,S.prototype),D.isPureReactComponent=!0;var E=Array.isArray;function P(){}var z={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function F(M,Q,se){var V=se.ref;return{$$typeof:a,type:M,key:Q,ref:V!==void 0?V:null,props:se}}function H(M,Q){return F(M.type,Q,M.props)}function U(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function T(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return Q[se]})}var O=/\/+/g;function Y(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?T(""+M.key):Q.toString(36)}function W(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(P,P):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function I(M,Q,se,V,re){var oe=typeof M;(oe==="undefined"||oe==="boolean")&&(M=null);var me=!1;if(M===null)me=!0;else switch(oe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(M.$$typeof){case a:case n:me=!0;break;case g:return me=M._init,I(me(M._payload),Q,se,V,re)}}if(me)return re=re(M),me=V===""?"."+Y(M,0):V,E(re)?(se="",me!=null&&(se=me.replace(O,"$&/")+"/"),I(re,Q,se,"",function(Os){return Os})):re!=null&&(U(re)&&(re=H(re,se+(re.key==null||M&&M.key===re.key?"":(""+re.key).replace(O,"$&/")+"/")+me)),Q.push(re)),1;me=0;var Ye=V===""?".":V+":";if(E(M))for(var be=0;be<M.length;be++)V=M[be],oe=Ye+Y(V,be),me+=I(V,Q,se,oe,re);else if(be=C(M),typeof be=="function")for(M=be.call(M),be=0;!(V=M.next()).done;)V=V.value,oe=Ye+Y(V,be++),me+=I(V,Q,se,oe,re);else if(oe==="object"){if(typeof M.then=="function")return I(W(M),Q,se,V,re);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return me}function A(M,Q,se){if(M==null)return M;var V=[],re=0;return I(M,V,"","",function(oe){return Q.call(se,oe,re++)}),V}function R(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var q=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},J={map:A,forEach:function(M,Q,se){A(M,function(){Q.apply(this,arguments)},se)},count:function(M){var Q=0;return A(M,function(){Q++}),Q},toArray:function(M){return A(M,function(Q){return Q})||[]},only:function(M){if(!U(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return fe.Activity=h,fe.Children=J,fe.Component=S,fe.Fragment=r,fe.Profiler=c,fe.PureComponent=B,fe.StrictMode=o,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,fe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return z.H.useMemoCache(M)}},fe.cache=function(M){return function(){return M.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(M,Q,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var V=k({},M.props),re=M.key;if(Q!=null)for(oe in Q.key!==void 0&&(re=""+Q.key),Q)!$.call(Q,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&Q.ref===void 0||(V[oe]=Q[oe]);var oe=arguments.length-2;if(oe===1)V.children=se;else if(1<oe){for(var me=Array(oe),Ye=0;Ye<oe;Ye++)me[Ye]=arguments[Ye+2];V.children=me}return F(M.type,re,V)},fe.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},fe.createElement=function(M,Q,se){var V,re={},oe=null;if(Q!=null)for(V in Q.key!==void 0&&(oe=""+Q.key),Q)$.call(Q,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(re[V]=Q[V]);var me=arguments.length-2;if(me===1)re.children=se;else if(1<me){for(var Ye=Array(me),be=0;be<me;be++)Ye[be]=arguments[be+2];re.children=Ye}if(M&&M.defaultProps)for(V in me=M.defaultProps,me)re[V]===void 0&&(re[V]=me[V]);return F(M,oe,re)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(M){return{$$typeof:b,render:M}},fe.isValidElement=U,fe.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:R}},fe.memo=function(M,Q){return{$$typeof:f,type:M,compare:Q===void 0?null:Q}},fe.startTransition=function(M){var Q=z.T,se={};z.T=se;try{var V=M(),re=z.S;re!==null&&re(se,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(P,q)}catch(oe){q(oe)}finally{Q!==null&&se.types!==null&&(Q.types=se.types),z.T=Q}},fe.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},fe.use=function(M){return z.H.use(M)},fe.useActionState=function(M,Q,se){return z.H.useActionState(M,Q,se)},fe.useCallback=function(M,Q){return z.H.useCallback(M,Q)},fe.useContext=function(M){return z.H.useContext(M)},fe.useDebugValue=function(){},fe.useDeferredValue=function(M,Q){return z.H.useDeferredValue(M,Q)},fe.useEffect=function(M,Q){return z.H.useEffect(M,Q)},fe.useEffectEvent=function(M){return z.H.useEffectEvent(M)},fe.useId=function(){return z.H.useId()},fe.useImperativeHandle=function(M,Q,se){return z.H.useImperativeHandle(M,Q,se)},fe.useInsertionEffect=function(M,Q){return z.H.useInsertionEffect(M,Q)},fe.useLayoutEffect=function(M,Q){return z.H.useLayoutEffect(M,Q)},fe.useMemo=function(M,Q){return z.H.useMemo(M,Q)},fe.useOptimistic=function(M,Q){return z.H.useOptimistic(M,Q)},fe.useReducer=function(M,Q,se){return z.H.useReducer(M,Q,se)},fe.useRef=function(M){return z.H.useRef(M)},fe.useState=function(M){return z.H.useState(M)},fe.useSyncExternalStore=function(M,Q,se){return z.H.useSyncExternalStore(M,Q,se)},fe.useTransition=function(){return z.H.useTransition()},fe.version="19.2.0",fe}var nf;function Ru(){return nf||(nf=1,Sd.exports=yv()),Sd.exports}var x=Ru(),Cd={exports:{}},An={},kd={exports:{}},Ad={};var rf;function vv(){return rf||(rf=1,(function(a){function n(I,A){var R=I.length;I.push(A);e:for(;0<R;){var q=R-1>>>1,J=I[q];if(0<c(J,A))I[q]=A,I[R]=J,R=q;else break e}}function r(I){return I.length===0?null:I[0]}function o(I){if(I.length===0)return null;var A=I[0],R=I.pop();if(R!==A){I[0]=R;e:for(var q=0,J=I.length,M=J>>>1;q<M;){var Q=2*(q+1)-1,se=I[Q],V=Q+1,re=I[V];if(0>c(se,R))V<J&&0>c(re,se)?(I[q]=re,I[V]=R,q=V):(I[q]=se,I[Q]=R,q=Q);else if(V<J&&0>c(re,R))I[q]=re,I[V]=R,q=V;else break e}}return A}function c(I,A){var R=I.sortIndex-A.sortIndex;return R!==0?R:I.id-A.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var p=Date,b=p.now();a.unstable_now=function(){return p.now()-b}}var y=[],f=[],g=1,h=null,v=3,C=!1,N=!1,k=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function D(I){for(var A=r(f);A!==null;){if(A.callback===null)o(f);else if(A.startTime<=I)o(f),A.sortIndex=A.expirationTime,n(y,A);else break;A=r(f)}}function E(I){if(k=!1,D(I),!N)if(r(y)!==null)N=!0,P||(P=!0,T());else{var A=r(f);A!==null&&W(E,A.startTime-I)}}var P=!1,z=-1,$=5,F=-1;function H(){return j?!0:!(a.unstable_now()-F<$)}function U(){if(j=!1,P){var I=a.unstable_now();F=I;var A=!0;try{e:{N=!1,k&&(k=!1,_(z),z=-1),C=!0;var R=v;try{t:{for(D(I),h=r(y);h!==null&&!(h.expirationTime>I&&H());){var q=h.callback;if(typeof q=="function"){h.callback=null,v=h.priorityLevel;var J=q(h.expirationTime<=I);if(I=a.unstable_now(),typeof J=="function"){h.callback=J,D(I),A=!0;break t}h===r(y)&&o(y),D(I)}else o(y);h=r(y)}if(h!==null)A=!0;else{var M=r(f);M!==null&&W(E,M.startTime-I),A=!1}}break e}finally{h=null,v=R,C=!1}A=void 0}}finally{A?T():P=!1}}}var T;if(typeof B=="function")T=function(){B(U)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Y=O.port2;O.port1.onmessage=U,T=function(){Y.postMessage(null)}}else T=function(){S(U,0)};function W(I,A){z=S(function(){I(a.unstable_now())},A)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(I){I.callback=null},a.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<I?Math.floor(1e3/I):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(I){switch(v){case 1:case 2:case 3:var A=3;break;default:A=v}var R=v;v=A;try{return I()}finally{v=R}},a.unstable_requestPaint=function(){j=!0},a.unstable_runWithPriority=function(I,A){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var R=v;v=I;try{return A()}finally{v=R}},a.unstable_scheduleCallback=function(I,A,R){var q=a.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?q+R:q):R=q,I){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=R+J,I={id:g++,callback:A,priorityLevel:I,startTime:R,expirationTime:J,sortIndex:-1},R>q?(I.sortIndex=R,n(f,I),r(y)===null&&I===r(f)&&(k?(_(z),z=-1):k=!0,W(E,R-q))):(I.sortIndex=J,n(y,I),N||C||(N=!0,P||(P=!0,T()))),I},a.unstable_shouldYield=H,a.unstable_wrapCallback=function(I){var A=v;return function(){var R=v;v=A;try{return I.apply(this,arguments)}finally{v=R}}}})(Ad)),Ad}var of;function jv(){return of||(of=1,kd.exports=vv()),kd.exports}var Ed={exports:{}},bt={};var cf;function Nv(){if(cf)return bt;cf=1;var a=Ru();function n(y){var f="https://react.dev/errors/"+y;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+y+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(y,f,g){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:h==null?null:""+h,children:y,containerInfo:f,implementation:g}}var p=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(y,f){if(y==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,bt.createPortal=function(y,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(n(299));return u(y,f,null,g)},bt.flushSync=function(y){var f=p.T,g=o.p;try{if(p.T=null,o.p=2,y)return y()}finally{p.T=f,o.p=g,o.d.f()}},bt.preconnect=function(y,f){typeof y=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,o.d.C(y,f))},bt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},bt.preinit=function(y,f){if(typeof y=="string"&&f&&typeof f.as=="string"){var g=f.as,h=b(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,C=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?o.d.S(y,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:h,integrity:v,fetchPriority:C}):g==="script"&&o.d.X(y,{crossOrigin:h,integrity:v,fetchPriority:C,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},bt.preinitModule=function(y,f){if(typeof y=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=b(f.as,f.crossOrigin);o.d.M(y,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&o.d.M(y)},bt.preload=function(y,f){if(typeof y=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,h=b(g,f.crossOrigin);o.d.L(y,g,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},bt.preloadModule=function(y,f){if(typeof y=="string")if(f){var g=b(f.as,f.crossOrigin);o.d.m(y,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else o.d.m(y)},bt.requestFormReset=function(y){o.d.r(y)},bt.unstable_batchedUpdates=function(y,f){return y(f)},bt.useFormState=function(y,f,g){return p.H.useFormState(y,f,g)},bt.useFormStatus=function(){return p.H.useHostTransitionStatus()},bt.version="19.2.0",bt}var df;function F0(){if(df)return Ed.exports;df=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Ed.exports=Nv(),Ed.exports}var uf;function wv(){if(uf)return An;uf=1;var a=jv(),n=Ru(),r=F0();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,l=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(l=s.return),t=s.return;while(t)}return s.tag===3?l:null}function p(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function b(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(o(188))}function f(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(o(188));return s!==t?null:t}for(var l=t,i=s;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(i=d.return,i!==null){l=i;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return y(d),t;if(m===i)return y(d),s;m=m.sibling}throw Error(o(188))}if(l.return!==i.return)l=d,i=m;else{for(var w=!1,L=d.child;L;){if(L===l){w=!0,l=d,i=m;break}if(L===i){w=!0,i=d,l=m;break}L=L.sibling}if(!w){for(L=m.child;L;){if(L===l){w=!0,l=m,i=d;break}if(L===i){w=!0,i=m,l=d;break}L=L.sibling}if(!w)throw Error(o(189))}}if(l.alternate!==i)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?t:s}function g(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=g(t),s!==null)return s;t=t.sibling}return null}var h=Object.assign,v=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),B=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function T(t){return t===null||typeof t!="object"?null:(t=U&&t[U]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function Y(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case S:return"Profiler";case j:return"StrictMode";case E:return"Suspense";case P:return"SuspenseList";case F:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case B:return t.displayName||"Context";case _:return(t._context.displayName||"Context")+".Consumer";case D:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return s=t.displayName||null,s!==null?s:Y(t.type)||"Memo";case $:s=t._payload,t=t._init;try{return Y(t(s))}catch{}}return null}var W=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},q=[],J=-1;function M(t){return{current:t}}function Q(t){0>J||(t.current=q[J],q[J]=null,J--)}function se(t,s){J++,q[J]=t.current,t.current=s}var V=M(null),re=M(null),oe=M(null),me=M(null);function Ye(t,s){switch(se(oe,s),se(re,t),se(V,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Ch(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Ch(s),t=kh(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(V),se(V,t)}function be(){Q(V),Q(re),Q(oe)}function Os(t){t.memoizedState!==null&&se(me,t);var s=V.current,l=kh(s,t.type);s!==l&&(se(re,t),se(V,l))}function ns(t){re.current===t&&(Q(V),Q(re)),me.current===t&&(Q(me),Nn._currentValue=R)}var Ce,Ue;function ge(t){if(Ce===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Ce=s&&s[1]||"",Ue=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+t+Ue}var gt=!1;function da(t,s){if(!t||gt)return"";gt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(ae){var te=ae}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(ae){te=ae}t.call(ie.prototype)}}else{try{throw Error()}catch(ae){te=ae}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(ae){if(ae&&te&&typeof ae.stack=="string")return[ae.stack,te.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=i.DetermineComponentFrameRoot(),w=m[0],L=m[1];if(w&&L){var G=w.split(`
`),ee=L.split(`
`);for(d=i=0;i<G.length&&!G[i].includes("DetermineComponentFrameRoot");)i++;for(;d<ee.length&&!ee[d].includes("DetermineComponentFrameRoot");)d++;if(i===G.length||d===ee.length)for(i=G.length-1,d=ee.length-1;1<=i&&0<=d&&G[i]!==ee[d];)d--;for(;1<=i&&0<=d;i--,d--)if(G[i]!==ee[d]){if(i!==1||d!==1)do if(i--,d--,0>d||G[i]!==ee[d]){var le=`
`+G[i].replace(" at new "," at ");return t.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",t.displayName)),le}while(1<=i&&0<=d);break}}}finally{gt=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?ge(l):""}function Xb(t,s){switch(t.tag){case 26:case 27:case 5:return ge(t.type);case 16:return ge("Lazy");case 13:return t.child!==s&&s!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return da(t.type,!1);case 11:return da(t.type.render,!1);case 1:return da(t.type,!0);case 31:return ge("Activity");default:return""}}function sm(t){try{var s="",l=null;do s+=Xb(t,l),l=t,t=t.return;while(t);return s}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var io=Object.prototype.hasOwnProperty,oo=a.unstable_scheduleCallback,co=a.unstable_cancelCallback,Wb=a.unstable_shouldYield,Qb=a.unstable_requestPaint,Mt=a.unstable_now,Jb=a.unstable_getCurrentPriorityLevel,am=a.unstable_ImmediatePriority,lm=a.unstable_UserBlockingPriority,Gn=a.unstable_NormalPriority,Zb=a.unstable_LowPriority,nm=a.unstable_IdlePriority,Kb=a.log,eg=a.unstable_setDisableYieldValue,Tl=null,Dt=null;function Bs(t){if(typeof Kb=="function"&&eg(t),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Tl,t)}catch{}}var Lt=Math.clz32?Math.clz32:ag,tg=Math.log,sg=Math.LN2;function ag(t){return t>>>=0,t===0?32:31-(tg(t)/sg|0)|0}var Xn=256,Wn=262144,Qn=4194304;function ua(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jn(t,s,l){var i=t.pendingLanes;if(i===0)return 0;var d=0,m=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var L=i&134217727;return L!==0?(i=L&~m,i!==0?d=ua(i):(w&=L,w!==0?d=ua(w):l||(l=L&~t,l!==0&&(d=ua(l))))):(L=i&~m,L!==0?d=ua(L):w!==0?d=ua(w):l||(l=i&~t,l!==0&&(d=ua(l)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,l=s&-s,m>=l||m===32&&(l&4194048)!==0)?s:d}function _l(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function lg(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rm(){var t=Qn;return Qn<<=1,(Qn&62914560)===0&&(Qn=4194304),t}function uo(t){for(var s=[],l=0;31>l;l++)s.push(t);return s}function Ol(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ng(t,s,l,i,d,m){var w=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var L=t.entanglements,G=t.expirationTimes,ee=t.hiddenUpdates;for(l=w&~l;0<l;){var le=31-Lt(l),ie=1<<le;L[le]=0,G[le]=-1;var te=ee[le];if(te!==null)for(ee[le]=null,le=0;le<te.length;le++){var ae=te[le];ae!==null&&(ae.lane&=-536870913)}l&=~ie}i!==0&&im(t,i,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(w&~s))}function im(t,s,l){t.pendingLanes|=s,t.suspendedLanes&=~s;var i=31-Lt(s);t.entangledLanes|=s,t.entanglements[i]=t.entanglements[i]|1073741824|l&261930}function om(t,s){var l=t.entangledLanes|=s;for(t=t.entanglements;l;){var i=31-Lt(l),d=1<<i;d&s|t[i]&s&&(t[i]|=s),l&=~d}}function cm(t,s){var l=s&-s;return l=(l&42)!==0?1:mo(l),(l&(t.suspendedLanes|s))!==0?0:l}function mo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function dm(){var t=A.p;return t!==0?t:(t=window.event,t===void 0?32:Wh(t.type))}function um(t,s){var l=A.p;try{return A.p=t,s()}finally{A.p=l}}var zs=Math.random().toString(36).slice(2),mt="__reactFiber$"+zs,jt="__reactProps$"+zs,_a="__reactContainer$"+zs,po="__reactEvents$"+zs,rg="__reactListeners$"+zs,ig="__reactHandles$"+zs,mm="__reactResources$"+zs,Bl="__reactMarker$"+zs;function ho(t){delete t[mt],delete t[jt],delete t[po],delete t[rg],delete t[ig]}function Oa(t){var s=t[mt];if(s)return s;for(var l=t.parentNode;l;){if(s=l[_a]||l[mt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(t=Th(t);t!==null;){if(l=t[mt])return l;t=Th(t)}return s}t=l,l=t.parentNode}return null}function Ba(t){if(t=t[mt]||t[_a]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function zl(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function za(t){var s=t[mm];return s||(s=t[mm]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function dt(t){t[Bl]=!0}var xm=new Set,pm={};function ma(t,s){Ua(t,s),Ua(t+"Capture",s)}function Ua(t,s){for(pm[t]=s,t=0;t<s.length;t++)xm.add(s[t])}var og=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hm={},fm={};function cg(t){return io.call(fm,t)?!0:io.call(hm,t)?!1:og.test(t)?fm[t]=!0:(hm[t]=!0,!1)}function Zn(t,s,l){if(cg(s))if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var i=s.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+l)}}function Kn(t,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+l)}}function xs(t,s,l,i){if(i===null)t.removeAttribute(l);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(s,l,""+i)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bm(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function dg(t,s,l){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,m=i.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){l=""+w,m.call(this,w)}}),Object.defineProperty(t,s,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function fo(t){if(!t._valueTracker){var s=bm(t)?"checked":"value";t._valueTracker=dg(t,s,""+t[s])}}function gm(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var l=s.getValue(),i="";return t&&(i=bm(t)?t.checked?"true":"false":t.value),t=i,t!==l?(s.setValue(t),!0):!1}function er(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ug=/[\n"\\]/g;function Yt(t){return t.replace(ug,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function bo(t,s,l,i,d,m,w,L){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),s!=null?w==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+$t(s)):t.value!==""+$t(s)&&(t.value=""+$t(s)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),s!=null?go(t,w,$t(s)):l!=null?go(t,w,$t(l)):i!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?t.name=""+$t(L):t.removeAttribute("name")}function ym(t,s,l,i,d,m,w,L){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){fo(t);return}l=l!=null?""+$t(l):"",s=s!=null?""+$t(s):l,L||s===t.value||(t.value=s),t.defaultValue=s}i=i??d,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=L?t.checked:!!i,t.defaultChecked=!!i,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w),fo(t)}function go(t,s,l){s==="number"&&er(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Pa(t,s,l,i){if(t=t.options,s){s={};for(var d=0;d<l.length;d++)s["$"+l[d]]=!0;for(l=0;l<t.length;l++)d=s.hasOwnProperty("$"+t[l].value),t[l].selected!==d&&(t[l].selected=d),d&&i&&(t[l].defaultSelected=!0)}else{for(l=""+$t(l),s=null,d=0;d<t.length;d++){if(t[d].value===l){t[d].selected=!0,i&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function vm(t,s,l){if(s!=null&&(s=""+$t(s),s!==t.value&&(t.value=s),l==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=l!=null?""+$t(l):""}function jm(t,s,l,i){if(s==null){if(i!=null){if(l!=null)throw Error(o(92));if(W(i)){if(1<i.length)throw Error(o(93));i=i[0]}l=i}l==null&&(l=""),s=l}l=$t(s),t.defaultValue=l,i=t.textContent,i===l&&i!==""&&i!==null&&(t.value=i),fo(t)}function $a(t,s){if(s){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=s;return}}t.textContent=s}var mg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nm(t,s,l){var i=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?i?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":i?t.setProperty(s,l):typeof l!="number"||l===0||mg.has(s)?s==="float"?t.cssFloat=l:t[s]=(""+l).trim():t[s]=l+"px"}function wm(t,s,l){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,l!=null){for(var i in l)!l.hasOwnProperty(i)||s!=null&&s.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var d in s)i=s[d],s.hasOwnProperty(d)&&l[d]!==i&&Nm(t,d,i)}else for(var m in s)s.hasOwnProperty(m)&&Nm(t,m,s[m])}function yo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tr(t){return pg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ps(){}var vo=null;function jo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ya=null,qa=null;function Sm(t){var s=Ba(t);if(s&&(t=s.stateNode)){var l=t[jt]||null;e:switch(t=s.stateNode,s.type){case"input":if(bo(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Yt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var i=l[s];if(i!==t&&i.form===t.form){var d=i[jt]||null;if(!d)throw Error(o(90));bo(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<l.length;s++)i=l[s],i.form===t.form&&gm(i)}break e;case"textarea":vm(t,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Pa(t,!!l.multiple,s,!1)}}}var No=!1;function Cm(t,s,l){if(No)return t(s,l);No=!0;try{var i=t(s);return i}finally{if(No=!1,(Ya!==null||qa!==null)&&(qr(),Ya&&(s=Ya,t=qa,qa=Ya=null,Sm(s),t)))for(s=0;s<t.length;s++)Sm(t[s])}}function Ul(t,s){var l=t.stateNode;if(l===null)return null;var i=l[jt]||null;if(i===null)return null;l=i[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(o(231,s,typeof l));return l}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wo=!1;if(hs)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){wo=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{wo=!1}var Us=null,So=null,sr=null;function km(){if(sr)return sr;var t,s=So,l=s.length,i,d="value"in Us?Us.value:Us.textContent,m=d.length;for(t=0;t<l&&s[t]===d[t];t++);var w=l-t;for(i=1;i<=w&&s[l-i]===d[m-i];i++);return sr=d.slice(t,1<i?1-i:void 0)}function ar(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function lr(){return!0}function Am(){return!1}function Nt(t){function s(l,i,d,m,w){this._reactName=l,this._targetInst=d,this.type=i,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(l=t[L],this[L]=l?l(m):m[L]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?lr:Am,this.isPropagationStopped=Am,this}return h(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),s}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=Nt(xa),$l=h({},xa,{view:0,detail:0}),hg=Nt($l),Co,ko,Yl,rr=h({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yl&&(Yl&&t.type==="mousemove"?(Co=t.screenX-Yl.screenX,ko=t.screenY-Yl.screenY):ko=Co=0,Yl=t),Co)},movementY:function(t){return"movementY"in t?t.movementY:ko}}),Em=Nt(rr),fg=h({},rr,{dataTransfer:0}),bg=Nt(fg),gg=h({},$l,{relatedTarget:0}),Ao=Nt(gg),yg=h({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),vg=Nt(yg),jg=h({},xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ng=Nt(jg),wg=h({},xa,{data:0}),Mm=Nt(wg),Sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ag(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=kg[t])?!!s[t]:!1}function Eo(){return Ag}var Eg=h({},$l,{key:function(t){if(t.key){var s=Sg[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=ar(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eo,charCode:function(t){return t.type==="keypress"?ar(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ar(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mg=Nt(Eg),Dg=h({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dm=Nt(Dg),Lg=h({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eo}),Rg=Nt(Lg),Tg=h({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),_g=Nt(Tg),Og=h({},rr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bg=Nt(Og),zg=h({},xa,{newState:0,oldState:0}),Ug=Nt(zg),Pg=[9,13,27,32],Mo=hs&&"CompositionEvent"in window,ql=null;hs&&"documentMode"in document&&(ql=document.documentMode);var $g=hs&&"TextEvent"in window&&!ql,Lm=hs&&(!Mo||ql&&8<ql&&11>=ql),Rm=" ",Tm=!1;function _m(t,s){switch(t){case"keyup":return Pg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Om(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ha=!1;function Yg(t,s){switch(t){case"compositionend":return Om(s);case"keypress":return s.which!==32?null:(Tm=!0,Rm);case"textInput":return t=s.data,t===Rm&&Tm?null:t;default:return null}}function qg(t,s){if(Ha)return t==="compositionend"||!Mo&&_m(t,s)?(t=km(),sr=So=Us=null,Ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Lm&&s.locale!=="ko"?null:s.data;default:return null}}var Hg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bm(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Hg[t.type]:s==="textarea"}function zm(t,s,l,i){Ya?qa?qa.push(i):qa=[i]:Ya=i,s=Wr(s,"onChange"),0<s.length&&(l=new nr("onChange","change",null,l,i),t.push({event:l,listeners:s}))}var Hl=null,Fl=null;function Fg(t){yh(t,0)}function ir(t){var s=zl(t);if(gm(s))return t}function Um(t,s){if(t==="change")return s}var Pm=!1;if(hs){var Do;if(hs){var Lo="oninput"in document;if(!Lo){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),Lo=typeof $m.oninput=="function"}Do=Lo}else Do=!1;Pm=Do&&(!document.documentMode||9<document.documentMode)}function Ym(){Hl&&(Hl.detachEvent("onpropertychange",qm),Fl=Hl=null)}function qm(t){if(t.propertyName==="value"&&ir(Fl)){var s=[];zm(s,Fl,t,jo(t)),Cm(Fg,s)}}function Vg(t,s,l){t==="focusin"?(Ym(),Hl=s,Fl=l,Hl.attachEvent("onpropertychange",qm)):t==="focusout"&&Ym()}function Ig(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ir(Fl)}function Gg(t,s){if(t==="click")return ir(s)}function Xg(t,s){if(t==="input"||t==="change")return ir(s)}function Wg(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Rt=typeof Object.is=="function"?Object.is:Wg;function Vl(t,s){if(Rt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var l=Object.keys(t),i=Object.keys(s);if(l.length!==i.length)return!1;for(i=0;i<l.length;i++){var d=l[i];if(!io.call(s,d)||!Rt(t[d],s[d]))return!1}return!0}function Hm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fm(t,s){var l=Hm(t);t=0;for(var i;l;){if(l.nodeType===3){if(i=t+l.textContent.length,t<=s&&i>=s)return{node:l,offset:s-t};t=i}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hm(l)}}function Vm(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Vm(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Im(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=er(t.document);s instanceof t.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)t=s.contentWindow;else break;s=er(t.document)}return s}function Ro(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Qg=hs&&"documentMode"in document&&11>=document.documentMode,Fa=null,To=null,Il=null,_o=!1;function Gm(t,s,l){var i=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;_o||Fa==null||Fa!==er(i)||(i=Fa,"selectionStart"in i&&Ro(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Il&&Vl(Il,i)||(Il=i,i=Wr(To,"onSelect"),0<i.length&&(s=new nr("onSelect","select",null,s,l),t.push({event:s,listeners:i}),s.target=Fa)))}function pa(t,s){var l={};return l[t.toLowerCase()]=s.toLowerCase(),l["Webkit"+t]="webkit"+s,l["Moz"+t]="moz"+s,l}var Va={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},Oo={},Xm={};hs&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function ha(t){if(Oo[t])return Oo[t];if(!Va[t])return t;var s=Va[t],l;for(l in s)if(s.hasOwnProperty(l)&&l in Xm)return Oo[t]=s[l];return t}var Wm=ha("animationend"),Qm=ha("animationiteration"),Jm=ha("animationstart"),Jg=ha("transitionrun"),Zg=ha("transitionstart"),Kg=ha("transitioncancel"),Zm=ha("transitionend"),Km=new Map,Bo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bo.push("scrollEnd");function es(t,s){Km.set(t,s),ma(s,[t])}var or=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qt=[],Ia=0,zo=0;function cr(){for(var t=Ia,s=zo=Ia=0;s<t;){var l=qt[s];qt[s++]=null;var i=qt[s];qt[s++]=null;var d=qt[s];qt[s++]=null;var m=qt[s];if(qt[s++]=null,i!==null&&d!==null){var w=i.pending;w===null?d.next=d:(d.next=w.next,w.next=d),i.pending=d}m!==0&&ex(l,d,m)}}function dr(t,s,l,i){qt[Ia++]=t,qt[Ia++]=s,qt[Ia++]=l,qt[Ia++]=i,zo|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Uo(t,s,l,i){return dr(t,s,l,i),ur(t)}function fa(t,s){return dr(t,null,null,s),ur(t)}function ex(t,s,l){t.lanes|=l;var i=t.alternate;i!==null&&(i.lanes|=l);for(var d=!1,m=t.return;m!==null;)m.childLanes|=l,i=m.alternate,i!==null&&(i.childLanes|=l),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&s!==null&&(d=31-Lt(l),t=m.hiddenUpdates,i=t[d],i===null?t[d]=[s]:i.push(s),s.lane=l|536870912),m):null}function ur(t){if(50<hn)throw hn=0,Gc=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ga={};function ey(t,s,l,i){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(t,s,l,i){return new ey(t,s,l,i)}function Po(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fs(t,s){var l=t.alternate;return l===null?(l=Tt(t.tag,s,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=s,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,s=t.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function tx(t,s){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,s=l.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function mr(t,s,l,i,d,m){var w=0;if(i=t,typeof t=="function")Po(t)&&(w=1);else if(typeof t=="string")w=nv(t,l,V.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case F:return t=Tt(31,l,s,d),t.elementType=F,t.lanes=m,t;case k:return ba(l.children,d,m,s);case j:w=8,d|=24;break;case S:return t=Tt(12,l,s,d|2),t.elementType=S,t.lanes=m,t;case E:return t=Tt(13,l,s,d),t.elementType=E,t.lanes=m,t;case P:return t=Tt(19,l,s,d),t.elementType=P,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:w=10;break e;case _:w=9;break e;case D:w=11;break e;case z:w=14;break e;case $:w=16,i=null;break e}w=29,l=Error(o(130,t===null?"null":typeof t,"")),i=null}return s=Tt(w,l,s,d),s.elementType=t,s.type=i,s.lanes=m,s}function ba(t,s,l,i){return t=Tt(7,t,i,s),t.lanes=l,t}function $o(t,s,l){return t=Tt(6,t,null,s),t.lanes=l,t}function sx(t){var s=Tt(18,null,null,0);return s.stateNode=t,s}function Yo(t,s,l){return s=Tt(4,t.children!==null?t.children:[],t.key,s),s.lanes=l,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var ax=new WeakMap;function Ht(t,s){if(typeof t=="object"&&t!==null){var l=ax.get(t);return l!==void 0?l:(s={value:t,source:s,stack:sm(s)},ax.set(t,s),s)}return{value:t,source:s,stack:sm(s)}}var Xa=[],Wa=0,xr=null,Gl=0,Ft=[],Vt=0,Ps=null,rs=1,is="";function bs(t,s){Xa[Wa++]=Gl,Xa[Wa++]=xr,xr=t,Gl=s}function lx(t,s,l){Ft[Vt++]=rs,Ft[Vt++]=is,Ft[Vt++]=Ps,Ps=t;var i=rs;t=is;var d=32-Lt(i)-1;i&=~(1<<d),l+=1;var m=32-Lt(s)+d;if(30<m){var w=d-d%5;m=(i&(1<<w)-1).toString(32),i>>=w,d-=w,rs=1<<32-Lt(s)+d|l<<d|i,is=m+t}else rs=1<<m|l<<d|i,is=t}function qo(t){t.return!==null&&(bs(t,1),lx(t,1,0))}function Ho(t){for(;t===xr;)xr=Xa[--Wa],Xa[Wa]=null,Gl=Xa[--Wa],Xa[Wa]=null;for(;t===Ps;)Ps=Ft[--Vt],Ft[Vt]=null,is=Ft[--Vt],Ft[Vt]=null,rs=Ft[--Vt],Ft[Vt]=null}function nx(t,s){Ft[Vt++]=rs,Ft[Vt++]=is,Ft[Vt++]=Ps,rs=s.id,is=s.overflow,Ps=t}var xt=null,Ge=null,Re=!1,$s=null,It=!1,Fo=Error(o(519));function Ys(t){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl(Ht(s,t)),Fo}function rx(t){var s=t.stateNode,l=t.type,i=t.memoizedProps;switch(s[mt]=t,s[jt]=i,l){case"dialog":Ee("cancel",s),Ee("close",s);break;case"iframe":case"object":case"embed":Ee("load",s);break;case"video":case"audio":for(l=0;l<bn.length;l++)Ee(bn[l],s);break;case"source":Ee("error",s);break;case"img":case"image":case"link":Ee("error",s),Ee("load",s);break;case"details":Ee("toggle",s);break;case"input":Ee("invalid",s),ym(s,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Ee("invalid",s);break;case"textarea":Ee("invalid",s),jm(s,i.value,i.defaultValue,i.children)}l=i.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||i.suppressHydrationWarning===!0||wh(s.textContent,l)?(i.popover!=null&&(Ee("beforetoggle",s),Ee("toggle",s)),i.onScroll!=null&&Ee("scroll",s),i.onScrollEnd!=null&&Ee("scrollend",s),i.onClick!=null&&(s.onclick=ps),s=!0):s=!1,s||Ys(t,!0)}function ix(t){for(xt=t.return;xt;)switch(xt.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:xt=xt.return}}function Qa(t){if(t!==xt)return!1;if(!Re)return ix(t),Re=!0,!1;var s=t.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||od(t.type,t.memoizedProps)),l=!l),l&&Ge&&Ys(t),ix(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Ge=Rh(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Ge=Rh(t)}else s===27?(s=Ge,ta(t.type)?(t=xd,xd=null,Ge=t):Ge=s):Ge=xt?Xt(t.stateNode.nextSibling):null;return!0}function ga(){Ge=xt=null,Re=!1}function Vo(){var t=$s;return t!==null&&(kt===null?kt=t:kt.push.apply(kt,t),$s=null),t}function Xl(t){$s===null?$s=[t]:$s.push(t)}var Io=M(null),ya=null,gs=null;function qs(t,s,l){se(Io,s._currentValue),s._currentValue=l}function ys(t){t._currentValue=Io.current,Q(Io)}function Go(t,s,l){for(;t!==null;){var i=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,i!==null&&(i.childLanes|=s)):i!==null&&(i.childLanes&s)!==s&&(i.childLanes|=s),t===l)break;t=t.return}}function Xo(t,s,l,i){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var w=d.child;m=m.firstContext;e:for(;m!==null;){var L=m;m=d;for(var G=0;G<s.length;G++)if(L.context===s[G]){m.lanes|=l,L=m.alternate,L!==null&&(L.lanes|=l),Go(m.return,l,t),i||(w=null);break e}m=L.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(o(341));w.lanes|=l,m=w.alternate,m!==null&&(m.lanes|=l),Go(w,l,t),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===t){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Ja(t,s,l,i){t=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(o(387));if(w=w.memoizedProps,w!==null){var L=d.type;Rt(d.pendingProps.value,w.value)||(t!==null?t.push(L):t=[L])}}else if(d===me.current){if(w=d.alternate,w===null)throw Error(o(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Nn):t=[Nn])}d=d.return}t!==null&&Xo(s,t,l,i),s.flags|=262144}function pr(t){for(t=t.firstContext;t!==null;){if(!Rt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function va(t){ya=t,gs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pt(t){return ox(ya,t)}function hr(t,s){return ya===null&&va(t),ox(t,s)}function ox(t,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},gs===null){if(t===null)throw Error(o(308));gs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else gs=gs.next=s;return l}var ty=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(l,i){t.push(i)}};this.abort=function(){s.aborted=!0,t.forEach(function(l){return l()})}},sy=a.unstable_scheduleCallback,ay=a.unstable_NormalPriority,at={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wo(){return{controller:new ty,data:new Map,refCount:0}}function Wl(t){t.refCount--,t.refCount===0&&sy(ay,function(){t.controller.abort()})}var Ql=null,Qo=0,Za=0,Ka=null;function ly(t,s){if(Ql===null){var l=Ql=[];Qo=0,Za=Kc(),Ka={status:"pending",value:void 0,then:function(i){l.push(i)}}}return Qo++,s.then(cx,cx),s}function cx(){if(--Qo===0&&Ql!==null){Ka!==null&&(Ka.status="fulfilled");var t=Ql;Ql=null,Za=0,Ka=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function ny(t,s){var l=[],i={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return t.then(function(){i.status="fulfilled",i.value=s;for(var d=0;d<l.length;d++)(0,l[d])(s)},function(d){for(i.status="rejected",i.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),i}var dx=I.S;I.S=function(t,s){Gp=Mt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ly(t,s),dx!==null&&dx(t,s)};var ja=M(null);function Jo(){var t=ja.current;return t!==null?t:Ve.pooledCache}function fr(t,s){s===null?se(ja,ja.current):se(ja,s.pool)}function ux(){var t=Jo();return t===null?null:{parent:at._currentValue,pool:t}}var el=Error(o(460)),Zo=Error(o(474)),br=Error(o(542)),gr={then:function(){}};function mx(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xx(t,s,l){switch(l=t[l],l===void 0?t.push(s):l!==s&&(s.then(ps,ps),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,hx(t),t;default:if(typeof s.status=="string")s.then(ps,ps);else{if(t=Ve,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(i){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=i}},function(i){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=i}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,hx(t),t}throw wa=s,el}}function Na(t){try{var s=t._init;return s(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(wa=l,el):l}}var wa=null;function px(){if(wa===null)throw Error(o(459));var t=wa;return wa=null,t}function hx(t){if(t===el||t===br)throw Error(o(483))}var tl=null,Jl=0;function yr(t){var s=Jl;return Jl+=1,tl===null&&(tl=[]),xx(tl,t,s)}function Zl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function vr(t,s){throw s.$$typeof===v?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function fx(t){function s(Z,X){if(t){var K=Z.deletions;K===null?(Z.deletions=[X],Z.flags|=16):K.push(X)}}function l(Z,X){if(!t)return null;for(;X!==null;)s(Z,X),X=X.sibling;return null}function i(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function d(Z,X){return Z=fs(Z,X),Z.index=0,Z.sibling=null,Z}function m(Z,X,K){return Z.index=K,t?(K=Z.alternate,K!==null?(K=K.index,K<X?(Z.flags|=67108866,X):K):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function w(Z){return t&&Z.alternate===null&&(Z.flags|=67108866),Z}function L(Z,X,K,ne){return X===null||X.tag!==6?(X=$o(K,Z.mode,ne),X.return=Z,X):(X=d(X,K),X.return=Z,X)}function G(Z,X,K,ne){var pe=K.type;return pe===k?le(Z,X,K.props.children,ne,K.key):X!==null&&(X.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===$&&Na(pe)===X.type)?(X=d(X,K.props),Zl(X,K),X.return=Z,X):(X=mr(K.type,K.key,K.props,null,Z.mode,ne),Zl(X,K),X.return=Z,X)}function ee(Z,X,K,ne){return X===null||X.tag!==4||X.stateNode.containerInfo!==K.containerInfo||X.stateNode.implementation!==K.implementation?(X=Yo(K,Z.mode,ne),X.return=Z,X):(X=d(X,K.children||[]),X.return=Z,X)}function le(Z,X,K,ne,pe){return X===null||X.tag!==7?(X=ba(K,Z.mode,ne,pe),X.return=Z,X):(X=d(X,K),X.return=Z,X)}function ie(Z,X,K){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=$o(""+X,Z.mode,K),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case C:return K=mr(X.type,X.key,X.props,null,Z.mode,K),Zl(K,X),K.return=Z,K;case N:return X=Yo(X,Z.mode,K),X.return=Z,X;case $:return X=Na(X),ie(Z,X,K)}if(W(X)||T(X))return X=ba(X,Z.mode,K,null),X.return=Z,X;if(typeof X.then=="function")return ie(Z,yr(X),K);if(X.$$typeof===B)return ie(Z,hr(Z,X),K);vr(Z,X)}return null}function te(Z,X,K,ne){var pe=X!==null?X.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return pe!==null?null:L(Z,X,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case C:return K.key===pe?G(Z,X,K,ne):null;case N:return K.key===pe?ee(Z,X,K,ne):null;case $:return K=Na(K),te(Z,X,K,ne)}if(W(K)||T(K))return pe!==null?null:le(Z,X,K,ne,null);if(typeof K.then=="function")return te(Z,X,yr(K),ne);if(K.$$typeof===B)return te(Z,X,hr(Z,K),ne);vr(Z,K)}return null}function ae(Z,X,K,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Z=Z.get(K)||null,L(X,Z,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:return Z=Z.get(ne.key===null?K:ne.key)||null,G(X,Z,ne,pe);case N:return Z=Z.get(ne.key===null?K:ne.key)||null,ee(X,Z,ne,pe);case $:return ne=Na(ne),ae(Z,X,K,ne,pe)}if(W(ne)||T(ne))return Z=Z.get(K)||null,le(X,Z,ne,pe,null);if(typeof ne.then=="function")return ae(Z,X,K,yr(ne),pe);if(ne.$$typeof===B)return ae(Z,X,K,hr(X,ne),pe);vr(X,ne)}return null}function de(Z,X,K,ne){for(var pe=null,Oe=null,ue=X,Ne=X=0,De=null;ue!==null&&Ne<K.length;Ne++){ue.index>Ne?(De=ue,ue=null):De=ue.sibling;var Be=te(Z,ue,K[Ne],ne);if(Be===null){ue===null&&(ue=De);break}t&&ue&&Be.alternate===null&&s(Z,ue),X=m(Be,X,Ne),Oe===null?pe=Be:Oe.sibling=Be,Oe=Be,ue=De}if(Ne===K.length)return l(Z,ue),Re&&bs(Z,Ne),pe;if(ue===null){for(;Ne<K.length;Ne++)ue=ie(Z,K[Ne],ne),ue!==null&&(X=m(ue,X,Ne),Oe===null?pe=ue:Oe.sibling=ue,Oe=ue);return Re&&bs(Z,Ne),pe}for(ue=i(ue);Ne<K.length;Ne++)De=ae(ue,Z,Ne,K[Ne],ne),De!==null&&(t&&De.alternate!==null&&ue.delete(De.key===null?Ne:De.key),X=m(De,X,Ne),Oe===null?pe=De:Oe.sibling=De,Oe=De);return t&&ue.forEach(function(ra){return s(Z,ra)}),Re&&bs(Z,Ne),pe}function he(Z,X,K,ne){if(K==null)throw Error(o(151));for(var pe=null,Oe=null,ue=X,Ne=X=0,De=null,Be=K.next();ue!==null&&!Be.done;Ne++,Be=K.next()){ue.index>Ne?(De=ue,ue=null):De=ue.sibling;var ra=te(Z,ue,Be.value,ne);if(ra===null){ue===null&&(ue=De);break}t&&ue&&ra.alternate===null&&s(Z,ue),X=m(ra,X,Ne),Oe===null?pe=ra:Oe.sibling=ra,Oe=ra,ue=De}if(Be.done)return l(Z,ue),Re&&bs(Z,Ne),pe;if(ue===null){for(;!Be.done;Ne++,Be=K.next())Be=ie(Z,Be.value,ne),Be!==null&&(X=m(Be,X,Ne),Oe===null?pe=Be:Oe.sibling=Be,Oe=Be);return Re&&bs(Z,Ne),pe}for(ue=i(ue);!Be.done;Ne++,Be=K.next())Be=ae(ue,Z,Ne,Be.value,ne),Be!==null&&(t&&Be.alternate!==null&&ue.delete(Be.key===null?Ne:Be.key),X=m(Be,X,Ne),Oe===null?pe=Be:Oe.sibling=Be,Oe=Be);return t&&ue.forEach(function(fv){return s(Z,fv)}),Re&&bs(Z,Ne),pe}function Fe(Z,X,K,ne){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case C:e:{for(var pe=K.key;X!==null;){if(X.key===pe){if(pe=K.type,pe===k){if(X.tag===7){l(Z,X.sibling),ne=d(X,K.props.children),ne.return=Z,Z=ne;break e}}else if(X.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===$&&Na(pe)===X.type){l(Z,X.sibling),ne=d(X,K.props),Zl(ne,K),ne.return=Z,Z=ne;break e}l(Z,X);break}else s(Z,X);X=X.sibling}K.type===k?(ne=ba(K.props.children,Z.mode,ne,K.key),ne.return=Z,Z=ne):(ne=mr(K.type,K.key,K.props,null,Z.mode,ne),Zl(ne,K),ne.return=Z,Z=ne)}return w(Z);case N:e:{for(pe=K.key;X!==null;){if(X.key===pe)if(X.tag===4&&X.stateNode.containerInfo===K.containerInfo&&X.stateNode.implementation===K.implementation){l(Z,X.sibling),ne=d(X,K.children||[]),ne.return=Z,Z=ne;break e}else{l(Z,X);break}else s(Z,X);X=X.sibling}ne=Yo(K,Z.mode,ne),ne.return=Z,Z=ne}return w(Z);case $:return K=Na(K),Fe(Z,X,K,ne)}if(W(K))return de(Z,X,K,ne);if(T(K)){if(pe=T(K),typeof pe!="function")throw Error(o(150));return K=pe.call(K),he(Z,X,K,ne)}if(typeof K.then=="function")return Fe(Z,X,yr(K),ne);if(K.$$typeof===B)return Fe(Z,X,hr(Z,K),ne);vr(Z,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,X!==null&&X.tag===6?(l(Z,X.sibling),ne=d(X,K),ne.return=Z,Z=ne):(l(Z,X),ne=$o(K,Z.mode,ne),ne.return=Z,Z=ne),w(Z)):l(Z,X)}return function(Z,X,K,ne){try{Jl=0;var pe=Fe(Z,X,K,ne);return tl=null,pe}catch(ue){if(ue===el||ue===br)throw ue;var Oe=Tt(29,ue,null,Z.mode);return Oe.lanes=ne,Oe.return=Z,Oe}finally{}}}var Sa=fx(!0),bx=fx(!1),Hs=!1;function Ko(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ec(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(t,s,l){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(ze&2)!==0){var d=i.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),i.pending=s,s=ur(t),ex(t,null,l),s}return dr(t,i,s,l),ur(t)}function Kl(t,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var i=s.lanes;i&=t.pendingLanes,l|=i,s.lanes=l,om(t,l)}}function tc(t,s){var l=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,l===i)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=w:m=m.next=w,l=l.next}while(l!==null);m===null?d=m=s:m=m.next=s}else d=m=s;l={baseState:i.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:i.shared,callbacks:i.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=s:t.next=s,l.lastBaseUpdate=s}var sc=!1;function en(){if(sc){var t=Ka;if(t!==null)throw t}}function tn(t,s,l,i){sc=!1;var d=t.updateQueue;Hs=!1;var m=d.firstBaseUpdate,w=d.lastBaseUpdate,L=d.shared.pending;if(L!==null){d.shared.pending=null;var G=L,ee=G.next;G.next=null,w===null?m=ee:w.next=ee,w=G;var le=t.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==w&&(L===null?le.firstBaseUpdate=ee:L.next=ee,le.lastBaseUpdate=G))}if(m!==null){var ie=d.baseState;w=0,le=ee=G=null,L=m;do{var te=L.lane&-536870913,ae=te!==L.lane;if(ae?(Me&te)===te:(i&te)===te){te!==0&&te===Za&&(sc=!0),le!==null&&(le=le.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var de=t,he=L;te=s;var Fe=l;switch(he.tag){case 1:if(de=he.payload,typeof de=="function"){ie=de.call(Fe,ie,te);break e}ie=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=he.payload,te=typeof de=="function"?de.call(Fe,ie,te):de,te==null)break e;ie=h({},ie,te);break e;case 2:Hs=!0}}te=L.callback,te!==null&&(t.flags|=64,ae&&(t.flags|=8192),ae=d.callbacks,ae===null?d.callbacks=[te]:ae.push(te))}else ae={lane:te,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(ee=le=ae,G=ie):le=le.next=ae,w|=te;if(L=L.next,L===null){if(L=d.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,d.lastBaseUpdate=ae,d.shared.pending=null}}while(!0);le===null&&(G=ie),d.baseState=G,d.firstBaseUpdate=ee,d.lastBaseUpdate=le,m===null&&(d.shared.lanes=0),Qs|=w,t.lanes=w,t.memoizedState=ie}}function gx(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function yx(t,s){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)gx(l[t],s)}var sl=M(null),jr=M(0);function vx(t,s){t=Es,se(jr,t),se(sl,s),Es=t|s.baseLanes}function ac(){se(jr,Es),se(sl,sl.current)}function lc(){Es=jr.current,Q(sl),Q(jr)}var _t=M(null),Gt=null;function Is(t){var s=t.alternate;se(tt,tt.current&1),se(_t,t),Gt===null&&(s===null||sl.current!==null||s.memoizedState!==null)&&(Gt=t)}function nc(t){se(tt,tt.current),se(_t,t),Gt===null&&(Gt=t)}function jx(t){t.tag===22?(se(tt,tt.current),se(_t,t),Gt===null&&(Gt=t)):Gs()}function Gs(){se(tt,tt.current),se(_t,_t.current)}function Ot(t){Q(_t),Gt===t&&(Gt=null),Q(tt)}var tt=M(0);function Nr(t){for(var s=t;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ud(l)||md(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vs=0,ve=null,qe=null,lt=null,wr=!1,al=!1,Ca=!1,Sr=0,sn=0,ll=null,ry=0;function Ze(){throw Error(o(321))}function rc(t,s){if(s===null)return!1;for(var l=0;l<s.length&&l<t.length;l++)if(!Rt(t[l],s[l]))return!1;return!0}function ic(t,s,l,i,d,m){return vs=m,ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,I.H=t===null||t.memoizedState===null?lp:Nc,Ca=!1,m=l(i,d),Ca=!1,al&&(m=wx(s,l,i,d)),Nx(t),m}function Nx(t){I.H=nn;var s=qe!==null&&qe.next!==null;if(vs=0,lt=qe=ve=null,wr=!1,sn=0,ll=null,s)throw Error(o(300));t===null||nt||(t=t.dependencies,t!==null&&pr(t)&&(nt=!0))}function wx(t,s,l,i){ve=t;var d=0;do{if(al&&(ll=null),sn=0,al=!1,25<=d)throw Error(o(301));if(d+=1,lt=qe=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}I.H=np,m=s(l,i)}while(al);return m}function iy(){var t=I.H,s=t.useState()[0];return s=typeof s.then=="function"?an(s):s,t=t.useState()[0],(qe!==null?qe.memoizedState:null)!==t&&(ve.flags|=1024),s}function oc(){var t=Sr!==0;return Sr=0,t}function cc(t,s,l){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~l}function dc(t){if(wr){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}wr=!1}vs=0,lt=qe=ve=null,al=!1,sn=Sr=0,ll=null}function yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?ve.memoizedState=lt=t:lt=lt.next=t,lt}function st(){if(qe===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var s=lt===null?ve.memoizedState:lt.next;if(s!==null)lt=s,qe=t;else{if(t===null)throw ve.alternate===null?Error(o(467)):Error(o(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},lt===null?ve.memoizedState=lt=t:lt=lt.next=t}return lt}function Cr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function an(t){var s=sn;return sn+=1,ll===null&&(ll=[]),t=xx(ll,t,s),s=ve,(lt===null?s.memoizedState:lt.next)===null&&(s=s.alternate,I.H=s===null||s.memoizedState===null?lp:Nc),t}function kr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return an(t);if(t.$$typeof===B)return pt(t)}throw Error(o(438,String(t)))}function uc(t){var s=null,l=ve.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var i=ve.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(s={data:i.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Cr(),ve.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(t),i=0;i<t;i++)l[i]=H;return s.index++,l}function js(t,s){return typeof s=="function"?s(t):s}function Ar(t){var s=st();return mc(s,qe,t)}function mc(t,s,l){var i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=l;var d=t.baseQueue,m=i.pending;if(m!==null){if(d!==null){var w=d.next;d.next=m.next,m.next=w}s.baseQueue=d=m,i.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{s=d.next;var L=w=null,G=null,ee=s,le=!1;do{var ie=ee.lane&-536870913;if(ie!==ee.lane?(Me&ie)===ie:(vs&ie)===ie){var te=ee.revertLane;if(te===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ie===Za&&(le=!0);else if((vs&te)===te){ee=ee.next,te===Za&&(le=!0);continue}else ie={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(L=G=ie,w=m):G=G.next=ie,ve.lanes|=te,Qs|=te;ie=ee.action,Ca&&l(m,ie),m=ee.hasEagerState?ee.eagerState:l(m,ie)}else te={lane:ie,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(L=G=te,w=m):G=G.next=te,ve.lanes|=ie,Qs|=ie;ee=ee.next}while(ee!==null&&ee!==s);if(G===null?w=m:G.next=L,!Rt(m,t.memoizedState)&&(nt=!0,le&&(l=Ka,l!==null)))throw l;t.memoizedState=m,t.baseState=w,t.baseQueue=G,i.lastRenderedState=m}return d===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function xc(t){var s=st(),l=s.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=t;var i=l.dispatch,d=l.pending,m=s.memoizedState;if(d!==null){l.pending=null;var w=d=d.next;do m=t(m,w.action),w=w.next;while(w!==d);Rt(m,s.memoizedState)||(nt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),l.lastRenderedState=m}return[m,i]}function Sx(t,s,l){var i=ve,d=st(),m=Re;if(m){if(l===void 0)throw Error(o(407));l=l()}else l=s();var w=!Rt((qe||d).memoizedState,l);if(w&&(d.memoizedState=l,nt=!0),d=d.queue,fc(Ax.bind(null,i,d,t),[t]),d.getSnapshot!==s||w||lt!==null&&lt.memoizedState.tag&1){if(i.flags|=2048,nl(9,{destroy:void 0},kx.bind(null,i,d,l,s),null),Ve===null)throw Error(o(349));m||(vs&127)!==0||Cx(i,s,l)}return l}function Cx(t,s,l){t.flags|=16384,t={getSnapshot:s,value:l},s=ve.updateQueue,s===null?(s=Cr(),ve.updateQueue=s,s.stores=[t]):(l=s.stores,l===null?s.stores=[t]:l.push(t))}function kx(t,s,l,i){s.value=l,s.getSnapshot=i,Ex(s)&&Mx(t)}function Ax(t,s,l){return l(function(){Ex(s)&&Mx(t)})}function Ex(t){var s=t.getSnapshot;t=t.value;try{var l=s();return!Rt(t,l)}catch{return!0}}function Mx(t){var s=fa(t,2);s!==null&&At(s,t,2)}function pc(t){var s=yt();if(typeof t=="function"){var l=t;if(t=l(),Ca){Bs(!0);try{l()}finally{Bs(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:t},s}function Dx(t,s,l,i){return t.baseState=l,mc(t,qe,typeof i=="function"?i:js)}function oy(t,s,l,i,d){if(Dr(t))throw Error(o(485));if(t=s.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};I.T!==null?l(!0):m.isTransition=!1,i(m),l=s.pending,l===null?(m.next=s.pending=m,Lx(s,m)):(m.next=l.next,s.pending=l.next=m)}}function Lx(t,s){var l=s.action,i=s.payload,d=t.state;if(s.isTransition){var m=I.T,w={};I.T=w;try{var L=l(d,i),G=I.S;G!==null&&G(w,L),Rx(t,s,L)}catch(ee){hc(t,s,ee)}finally{m!==null&&w.types!==null&&(m.types=w.types),I.T=m}}else try{m=l(d,i),Rx(t,s,m)}catch(ee){hc(t,s,ee)}}function Rx(t,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(i){Tx(t,s,i)},function(i){return hc(t,s,i)}):Tx(t,s,l)}function Tx(t,s,l){s.status="fulfilled",s.value=l,_x(s),t.state=l,s=t.pending,s!==null&&(l=s.next,l===s?t.pending=null:(l=l.next,s.next=l,Lx(t,l)))}function hc(t,s,l){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do s.status="rejected",s.reason=l,_x(s),s=s.next;while(s!==i)}t.action=null}function _x(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Ox(t,s){return s}function Bx(t,s){if(Re){var l=Ve.formState;if(l!==null){e:{var i=ve;if(Re){if(Ge){t:{for(var d=Ge,m=It;d.nodeType!==8;){if(!m){d=null;break t}if(d=Xt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Ge=Xt(d.nextSibling),i=d.data==="F!";break e}}Ys(i)}i=!1}i&&(s=l[0])}}return l=yt(),l.memoizedState=l.baseState=s,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ox,lastRenderedState:s},l.queue=i,l=tp.bind(null,ve,i),i.dispatch=l,i=pc(!1),m=jc.bind(null,ve,!1,i.queue),i=yt(),d={state:s,dispatch:null,action:t,pending:null},i.queue=d,l=oy.bind(null,ve,d,m,l),d.dispatch=l,i.memoizedState=t,[s,l,!1]}function zx(t){var s=st();return Ux(s,qe,t)}function Ux(t,s,l){if(s=mc(t,s,Ox)[0],t=Ar(js)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var i=an(s)}catch(w){throw w===el?br:w}else i=s;s=st();var d=s.queue,m=d.dispatch;return l!==s.memoizedState&&(ve.flags|=2048,nl(9,{destroy:void 0},cy.bind(null,d,l),null)),[i,m,t]}function cy(t,s){t.action=s}function Px(t){var s=st(),l=qe;if(l!==null)return Ux(s,l,t);st(),s=s.memoizedState,l=st();var i=l.queue.dispatch;return l.memoizedState=t,[s,i,!1]}function nl(t,s,l,i){return t={tag:t,create:l,deps:i,inst:s,next:null},s=ve.updateQueue,s===null&&(s=Cr(),ve.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=t.next=t:(i=l.next,l.next=t,t.next=i,s.lastEffect=t),t}function $x(){return st().memoizedState}function Er(t,s,l,i){var d=yt();ve.flags|=t,d.memoizedState=nl(1|s,{destroy:void 0},l,i===void 0?null:i)}function Mr(t,s,l,i){var d=st();i=i===void 0?null:i;var m=d.memoizedState.inst;qe!==null&&i!==null&&rc(i,qe.memoizedState.deps)?d.memoizedState=nl(s,m,l,i):(ve.flags|=t,d.memoizedState=nl(1|s,m,l,i))}function Yx(t,s){Er(8390656,8,t,s)}function fc(t,s){Mr(2048,8,t,s)}function dy(t){ve.flags|=4;var s=ve.updateQueue;if(s===null)s=Cr(),ve.updateQueue=s,s.events=[t];else{var l=s.events;l===null?s.events=[t]:l.push(t)}}function qx(t){var s=st().memoizedState;return dy({ref:s,nextImpl:t}),function(){if((ze&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function Hx(t,s){return Mr(4,2,t,s)}function Fx(t,s){return Mr(4,4,t,s)}function Vx(t,s){if(typeof s=="function"){t=t();var l=s(t);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Ix(t,s,l){l=l!=null?l.concat([t]):null,Mr(4,4,Vx.bind(null,s,t),l)}function bc(){}function Gx(t,s){var l=st();s=s===void 0?null:s;var i=l.memoizedState;return s!==null&&rc(s,i[1])?i[0]:(l.memoizedState=[t,s],t)}function Xx(t,s){var l=st();s=s===void 0?null:s;var i=l.memoizedState;if(s!==null&&rc(s,i[1]))return i[0];if(i=t(),Ca){Bs(!0);try{t()}finally{Bs(!1)}}return l.memoizedState=[i,s],i}function gc(t,s,l){return l===void 0||(vs&1073741824)!==0&&(Me&261930)===0?t.memoizedState=s:(t.memoizedState=l,t=Wp(),ve.lanes|=t,Qs|=t,l)}function Wx(t,s,l,i){return Rt(l,s)?l:sl.current!==null?(t=gc(t,l,i),Rt(t,s)||(nt=!0),t):(vs&42)===0||(vs&1073741824)!==0&&(Me&261930)===0?(nt=!0,t.memoizedState=l):(t=Wp(),ve.lanes|=t,Qs|=t,s)}function Qx(t,s,l,i,d){var m=A.p;A.p=m!==0&&8>m?m:8;var w=I.T,L={};I.T=L,jc(t,!1,s,l);try{var G=d(),ee=I.S;if(ee!==null&&ee(L,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var le=ny(G,i);ln(t,s,le,Ut(t))}else ln(t,s,i,Ut(t))}catch(ie){ln(t,s,{then:function(){},status:"rejected",reason:ie},Ut())}finally{A.p=m,w!==null&&L.types!==null&&(w.types=L.types),I.T=w}}function uy(){}function yc(t,s,l,i){if(t.tag!==5)throw Error(o(476));var d=Jx(t).queue;Qx(t,d,s,R,l===null?uy:function(){return Zx(t),l(i)})}function Jx(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:R},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:l},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Zx(t){var s=Jx(t);s.next===null&&(s=t.alternate.memoizedState),ln(t,s.next.queue,{},Ut())}function vc(){return pt(Nn)}function Kx(){return st().memoizedState}function ep(){return st().memoizedState}function my(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var l=Ut();t=Fs(l);var i=Vs(s,t,l);i!==null&&(At(i,s,l),Kl(i,s,l)),s={cache:Wo()},t.payload=s;return}s=s.return}}function xy(t,s,l){var i=Ut();l={lane:i,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Dr(t)?sp(s,l):(l=Uo(t,s,l,i),l!==null&&(At(l,t,i),ap(l,s,i)))}function tp(t,s,l){var i=Ut();ln(t,s,l,i)}function ln(t,s,l,i){var d={lane:i,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Dr(t))sp(s,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var w=s.lastRenderedState,L=m(w,l);if(d.hasEagerState=!0,d.eagerState=L,Rt(L,w))return dr(t,s,d,0),Ve===null&&cr(),!1}catch{}finally{}if(l=Uo(t,s,d,i),l!==null)return At(l,t,i),ap(l,s,i),!0}return!1}function jc(t,s,l,i){if(i={lane:2,revertLane:Kc(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Dr(t)){if(s)throw Error(o(479))}else s=Uo(t,l,i,2),s!==null&&At(s,t,2)}function Dr(t){var s=t.alternate;return t===ve||s!==null&&s===ve}function sp(t,s){al=wr=!0;var l=t.pending;l===null?s.next=s:(s.next=l.next,l.next=s),t.pending=s}function ap(t,s,l){if((l&4194048)!==0){var i=s.lanes;i&=t.pendingLanes,l|=i,s.lanes=l,om(t,l)}}var nn={readContext:pt,use:kr,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};nn.useEffectEvent=Ze;var lp={readContext:pt,use:kr,useCallback:function(t,s){return yt().memoizedState=[t,s===void 0?null:s],t},useContext:pt,useEffect:Yx,useImperativeHandle:function(t,s,l){l=l!=null?l.concat([t]):null,Er(4194308,4,Vx.bind(null,s,t),l)},useLayoutEffect:function(t,s){return Er(4194308,4,t,s)},useInsertionEffect:function(t,s){Er(4,2,t,s)},useMemo:function(t,s){var l=yt();s=s===void 0?null:s;var i=t();if(Ca){Bs(!0);try{t()}finally{Bs(!1)}}return l.memoizedState=[i,s],i},useReducer:function(t,s,l){var i=yt();if(l!==void 0){var d=l(s);if(Ca){Bs(!0);try{l(s)}finally{Bs(!1)}}}else d=s;return i.memoizedState=i.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},i.queue=t,t=t.dispatch=xy.bind(null,ve,t),[i.memoizedState,t]},useRef:function(t){var s=yt();return t={current:t},s.memoizedState=t},useState:function(t){t=pc(t);var s=t.queue,l=tp.bind(null,ve,s);return s.dispatch=l,[t.memoizedState,l]},useDebugValue:bc,useDeferredValue:function(t,s){var l=yt();return gc(l,t,s)},useTransition:function(){var t=pc(!1);return t=Qx.bind(null,ve,t.queue,!0,!1),yt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,l){var i=ve,d=yt();if(Re){if(l===void 0)throw Error(o(407));l=l()}else{if(l=s(),Ve===null)throw Error(o(349));(Me&127)!==0||Cx(i,s,l)}d.memoizedState=l;var m={value:l,getSnapshot:s};return d.queue=m,Yx(Ax.bind(null,i,m,t),[t]),i.flags|=2048,nl(9,{destroy:void 0},kx.bind(null,i,m,l,s),null),l},useId:function(){var t=yt(),s=Ve.identifierPrefix;if(Re){var l=is,i=rs;l=(i&~(1<<32-Lt(i)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Sr++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=ry++,s="_"+s+"r_"+l.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:vc,useFormState:Bx,useActionState:Bx,useOptimistic:function(t){var s=yt();s.memoizedState=s.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=jc.bind(null,ve,!0,l),l.dispatch=s,[t,s]},useMemoCache:uc,useCacheRefresh:function(){return yt().memoizedState=my.bind(null,ve)},useEffectEvent:function(t){var s=yt(),l={impl:t};return s.memoizedState=l,function(){if((ze&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Nc={readContext:pt,use:kr,useCallback:Gx,useContext:pt,useEffect:fc,useImperativeHandle:Ix,useInsertionEffect:Hx,useLayoutEffect:Fx,useMemo:Xx,useReducer:Ar,useRef:$x,useState:function(){return Ar(js)},useDebugValue:bc,useDeferredValue:function(t,s){var l=st();return Wx(l,qe.memoizedState,t,s)},useTransition:function(){var t=Ar(js)[0],s=st().memoizedState;return[typeof t=="boolean"?t:an(t),s]},useSyncExternalStore:Sx,useId:Kx,useHostTransitionStatus:vc,useFormState:zx,useActionState:zx,useOptimistic:function(t,s){var l=st();return Dx(l,qe,t,s)},useMemoCache:uc,useCacheRefresh:ep};Nc.useEffectEvent=qx;var np={readContext:pt,use:kr,useCallback:Gx,useContext:pt,useEffect:fc,useImperativeHandle:Ix,useInsertionEffect:Hx,useLayoutEffect:Fx,useMemo:Xx,useReducer:xc,useRef:$x,useState:function(){return xc(js)},useDebugValue:bc,useDeferredValue:function(t,s){var l=st();return qe===null?gc(l,t,s):Wx(l,qe.memoizedState,t,s)},useTransition:function(){var t=xc(js)[0],s=st().memoizedState;return[typeof t=="boolean"?t:an(t),s]},useSyncExternalStore:Sx,useId:Kx,useHostTransitionStatus:vc,useFormState:Px,useActionState:Px,useOptimistic:function(t,s){var l=st();return qe!==null?Dx(l,qe,t,s):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:uc,useCacheRefresh:ep};np.useEffectEvent=qx;function wc(t,s,l,i){s=t.memoizedState,l=l(i,s),l=l==null?s:h({},s,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Sc={enqueueSetState:function(t,s,l){t=t._reactInternals;var i=Ut(),d=Fs(i);d.payload=s,l!=null&&(d.callback=l),s=Vs(t,d,i),s!==null&&(At(s,t,i),Kl(s,t,i))},enqueueReplaceState:function(t,s,l){t=t._reactInternals;var i=Ut(),d=Fs(i);d.tag=1,d.payload=s,l!=null&&(d.callback=l),s=Vs(t,d,i),s!==null&&(At(s,t,i),Kl(s,t,i))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var l=Ut(),i=Fs(l);i.tag=2,s!=null&&(i.callback=s),s=Vs(t,i,l),s!==null&&(At(s,t,l),Kl(s,t,l))}};function rp(t,s,l,i,d,m,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,m,w):s.prototype&&s.prototype.isPureReactComponent?!Vl(l,i)||!Vl(d,m):!0}function ip(t,s,l,i){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,i),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,i),s.state!==t&&Sc.enqueueReplaceState(s,s.state,null)}function ka(t,s){var l=s;if("ref"in s){l={};for(var i in s)i!=="ref"&&(l[i]=s[i])}if(t=t.defaultProps){l===s&&(l=h({},l));for(var d in t)l[d]===void 0&&(l[d]=t[d])}return l}function op(t){or(t)}function cp(t){console.error(t)}function dp(t){or(t)}function Lr(t,s){try{var l=t.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(i){setTimeout(function(){throw i})}}function up(t,s,l){try{var i=t.onCaughtError;i(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Cc(t,s,l){return l=Fs(l),l.tag=3,l.payload={element:null},l.callback=function(){Lr(t,s)},l}function mp(t){return t=Fs(t),t.tag=3,t}function xp(t,s,l,i){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=i.value;t.payload=function(){return d(m)},t.callback=function(){up(s,l,i)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){up(s,l,i),typeof d!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var L=i.stack;this.componentDidCatch(i.value,{componentStack:L!==null?L:""})})}function py(t,s,l,i,d){if(l.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(s=l.alternate,s!==null&&Ja(s,l,d,!0),l=_t.current,l!==null){switch(l.tag){case 31:case 13:return Gt===null?Hr():l.alternate===null&&Ke===0&&(Ke=3),l.flags&=-257,l.flags|=65536,l.lanes=d,i===gr?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([i]):s.add(i),Qc(t,i,d)),!1;case 22:return l.flags|=65536,i===gr?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([i])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([i]):l.add(i)),Qc(t,i,d)),!1}throw Error(o(435,l.tag))}return Qc(t,i,d),Hr(),!1}if(Re)return s=_t.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,i!==Fo&&(t=Error(o(422),{cause:i}),Xl(Ht(t,l)))):(i!==Fo&&(s=Error(o(423),{cause:i}),Xl(Ht(s,l))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,i=Ht(i,l),d=Cc(t.stateNode,i,d),tc(t,d),Ke!==4&&(Ke=2)),!1;var m=Error(o(520),{cause:i});if(m=Ht(m,l),pn===null?pn=[m]:pn.push(m),Ke!==4&&(Ke=2),s===null)return!0;i=Ht(i,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,t=d&-d,l.lanes|=t,t=Cc(l.stateNode,i,t),tc(l,t),!1;case 1:if(s=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Js===null||!Js.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=mp(d),xp(d,t,l,i),tc(l,d),!1}l=l.return}while(l!==null);return!1}var kc=Error(o(461)),nt=!1;function ht(t,s,l,i){s.child=t===null?bx(s,null,l,i):Sa(s,t.child,l,i)}function pp(t,s,l,i,d){l=l.render;var m=s.ref;if("ref"in i){var w={};for(var L in i)L!=="ref"&&(w[L]=i[L])}else w=i;return va(s),i=ic(t,s,l,w,m,d),L=oc(),t!==null&&!nt?(cc(t,s,d),Ns(t,s,d)):(Re&&L&&qo(s),s.flags|=1,ht(t,s,i,d),s.child)}function hp(t,s,l,i,d){if(t===null){var m=l.type;return typeof m=="function"&&!Po(m)&&m.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=m,fp(t,s,m,i,d)):(t=mr(l.type,null,i,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!_c(t,d)){var w=m.memoizedProps;if(l=l.compare,l=l!==null?l:Vl,l(w,i)&&t.ref===s.ref)return Ns(t,s,d)}return s.flags|=1,t=fs(m,i),t.ref=s.ref,t.return=s,s.child=t}function fp(t,s,l,i,d){if(t!==null){var m=t.memoizedProps;if(Vl(m,i)&&t.ref===s.ref)if(nt=!1,s.pendingProps=i=m,_c(t,d))(t.flags&131072)!==0&&(nt=!0);else return s.lanes=t.lanes,Ns(t,s,d)}return Ac(t,s,l,i,d)}function bp(t,s,l,i){var d=i.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,t!==null){for(i=s.child=t.child,d=0;i!==null;)d=d|i.lanes|i.childLanes,i=i.sibling;i=d&~m}else i=0,s.child=null;return gp(t,s,m,l,i)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&fr(s,m!==null?m.cachePool:null),m!==null?vx(s,m):ac(),jx(s);else return i=s.lanes=536870912,gp(t,s,m!==null?m.baseLanes|l:l,l,i)}else m!==null?(fr(s,m.cachePool),vx(s,m),Gs(),s.memoizedState=null):(t!==null&&fr(s,null),ac(),Gs());return ht(t,s,d,l),s.child}function rn(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function gp(t,s,l,i,d){var m=Jo();return m=m===null?null:{parent:at._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},t!==null&&fr(s,null),ac(),jx(s),t!==null&&Ja(t,s,i,!0),s.childLanes=d,null}function Rr(t,s){return s=_r({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function yp(t,s,l){return Sa(s,t.child,null,l),t=Rr(s,s.pendingProps),t.flags|=2,Ot(s),s.memoizedState=null,t}function hy(t,s,l){var i=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Re){if(i.mode==="hidden")return t=Rr(s,i),s.lanes=536870912,rn(null,t);if(nc(s),(t=Ge)?(t=Lh(t,It),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ps!==null?{id:rs,overflow:is}:null,retryLane:536870912,hydrationErrors:null},l=sx(t),l.return=s,s.child=l,xt=s,Ge=null)):t=null,t===null)throw Ys(s);return s.lanes=536870912,null}return Rr(s,i)}var m=t.memoizedState;if(m!==null){var w=m.dehydrated;if(nc(s),d)if(s.flags&256)s.flags&=-257,s=yp(t,s,l);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(o(558));else if(nt||Ja(t,s,l,!1),d=(l&t.childLanes)!==0,nt||d){if(i=Ve,i!==null&&(w=cm(i,l),w!==0&&w!==m.retryLane))throw m.retryLane=w,fa(t,w),At(i,t,w),kc;Hr(),s=yp(t,s,l)}else t=m.treeContext,Ge=Xt(w.nextSibling),xt=s,Re=!0,$s=null,It=!1,t!==null&&nx(s,t),s=Rr(s,i),s.flags|=4096;return s}return t=fs(t.child,{mode:i.mode,children:i.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Tr(t,s){var l=s.ref;if(l===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(t===null||t.ref!==l)&&(s.flags|=4194816)}}function Ac(t,s,l,i,d){return va(s),l=ic(t,s,l,i,void 0,d),i=oc(),t!==null&&!nt?(cc(t,s,d),Ns(t,s,d)):(Re&&i&&qo(s),s.flags|=1,ht(t,s,l,d),s.child)}function vp(t,s,l,i,d,m){return va(s),s.updateQueue=null,l=wx(s,i,l,d),Nx(t),i=oc(),t!==null&&!nt?(cc(t,s,m),Ns(t,s,m)):(Re&&i&&qo(s),s.flags|=1,ht(t,s,l,m),s.child)}function jp(t,s,l,i,d){if(va(s),s.stateNode===null){var m=Ga,w=l.contextType;typeof w=="object"&&w!==null&&(m=pt(w)),m=new l(i,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Sc,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=i,m.state=s.memoizedState,m.refs={},Ko(s),w=l.contextType,m.context=typeof w=="object"&&w!==null?pt(w):Ga,m.state=s.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(wc(s,l,w,i),m.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&Sc.enqueueReplaceState(m,m.state,null),tn(s,i,m,d),en(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),i=!0}else if(t===null){m=s.stateNode;var L=s.memoizedProps,G=ka(l,L);m.props=G;var ee=m.context,le=l.contextType;w=Ga,typeof le=="object"&&le!==null&&(w=pt(le));var ie=l.getDerivedStateFromProps;le=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",L=s.pendingProps!==L,le||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(L||ee!==w)&&ip(s,m,i,w),Hs=!1;var te=s.memoizedState;m.state=te,tn(s,i,m,d),en(),ee=s.memoizedState,L||te!==ee||Hs?(typeof ie=="function"&&(wc(s,l,ie,i),ee=s.memoizedState),(G=Hs||rp(s,l,G,i,te,ee,w))?(le||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=i,s.memoizedState=ee),m.props=i,m.state=ee,m.context=w,i=G):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),i=!1)}else{m=s.stateNode,ec(t,s),w=s.memoizedProps,le=ka(l,w),m.props=le,ie=s.pendingProps,te=m.context,ee=l.contextType,G=Ga,typeof ee=="object"&&ee!==null&&(G=pt(ee)),L=l.getDerivedStateFromProps,(ee=typeof L=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==ie||te!==G)&&ip(s,m,i,G),Hs=!1,te=s.memoizedState,m.state=te,tn(s,i,m,d),en();var ae=s.memoizedState;w!==ie||te!==ae||Hs||t!==null&&t.dependencies!==null&&pr(t.dependencies)?(typeof L=="function"&&(wc(s,l,L,i),ae=s.memoizedState),(le=Hs||rp(s,l,le,i,te,ae,G)||t!==null&&t.dependencies!==null&&pr(t.dependencies))?(ee||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(i,ae,G),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(i,ae,G)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===t.memoizedProps&&te===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&te===t.memoizedState||(s.flags|=1024),s.memoizedProps=i,s.memoizedState=ae),m.props=i,m.state=ae,m.context=G,i=le):(typeof m.componentDidUpdate!="function"||w===t.memoizedProps&&te===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&te===t.memoizedState||(s.flags|=1024),i=!1)}return m=i,Tr(t,s),i=(s.flags&128)!==0,m||i?(m=s.stateNode,l=i&&typeof l.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&i?(s.child=Sa(s,t.child,null,d),s.child=Sa(s,null,l,d)):ht(t,s,l,d),s.memoizedState=m.state,t=s.child):t=Ns(t,s,d),t}function Np(t,s,l,i){return ga(),s.flags|=256,ht(t,s,l,i),s.child}var Ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mc(t){return{baseLanes:t,cachePool:ux()}}function Dc(t,s,l){return t=t!==null?t.childLanes&~l:0,s&&(t|=zt),t}function wp(t,s,l){var i=s.pendingProps,d=!1,m=(s.flags&128)!==0,w;if((w=m)||(w=t!==null&&t.memoizedState===null?!1:(tt.current&2)!==0),w&&(d=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,t===null){if(Re){if(d?Is(s):Gs(),(t=Ge)?(t=Lh(t,It),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ps!==null?{id:rs,overflow:is}:null,retryLane:536870912,hydrationErrors:null},l=sx(t),l.return=s,s.child=l,xt=s,Ge=null)):t=null,t===null)throw Ys(s);return md(t)?s.lanes=32:s.lanes=536870912,null}var L=i.children;return i=i.fallback,d?(Gs(),d=s.mode,L=_r({mode:"hidden",children:L},d),i=ba(i,d,l,null),L.return=s,i.return=s,L.sibling=i,s.child=L,i=s.child,i.memoizedState=Mc(l),i.childLanes=Dc(t,w,l),s.memoizedState=Ec,rn(null,i)):(Is(s),Lc(s,L))}var G=t.memoizedState;if(G!==null&&(L=G.dehydrated,L!==null)){if(m)s.flags&256?(Is(s),s.flags&=-257,s=Rc(t,s,l)):s.memoizedState!==null?(Gs(),s.child=t.child,s.flags|=128,s=null):(Gs(),L=i.fallback,d=s.mode,i=_r({mode:"visible",children:i.children},d),L=ba(L,d,l,null),L.flags|=2,i.return=s,L.return=s,i.sibling=L,s.child=i,Sa(s,t.child,null,l),i=s.child,i.memoizedState=Mc(l),i.childLanes=Dc(t,w,l),s.memoizedState=Ec,s=rn(null,i));else if(Is(s),md(L)){if(w=L.nextSibling&&L.nextSibling.dataset,w)var ee=w.dgst;w=ee,i=Error(o(419)),i.stack="",i.digest=w,Xl({value:i,source:null,stack:null}),s=Rc(t,s,l)}else if(nt||Ja(t,s,l,!1),w=(l&t.childLanes)!==0,nt||w){if(w=Ve,w!==null&&(i=cm(w,l),i!==0&&i!==G.retryLane))throw G.retryLane=i,fa(t,i),At(w,t,i),kc;ud(L)||Hr(),s=Rc(t,s,l)}else ud(L)?(s.flags|=192,s.child=t.child,s=null):(t=G.treeContext,Ge=Xt(L.nextSibling),xt=s,Re=!0,$s=null,It=!1,t!==null&&nx(s,t),s=Lc(s,i.children),s.flags|=4096);return s}return d?(Gs(),L=i.fallback,d=s.mode,G=t.child,ee=G.sibling,i=fs(G,{mode:"hidden",children:i.children}),i.subtreeFlags=G.subtreeFlags&65011712,ee!==null?L=fs(ee,L):(L=ba(L,d,l,null),L.flags|=2),L.return=s,i.return=s,i.sibling=L,s.child=i,rn(null,i),i=s.child,L=t.child.memoizedState,L===null?L=Mc(l):(d=L.cachePool,d!==null?(G=at._currentValue,d=d.parent!==G?{parent:G,pool:G}:d):d=ux(),L={baseLanes:L.baseLanes|l,cachePool:d}),i.memoizedState=L,i.childLanes=Dc(t,w,l),s.memoizedState=Ec,rn(t.child,i)):(Is(s),l=t.child,t=l.sibling,l=fs(l,{mode:"visible",children:i.children}),l.return=s,l.sibling=null,t!==null&&(w=s.deletions,w===null?(s.deletions=[t],s.flags|=16):w.push(t)),s.child=l,s.memoizedState=null,l)}function Lc(t,s){return s=_r({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function _r(t,s){return t=Tt(22,t,null,s),t.lanes=0,t}function Rc(t,s,l){return Sa(s,t.child,null,l),t=Lc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Sp(t,s,l){t.lanes|=s;var i=t.alternate;i!==null&&(i.lanes|=s),Go(t.return,s,l)}function Tc(t,s,l,i,d,m){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:i,tail:l,tailMode:d,treeForkCount:m}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=i,w.tail=l,w.tailMode=d,w.treeForkCount=m)}function Cp(t,s,l){var i=s.pendingProps,d=i.revealOrder,m=i.tail;i=i.children;var w=tt.current,L=(w&2)!==0;if(L?(w=w&1|2,s.flags|=128):w&=1,se(tt,w),ht(t,s,i,l),i=Re?Gl:0,!L&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sp(t,l,s);else if(t.tag===19)Sp(t,l,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(l=s.child,d=null;l!==null;)t=l.alternate,t!==null&&Nr(t)===null&&(d=l),l=l.sibling;l=d,l===null?(d=s.child,s.child=null):(d=l.sibling,l.sibling=null),Tc(s,!1,d,l,m,i);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&Nr(t)===null){s.child=d;break}t=d.sibling,d.sibling=l,l=d,d=t}Tc(s,!0,l,null,m,i);break;case"together":Tc(s,!1,null,null,void 0,i);break;default:s.memoizedState=null}return s.child}function Ns(t,s,l){if(t!==null&&(s.dependencies=t.dependencies),Qs|=s.lanes,(l&s.childLanes)===0)if(t!==null){if(Ja(t,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,l=fs(t,t.pendingProps),s.child=l,l.return=s;t.sibling!==null;)t=t.sibling,l=l.sibling=fs(t,t.pendingProps),l.return=s;l.sibling=null}return s.child}function _c(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&pr(t)))}function fy(t,s,l){switch(s.tag){case 3:Ye(s,s.stateNode.containerInfo),qs(s,at,t.memoizedState.cache),ga();break;case 27:case 5:Os(s);break;case 4:Ye(s,s.stateNode.containerInfo);break;case 10:qs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,nc(s),null;break;case 13:var i=s.memoizedState;if(i!==null)return i.dehydrated!==null?(Is(s),s.flags|=128,null):(l&s.child.childLanes)!==0?wp(t,s,l):(Is(s),t=Ns(t,s,l),t!==null?t.sibling:null);Is(s);break;case 19:var d=(t.flags&128)!==0;if(i=(l&s.childLanes)!==0,i||(Ja(t,s,l,!1),i=(l&s.childLanes)!==0),d){if(i)return Cp(t,s,l);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(tt,tt.current),i)break;return null;case 22:return s.lanes=0,bp(t,s,l,s.pendingProps);case 24:qs(s,at,t.memoizedState.cache)}return Ns(t,s,l)}function kp(t,s,l){if(t!==null)if(t.memoizedProps!==s.pendingProps)nt=!0;else{if(!_c(t,l)&&(s.flags&128)===0)return nt=!1,fy(t,s,l);nt=(t.flags&131072)!==0}else nt=!1,Re&&(s.flags&1048576)!==0&&lx(s,Gl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var i=s.pendingProps;if(t=Na(s.elementType),s.type=t,typeof t=="function")Po(t)?(i=ka(t,i),s.tag=1,s=jp(null,s,t,i,l)):(s.tag=0,s=Ac(null,s,t,i,l));else{if(t!=null){var d=t.$$typeof;if(d===D){s.tag=11,s=pp(null,s,t,i,l);break e}else if(d===z){s.tag=14,s=hp(null,s,t,i,l);break e}}throw s=Y(t)||t,Error(o(306,s,""))}}return s;case 0:return Ac(t,s,s.type,s.pendingProps,l);case 1:return i=s.type,d=ka(i,s.pendingProps),jp(t,s,i,d,l);case 3:e:{if(Ye(s,s.stateNode.containerInfo),t===null)throw Error(o(387));i=s.pendingProps;var m=s.memoizedState;d=m.element,ec(t,s),tn(s,i,null,l);var w=s.memoizedState;if(i=w.cache,qs(s,at,i),i!==m.cache&&Xo(s,[at],l,!0),en(),i=w.element,m.isDehydrated)if(m={element:i,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Np(t,s,i,l);break e}else if(i!==d){d=Ht(Error(o(424)),s),Xl(d),s=Np(t,s,i,l);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ge=Xt(t.firstChild),xt=s,Re=!0,$s=null,It=!0,l=bx(s,null,i,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ga(),i===d){s=Ns(t,s,l);break e}ht(t,s,i,l)}s=s.child}return s;case 26:return Tr(t,s),t===null?(l=zh(s.type,null,s.pendingProps,null))?s.memoizedState=l:Re||(l=s.type,t=s.pendingProps,i=Qr(oe.current).createElement(l),i[mt]=s,i[jt]=t,ft(i,l,t),dt(i),s.stateNode=i):s.memoizedState=zh(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Os(s),t===null&&Re&&(i=s.stateNode=_h(s.type,s.pendingProps,oe.current),xt=s,It=!0,d=Ge,ta(s.type)?(xd=d,Ge=Xt(i.firstChild)):Ge=d),ht(t,s,s.pendingProps.children,l),Tr(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Re&&((d=i=Ge)&&(i=Iy(i,s.type,s.pendingProps,It),i!==null?(s.stateNode=i,xt=s,Ge=Xt(i.firstChild),It=!1,d=!0):d=!1),d||Ys(s)),Os(s),d=s.type,m=s.pendingProps,w=t!==null?t.memoizedProps:null,i=m.children,od(d,m)?i=null:w!==null&&od(d,w)&&(s.flags|=32),s.memoizedState!==null&&(d=ic(t,s,iy,null,null,l),Nn._currentValue=d),Tr(t,s),ht(t,s,i,l),s.child;case 6:return t===null&&Re&&((t=l=Ge)&&(l=Gy(l,s.pendingProps,It),l!==null?(s.stateNode=l,xt=s,Ge=null,t=!0):t=!1),t||Ys(s)),null;case 13:return wp(t,s,l);case 4:return Ye(s,s.stateNode.containerInfo),i=s.pendingProps,t===null?s.child=Sa(s,null,i,l):ht(t,s,i,l),s.child;case 11:return pp(t,s,s.type,s.pendingProps,l);case 7:return ht(t,s,s.pendingProps,l),s.child;case 8:return ht(t,s,s.pendingProps.children,l),s.child;case 12:return ht(t,s,s.pendingProps.children,l),s.child;case 10:return i=s.pendingProps,qs(s,s.type,i.value),ht(t,s,i.children,l),s.child;case 9:return d=s.type._context,i=s.pendingProps.children,va(s),d=pt(d),i=i(d),s.flags|=1,ht(t,s,i,l),s.child;case 14:return hp(t,s,s.type,s.pendingProps,l);case 15:return fp(t,s,s.type,s.pendingProps,l);case 19:return Cp(t,s,l);case 31:return hy(t,s,l);case 22:return bp(t,s,l,s.pendingProps);case 24:return va(s),i=pt(at),t===null?(d=Jo(),d===null&&(d=Ve,m=Wo(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),s.memoizedState={parent:i,cache:d},Ko(s),qs(s,at,d)):((t.lanes&l)!==0&&(ec(t,s),tn(s,null,null,l),en()),d=t.memoizedState,m=s.memoizedState,d.parent!==i?(d={parent:i,cache:i},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),qs(s,at,i)):(i=m.cache,qs(s,at,i),i!==d.cache&&Xo(s,[at],l,!0))),ht(t,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function ws(t){t.flags|=4}function Oc(t,s,l,i,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Kp())t.flags|=8192;else throw wa=gr,Zo}else t.flags&=-16777217}function Ap(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qh(s))if(Kp())t.flags|=8192;else throw wa=gr,Zo}function Or(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?rm():536870912,t.lanes|=s,cl|=s)}function on(t,s){if(!Re)switch(t.tailMode){case"hidden":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var i=null;l!==null;)l.alternate!==null&&(i=l),l=l.sibling;i===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Xe(t){var s=t.alternate!==null&&t.alternate.child===t.child,l=0,i=0;if(s)for(var d=t.child;d!==null;)l|=d.lanes|d.childLanes,i|=d.subtreeFlags&65011712,i|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)l|=d.lanes|d.childLanes,i|=d.subtreeFlags,i|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=i,t.childLanes=l,s}function by(t,s,l){var i=s.pendingProps;switch(Ho(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(s),null;case 1:return Xe(s),null;case 3:return l=s.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),ys(at),be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Qa(s)?ws(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Vo())),Xe(s),null;case 26:var d=s.type,m=s.memoizedState;return t===null?(ws(s),m!==null?(Xe(s),Ap(s,m)):(Xe(s),Oc(s,d,null,i,l))):m?m!==t.memoizedState?(ws(s),Xe(s),Ap(s,m)):(Xe(s),s.flags&=-16777217):(t=t.memoizedProps,t!==i&&ws(s),Xe(s),Oc(s,d,t,i,l)),null;case 27:if(ns(s),l=oe.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==i&&ws(s);else{if(!i){if(s.stateNode===null)throw Error(o(166));return Xe(s),null}t=V.current,Qa(s)?rx(s):(t=_h(d,i,l),s.stateNode=t,ws(s))}return Xe(s),null;case 5:if(ns(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==i&&ws(s);else{if(!i){if(s.stateNode===null)throw Error(o(166));return Xe(s),null}if(m=V.current,Qa(s))rx(s);else{var w=Qr(oe.current);switch(m){case 1:m=w.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=w.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=w.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof i.is=="string"?w.createElement("select",{is:i.is}):w.createElement("select"),i.multiple?m.multiple=!0:i.size&&(m.size=i.size);break;default:m=typeof i.is=="string"?w.createElement(d,{is:i.is}):w.createElement(d)}}m[mt]=s,m[jt]=i;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)m.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=m;e:switch(ft(m,d,i),d){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ws(s)}}return Xe(s),Oc(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,l),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==i&&ws(s);else{if(typeof i!="string"&&s.stateNode===null)throw Error(o(166));if(t=oe.current,Qa(s)){if(t=s.stateNode,l=s.memoizedProps,i=null,d=xt,d!==null)switch(d.tag){case 27:case 5:i=d.memoizedProps}t[mt]=s,t=!!(t.nodeValue===l||i!==null&&i.suppressHydrationWarning===!0||wh(t.nodeValue,l)),t||Ys(s,!0)}else t=Qr(t).createTextNode(i),t[mt]=s,s.stateNode=t}return Xe(s),null;case 31:if(l=s.memoizedState,t===null||t.memoizedState!==null){if(i=Qa(s),l!==null){if(t===null){if(!i)throw Error(o(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[mt]=s}else ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),t=!1}else l=Vo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return s.flags&256?(Ot(s),s):(Ot(s),null);if((s.flags&128)!==0)throw Error(o(558))}return Xe(s),null;case 13:if(i=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Qa(s),i!==null&&i.dehydrated!==null){if(t===null){if(!d)throw Error(o(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[mt]=s}else ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),d=!1}else d=Vo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Ot(s),s):(Ot(s),null)}return Ot(s),(s.flags&128)!==0?(s.lanes=l,s):(l=i!==null,t=t!==null&&t.memoizedState!==null,l&&(i=s.child,d=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(d=i.alternate.memoizedState.cachePool.pool),m=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(m=i.memoizedState.cachePool.pool),m!==d&&(i.flags|=2048)),l!==t&&l&&(s.child.flags|=8192),Or(s,s.updateQueue),Xe(s),null);case 4:return be(),t===null&&ad(s.stateNode.containerInfo),Xe(s),null;case 10:return ys(s.type),Xe(s),null;case 19:if(Q(tt),i=s.memoizedState,i===null)return Xe(s),null;if(d=(s.flags&128)!==0,m=i.rendering,m===null)if(d)on(i,!1);else{if(Ke!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Nr(t),m!==null){for(s.flags|=128,on(i,!1),t=m.updateQueue,s.updateQueue=t,Or(s,t),s.subtreeFlags=0,t=l,l=s.child;l!==null;)tx(l,t),l=l.sibling;return se(tt,tt.current&1|2),Re&&bs(s,i.treeForkCount),s.child}t=t.sibling}i.tail!==null&&Mt()>$r&&(s.flags|=128,d=!0,on(i,!1),s.lanes=4194304)}else{if(!d)if(t=Nr(m),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,Or(s,t),on(i,!0),i.tail===null&&i.tailMode==="hidden"&&!m.alternate&&!Re)return Xe(s),null}else 2*Mt()-i.renderingStartTime>$r&&l!==536870912&&(s.flags|=128,d=!0,on(i,!1),s.lanes=4194304);i.isBackwards?(m.sibling=s.child,s.child=m):(t=i.last,t!==null?t.sibling=m:s.child=m,i.last=m)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Mt(),t.sibling=null,l=tt.current,se(tt,d?l&1|2:l&1),Re&&bs(s,i.treeForkCount),t):(Xe(s),null);case 22:case 23:return Ot(s),lc(),i=s.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(s.flags|=8192):i&&(s.flags|=8192),i?(l&536870912)!==0&&(s.flags&128)===0&&(Xe(s),s.subtreeFlags&6&&(s.flags|=8192)):Xe(s),l=s.updateQueue,l!==null&&Or(s,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(s.flags|=2048),t!==null&&Q(ja),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ys(at),Xe(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function gy(t,s){switch(Ho(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ys(at),be(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ns(s),null;case 31:if(s.memoizedState!==null){if(Ot(s),s.alternate===null)throw Error(o(340));ga()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Ot(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));ga()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Q(tt),null;case 4:return be(),null;case 10:return ys(s.type),null;case 22:case 23:return Ot(s),lc(),t!==null&&Q(ja),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ys(at),null;case 25:return null;default:return null}}function Ep(t,s){switch(Ho(s),s.tag){case 3:ys(at),be();break;case 26:case 27:case 5:ns(s);break;case 4:be();break;case 31:s.memoizedState!==null&&Ot(s);break;case 13:Ot(s);break;case 19:Q(tt);break;case 10:ys(s.type);break;case 22:case 23:Ot(s),lc(),t!==null&&Q(ja);break;case 24:ys(at)}}function cn(t,s){try{var l=s.updateQueue,i=l!==null?l.lastEffect:null;if(i!==null){var d=i.next;l=d;do{if((l.tag&t)===t){i=void 0;var m=l.create,w=l.inst;i=m(),w.destroy=i}l=l.next}while(l!==d)}}catch(L){$e(s,s.return,L)}}function Xs(t,s,l){try{var i=s.updateQueue,d=i!==null?i.lastEffect:null;if(d!==null){var m=d.next;i=m;do{if((i.tag&t)===t){var w=i.inst,L=w.destroy;if(L!==void 0){w.destroy=void 0,d=s;var G=l,ee=L;try{ee()}catch(le){$e(d,G,le)}}}i=i.next}while(i!==m)}}catch(le){$e(s,s.return,le)}}function Mp(t){var s=t.updateQueue;if(s!==null){var l=t.stateNode;try{yx(s,l)}catch(i){$e(t,t.return,i)}}}function Dp(t,s,l){l.props=ka(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(i){$e(t,s,i)}}function dn(t,s){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof l=="function"?t.refCleanup=l(i):l.current=i}}catch(d){$e(t,s,d)}}function os(t,s){var l=t.ref,i=t.refCleanup;if(l!==null)if(typeof i=="function")try{i()}catch(d){$e(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){$e(t,s,d)}else l.current=null}function Lp(t){var s=t.type,l=t.memoizedProps,i=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break e;case"img":l.src?i.src=l.src:l.srcSet&&(i.srcset=l.srcSet)}}catch(d){$e(t,t.return,d)}}function Bc(t,s,l){try{var i=t.stateNode;$y(i,t.type,l,s),i[jt]=s}catch(d){$e(t,t.return,d)}}function Rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ta(t.type)||t.tag===4}function zc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uc(t,s,l){var i=t.tag;if(i===5||i===6)t=t.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(t),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ps));else if(i!==4&&(i===27&&ta(t.type)&&(l=t.stateNode,s=null),t=t.child,t!==null))for(Uc(t,s,l),t=t.sibling;t!==null;)Uc(t,s,l),t=t.sibling}function Br(t,s,l){var i=t.tag;if(i===5||i===6)t=t.stateNode,s?l.insertBefore(t,s):l.appendChild(t);else if(i!==4&&(i===27&&ta(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Br(t,s,l),t=t.sibling;t!==null;)Br(t,s,l),t=t.sibling}function Tp(t){var s=t.stateNode,l=t.memoizedProps;try{for(var i=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);ft(s,i,l),s[mt]=t,s[jt]=l}catch(m){$e(t,t.return,m)}}var Ss=!1,rt=!1,Pc=!1,_p=typeof WeakSet=="function"?WeakSet:Set,ut=null;function yy(t,s){if(t=t.containerInfo,rd=ai,t=Im(t),Ro(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var i=l.getSelection&&l.getSelection();if(i&&i.rangeCount!==0){l=i.anchorNode;var d=i.anchorOffset,m=i.focusNode;i=i.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var w=0,L=-1,G=-1,ee=0,le=0,ie=t,te=null;t:for(;;){for(var ae;ie!==l||d!==0&&ie.nodeType!==3||(L=w+d),ie!==m||i!==0&&ie.nodeType!==3||(G=w+i),ie.nodeType===3&&(w+=ie.nodeValue.length),(ae=ie.firstChild)!==null;)te=ie,ie=ae;for(;;){if(ie===t)break t;if(te===l&&++ee===d&&(L=w),te===m&&++le===i&&(G=w),(ae=ie.nextSibling)!==null)break;ie=te,te=ie.parentNode}ie=ae}l=L===-1||G===-1?null:{start:L,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(id={focusedElem:t,selectionRange:l},ai=!1,ut=s;ut!==null;)if(s=ut,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ut=t;else for(;ut!==null;){switch(s=ut,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)d=t[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,l=s,d=m.memoizedProps,m=m.memoizedState,i=l.stateNode;try{var de=ka(l.type,d);t=i.getSnapshotBeforeUpdate(de,m),i.__reactInternalSnapshotBeforeUpdate=t}catch(he){$e(l,l.return,he)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,l=t.nodeType,l===9)dd(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,ut=t;break}ut=s.return}}function Op(t,s,l){var i=l.flags;switch(l.tag){case 0:case 11:case 15:ks(t,l),i&4&&cn(5,l);break;case 1:if(ks(t,l),i&4)if(t=l.stateNode,s===null)try{t.componentDidMount()}catch(w){$e(l,l.return,w)}else{var d=ka(l.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(w){$e(l,l.return,w)}}i&64&&Mp(l),i&512&&dn(l,l.return);break;case 3:if(ks(t,l),i&64&&(t=l.updateQueue,t!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{yx(t,s)}catch(w){$e(l,l.return,w)}}break;case 27:s===null&&i&4&&Tp(l);case 26:case 5:ks(t,l),s===null&&i&4&&Lp(l),i&512&&dn(l,l.return);break;case 12:ks(t,l);break;case 31:ks(t,l),i&4&&Up(t,l);break;case 13:ks(t,l),i&4&&Pp(t,l),i&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=Ey.bind(null,l),Xy(t,l))));break;case 22:if(i=l.memoizedState!==null||Ss,!i){s=s!==null&&s.memoizedState!==null||rt,d=Ss;var m=rt;Ss=i,(rt=s)&&!m?As(t,l,(l.subtreeFlags&8772)!==0):ks(t,l),Ss=d,rt=m}break;case 30:break;default:ks(t,l)}}function Bp(t){var s=t.alternate;s!==null&&(t.alternate=null,Bp(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&ho(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var We=null,wt=!1;function Cs(t,s,l){for(l=l.child;l!==null;)zp(t,s,l),l=l.sibling}function zp(t,s,l){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Tl,l)}catch{}switch(l.tag){case 26:rt||os(l,s),Cs(t,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:rt||os(l,s);var i=We,d=wt;ta(l.type)&&(We=l.stateNode,wt=!1),Cs(t,s,l),yn(l.stateNode),We=i,wt=d;break;case 5:rt||os(l,s);case 6:if(i=We,d=wt,We=null,Cs(t,s,l),We=i,wt=d,We!==null)if(wt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(l.stateNode)}catch(m){$e(l,s,m)}else try{We.removeChild(l.stateNode)}catch(m){$e(l,s,m)}break;case 18:We!==null&&(wt?(t=We,Mh(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),bl(t)):Mh(We,l.stateNode));break;case 4:i=We,d=wt,We=l.stateNode.containerInfo,wt=!0,Cs(t,s,l),We=i,wt=d;break;case 0:case 11:case 14:case 15:Xs(2,l,s),rt||Xs(4,l,s),Cs(t,s,l);break;case 1:rt||(os(l,s),i=l.stateNode,typeof i.componentWillUnmount=="function"&&Dp(l,s,i)),Cs(t,s,l);break;case 21:Cs(t,s,l);break;case 22:rt=(i=rt)||l.memoizedState!==null,Cs(t,s,l),rt=i;break;default:Cs(t,s,l)}}function Up(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{bl(t)}catch(l){$e(s,s.return,l)}}}function Pp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{bl(t)}catch(l){$e(s,s.return,l)}}function vy(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new _p),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new _p),s;default:throw Error(o(435,t.tag))}}function zr(t,s){var l=vy(t);s.forEach(function(i){if(!l.has(i)){l.add(i);var d=My.bind(null,t,i);i.then(d,d)}})}function St(t,s){var l=s.deletions;if(l!==null)for(var i=0;i<l.length;i++){var d=l[i],m=t,w=s,L=w;e:for(;L!==null;){switch(L.tag){case 27:if(ta(L.type)){We=L.stateNode,wt=!1;break e}break;case 5:We=L.stateNode,wt=!1;break e;case 3:case 4:We=L.stateNode.containerInfo,wt=!0;break e}L=L.return}if(We===null)throw Error(o(160));zp(m,w,d),We=null,wt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)$p(s,t),s=s.sibling}var ts=null;function $p(t,s){var l=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:St(s,t),Ct(t),i&4&&(Xs(3,t,t.return),cn(3,t),Xs(5,t,t.return));break;case 1:St(s,t),Ct(t),i&512&&(rt||l===null||os(l,l.return)),i&64&&Ss&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?i:l.concat(i))));break;case 26:var d=ts;if(St(s,t),Ct(t),i&512&&(rt||l===null||os(l,l.return)),i&4){var m=l!==null?l.memoizedState:null;if(i=t.memoizedState,l===null)if(i===null)if(t.stateNode===null){e:{i=t.type,l=t.memoizedProps,d=d.ownerDocument||d;t:switch(i){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Bl]||m[mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(i),d.head.insertBefore(m,d.querySelector("head > title"))),ft(m,i,l),m[mt]=t,dt(m),i=m;break e;case"link":var w=$h("link","href",d).get(i+(l.href||""));if(w){for(var L=0;L<w.length;L++)if(m=w[L],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(L,1);break t}}m=d.createElement(i),ft(m,i,l),d.head.appendChild(m);break;case"meta":if(w=$h("meta","content",d).get(i+(l.content||""))){for(L=0;L<w.length;L++)if(m=w[L],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(L,1);break t}}m=d.createElement(i),ft(m,i,l),d.head.appendChild(m);break;default:throw Error(o(468,i))}m[mt]=t,dt(m),i=m}t.stateNode=i}else Yh(d,t.type,t.stateNode);else t.stateNode=Ph(d,i,t.memoizedProps);else m!==i?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,i===null?Yh(d,t.type,t.stateNode):Ph(d,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Bc(t,t.memoizedProps,l.memoizedProps)}break;case 27:St(s,t),Ct(t),i&512&&(rt||l===null||os(l,l.return)),l!==null&&i&4&&Bc(t,t.memoizedProps,l.memoizedProps);break;case 5:if(St(s,t),Ct(t),i&512&&(rt||l===null||os(l,l.return)),t.flags&32){d=t.stateNode;try{$a(d,"")}catch(de){$e(t,t.return,de)}}i&4&&t.stateNode!=null&&(d=t.memoizedProps,Bc(t,d,l!==null?l.memoizedProps:d)),i&1024&&(Pc=!0);break;case 6:if(St(s,t),Ct(t),i&4){if(t.stateNode===null)throw Error(o(162));i=t.memoizedProps,l=t.stateNode;try{l.nodeValue=i}catch(de){$e(t,t.return,de)}}break;case 3:if(Kr=null,d=ts,ts=Jr(s.containerInfo),St(s,t),ts=d,Ct(t),i&4&&l!==null&&l.memoizedState.isDehydrated)try{bl(s.containerInfo)}catch(de){$e(t,t.return,de)}Pc&&(Pc=!1,Yp(t));break;case 4:i=ts,ts=Jr(t.stateNode.containerInfo),St(s,t),Ct(t),ts=i;break;case 12:St(s,t),Ct(t);break;case 31:St(s,t),Ct(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,zr(t,i)));break;case 13:St(s,t),Ct(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Pr=Mt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,zr(t,i)));break;case 22:d=t.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,ee=Ss,le=rt;if(Ss=ee||d,rt=le||G,St(s,t),rt=le,Ss=ee,Ct(t),i&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(l===null||G||Ss||rt||Aa(t)),l=null,s=t;;){if(s.tag===5||s.tag===26){if(l===null){G=l=s;try{if(m=G.stateNode,d)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{L=G.stateNode;var ie=G.memoizedProps.style,te=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;L.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(de){$e(G,G.return,de)}}}else if(s.tag===6){if(l===null){G=s;try{G.stateNode.nodeValue=d?"":G.memoizedProps}catch(de){$e(G,G.return,de)}}}else if(s.tag===18){if(l===null){G=s;try{var ae=G.stateNode;d?Dh(ae,!0):Dh(G.stateNode,!1)}catch(de){$e(G,G.return,de)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}i&4&&(i=t.updateQueue,i!==null&&(l=i.retryQueue,l!==null&&(i.retryQueue=null,zr(t,l))));break;case 19:St(s,t),Ct(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,zr(t,i)));break;case 30:break;case 21:break;default:St(s,t),Ct(t)}}function Ct(t){var s=t.flags;if(s&2){try{for(var l,i=t.return;i!==null;){if(Rp(i)){l=i;break}i=i.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var d=l.stateNode,m=zc(t);Br(t,m,d);break;case 5:var w=l.stateNode;l.flags&32&&($a(w,""),l.flags&=-33);var L=zc(t);Br(t,L,w);break;case 3:case 4:var G=l.stateNode.containerInfo,ee=zc(t);Uc(t,ee,G);break;default:throw Error(o(161))}}catch(le){$e(t,t.return,le)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Yp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Yp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ks(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Op(t,s.alternate,s),s=s.sibling}function Aa(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Xs(4,s,s.return),Aa(s);break;case 1:os(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Dp(s,s.return,l),Aa(s);break;case 27:yn(s.stateNode);case 26:case 5:os(s,s.return),Aa(s);break;case 22:s.memoizedState===null&&Aa(s);break;case 30:Aa(s);break;default:Aa(s)}t=t.sibling}}function As(t,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var i=s.alternate,d=t,m=s,w=m.flags;switch(m.tag){case 0:case 11:case 15:As(d,m,l),cn(4,m);break;case 1:if(As(d,m,l),i=m,d=i.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(ee){$e(i,i.return,ee)}if(i=m,d=i.updateQueue,d!==null){var L=i.stateNode;try{var G=d.shared.hiddenCallbacks;if(G!==null)for(d.shared.hiddenCallbacks=null,d=0;d<G.length;d++)gx(G[d],L)}catch(ee){$e(i,i.return,ee)}}l&&w&64&&Mp(m),dn(m,m.return);break;case 27:Tp(m);case 26:case 5:As(d,m,l),l&&i===null&&w&4&&Lp(m),dn(m,m.return);break;case 12:As(d,m,l);break;case 31:As(d,m,l),l&&w&4&&Up(d,m);break;case 13:As(d,m,l),l&&w&4&&Pp(d,m);break;case 22:m.memoizedState===null&&As(d,m,l),dn(m,m.return);break;case 30:break;default:As(d,m,l)}s=s.sibling}}function $c(t,s){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Wl(l))}function Yc(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Wl(t))}function ss(t,s,l,i){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qp(t,s,l,i),s=s.sibling}function qp(t,s,l,i){var d=s.flags;switch(s.tag){case 0:case 11:case 15:ss(t,s,l,i),d&2048&&cn(9,s);break;case 1:ss(t,s,l,i);break;case 3:ss(t,s,l,i),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Wl(t)));break;case 12:if(d&2048){ss(t,s,l,i),t=s.stateNode;try{var m=s.memoizedProps,w=m.id,L=m.onPostCommit;typeof L=="function"&&L(w,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(G){$e(s,s.return,G)}}else ss(t,s,l,i);break;case 31:ss(t,s,l,i);break;case 13:ss(t,s,l,i);break;case 23:break;case 22:m=s.stateNode,w=s.alternate,s.memoizedState!==null?m._visibility&2?ss(t,s,l,i):un(t,s):m._visibility&2?ss(t,s,l,i):(m._visibility|=2,rl(t,s,l,i,(s.subtreeFlags&10256)!==0||!1)),d&2048&&$c(w,s);break;case 24:ss(t,s,l,i),d&2048&&Yc(s.alternate,s);break;default:ss(t,s,l,i)}}function rl(t,s,l,i,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,w=s,L=l,G=i,ee=w.flags;switch(w.tag){case 0:case 11:case 15:rl(m,w,L,G,d),cn(8,w);break;case 23:break;case 22:var le=w.stateNode;w.memoizedState!==null?le._visibility&2?rl(m,w,L,G,d):un(m,w):(le._visibility|=2,rl(m,w,L,G,d)),d&&ee&2048&&$c(w.alternate,w);break;case 24:rl(m,w,L,G,d),d&&ee&2048&&Yc(w.alternate,w);break;default:rl(m,w,L,G,d)}s=s.sibling}}function un(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=t,i=s,d=i.flags;switch(i.tag){case 22:un(l,i),d&2048&&$c(i.alternate,i);break;case 24:un(l,i),d&2048&&Yc(i.alternate,i);break;default:un(l,i)}s=s.sibling}}var mn=8192;function il(t,s,l){if(t.subtreeFlags&mn)for(t=t.child;t!==null;)Hp(t,s,l),t=t.sibling}function Hp(t,s,l){switch(t.tag){case 26:il(t,s,l),t.flags&mn&&t.memoizedState!==null&&rv(l,ts,t.memoizedState,t.memoizedProps);break;case 5:il(t,s,l);break;case 3:case 4:var i=ts;ts=Jr(t.stateNode.containerInfo),il(t,s,l),ts=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=mn,mn=16777216,il(t,s,l),mn=i):il(t,s,l));break;default:il(t,s,l)}}function Fp(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function xn(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var i=s[l];ut=i,Ip(i,t)}Fp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vp(t),t=t.sibling}function Vp(t){switch(t.tag){case 0:case 11:case 15:xn(t),t.flags&2048&&Xs(9,t,t.return);break;case 3:xn(t);break;case 12:xn(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Ur(t)):xn(t);break;default:xn(t)}}function Ur(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var i=s[l];ut=i,Ip(i,t)}Fp(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Xs(8,s,s.return),Ur(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Ur(s));break;default:Ur(s)}t=t.sibling}}function Ip(t,s){for(;ut!==null;){var l=ut;switch(l.tag){case 0:case 11:case 15:Xs(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var i=l.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Wl(l.memoizedState.cache)}if(i=l.child,i!==null)i.return=l,ut=i;else e:for(l=t;ut!==null;){i=ut;var d=i.sibling,m=i.return;if(Bp(i),i===l){ut=null;break e}if(d!==null){d.return=m,ut=d;break e}ut=m}}}var jy={getCacheForType:function(t){var s=pt(at),l=s.data.get(t);return l===void 0&&(l=t(),s.data.set(t,l)),l},cacheSignal:function(){return pt(at).controller.signal}},Ny=typeof WeakMap=="function"?WeakMap:Map,ze=0,Ve=null,Ae=null,Me=0,Pe=0,Bt=null,Ws=!1,ol=!1,qc=!1,Es=0,Ke=0,Qs=0,Ea=0,Hc=0,zt=0,cl=0,pn=null,kt=null,Fc=!1,Pr=0,Gp=0,$r=1/0,Yr=null,Js=null,ct=0,Zs=null,dl=null,Ms=0,Vc=0,Ic=null,Xp=null,hn=0,Gc=null;function Ut(){return(ze&2)!==0&&Me!==0?Me&-Me:I.T!==null?Kc():dm()}function Wp(){if(zt===0)if((Me&536870912)===0||Re){var t=Wn;Wn<<=1,(Wn&3932160)===0&&(Wn=262144),zt=t}else zt=536870912;return t=_t.current,t!==null&&(t.flags|=32),zt}function At(t,s,l){(t===Ve&&(Pe===2||Pe===9)||t.cancelPendingCommit!==null)&&(ul(t,0),Ks(t,Me,zt,!1)),Ol(t,l),((ze&2)===0||t!==Ve)&&(t===Ve&&((ze&2)===0&&(Ea|=l),Ke===4&&Ks(t,Me,zt,!1)),cs(t))}function Qp(t,s,l){if((ze&6)!==0)throw Error(o(327));var i=!l&&(s&127)===0&&(s&t.expiredLanes)===0||_l(t,s),d=i?Cy(t,s):Wc(t,s,!0),m=i;do{if(d===0){ol&&!i&&Ks(t,s,0,!1);break}else{if(l=t.current.alternate,m&&!wy(l)){d=Wc(t,s,!1),m=!1;continue}if(d===2){if(m=s,t.errorRecoveryDisabledLanes&m)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var L=t;d=pn;var G=L.current.memoizedState.isDehydrated;if(G&&(ul(L,w).flags|=256),w=Wc(L,w,!1),w!==2){if(qc&&!G){L.errorRecoveryDisabledLanes|=m,Ea|=m,d=4;break e}m=kt,kt=d,m!==null&&(kt===null?kt=m:kt.push.apply(kt,m))}d=w}if(m=!1,d!==2)continue}}if(d===1){ul(t,0),Ks(t,s,0,!0);break}e:{switch(i=t,m=d,m){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Ks(i,s,zt,!Ws);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(d=Pr+300-Mt(),10<d)){if(Ks(i,s,zt,!Ws),Jn(i,0,!0)!==0)break e;Ms=s,i.timeoutHandle=Ah(Jp.bind(null,i,l,kt,Yr,Fc,s,zt,Ea,cl,Ws,m,"Throttled",-0,0),d);break e}Jp(i,l,kt,Yr,Fc,s,zt,Ea,cl,Ws,m,null,-0,0)}}break}while(!0);cs(t)}function Jp(t,s,l,i,d,m,w,L,G,ee,le,ie,te,ae){if(t.timeoutHandle=-1,ie=s.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ps},Hp(s,m,ie);var de=(m&62914560)===m?Pr-Mt():(m&4194048)===m?Gp-Mt():0;if(de=iv(ie,de),de!==null){Ms=m,t.cancelPendingCommit=de(nh.bind(null,t,s,m,l,i,d,w,L,G,le,ie,null,te,ae)),Ks(t,m,w,!ee);return}}nh(t,s,m,l,i,d,w,L,G)}function wy(t){for(var s=t;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var i=0;i<l.length;i++){var d=l[i],m=d.getSnapshot;d=d.value;try{if(!Rt(m(),d))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ks(t,s,l,i){s&=~Hc,s&=~Ea,t.suspendedLanes|=s,t.pingedLanes&=~s,i&&(t.warmLanes|=s),i=t.expirationTimes;for(var d=s;0<d;){var m=31-Lt(d),w=1<<m;i[m]=-1,d&=~w}l!==0&&im(t,l,s)}function qr(){return(ze&6)===0?(fn(0),!1):!0}function Xc(){if(Ae!==null){if(Pe===0)var t=Ae.return;else t=Ae,gs=ya=null,dc(t),tl=null,Jl=0,t=Ae;for(;t!==null;)Ep(t.alternate,t),t=t.return;Ae=null}}function ul(t,s){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,Hy(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Ms=0,Xc(),Ve=t,Ae=l=fs(t.current,null),Me=s,Pe=0,Bt=null,Ws=!1,ol=_l(t,s),qc=!1,cl=zt=Hc=Ea=Qs=Ke=0,kt=pn=null,Fc=!1,(s&8)!==0&&(s|=s&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=s;0<i;){var d=31-Lt(i),m=1<<d;s|=t[d],i&=~m}return Es=s,cr(),l}function Zp(t,s){ve=null,I.H=nn,s===el||s===br?(s=px(),Pe=3):s===Zo?(s=px(),Pe=4):Pe=s===kc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bt=s,Ae===null&&(Ke=1,Lr(t,Ht(s,t.current)))}function Kp(){var t=_t.current;return t===null?!0:(Me&4194048)===Me?Gt===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Gt:!1}function eh(){var t=I.H;return I.H=nn,t===null?nn:t}function th(){var t=I.A;return I.A=jy,t}function Hr(){Ke=4,Ws||(Me&4194048)!==Me&&_t.current!==null||(ol=!0),(Qs&134217727)===0&&(Ea&134217727)===0||Ve===null||Ks(Ve,Me,zt,!1)}function Wc(t,s,l){var i=ze;ze|=2;var d=eh(),m=th();(Ve!==t||Me!==s)&&(Yr=null,ul(t,s)),s=!1;var w=Ke;e:do try{if(Pe!==0&&Ae!==null){var L=Ae,G=Bt;switch(Pe){case 8:Xc(),w=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(s=!0);var ee=Pe;if(Pe=0,Bt=null,ml(t,L,G,ee),l&&ol){w=0;break e}break;default:ee=Pe,Pe=0,Bt=null,ml(t,L,G,ee)}}Sy(),w=Ke;break}catch(le){Zp(t,le)}while(!0);return s&&t.shellSuspendCounter++,gs=ya=null,ze=i,I.H=d,I.A=m,Ae===null&&(Ve=null,Me=0,cr()),w}function Sy(){for(;Ae!==null;)sh(Ae)}function Cy(t,s){var l=ze;ze|=2;var i=eh(),d=th();Ve!==t||Me!==s?(Yr=null,$r=Mt()+500,ul(t,s)):ol=_l(t,s);e:do try{if(Pe!==0&&Ae!==null){s=Ae;var m=Bt;t:switch(Pe){case 1:Pe=0,Bt=null,ml(t,s,m,1);break;case 2:case 9:if(mx(m)){Pe=0,Bt=null,ah(s);break}s=function(){Pe!==2&&Pe!==9||Ve!==t||(Pe=7),cs(t)},m.then(s,s);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:mx(m)?(Pe=0,Bt=null,ah(s)):(Pe=0,Bt=null,ml(t,s,m,7));break;case 5:var w=null;switch(Ae.tag){case 26:w=Ae.memoizedState;case 5:case 27:var L=Ae;if(w?qh(w):L.stateNode.complete){Pe=0,Bt=null;var G=L.sibling;if(G!==null)Ae=G;else{var ee=L.return;ee!==null?(Ae=ee,Fr(ee)):Ae=null}break t}}Pe=0,Bt=null,ml(t,s,m,5);break;case 6:Pe=0,Bt=null,ml(t,s,m,6);break;case 8:Xc(),Ke=6;break e;default:throw Error(o(462))}}ky();break}catch(le){Zp(t,le)}while(!0);return gs=ya=null,I.H=i,I.A=d,ze=l,Ae!==null?0:(Ve=null,Me=0,cr(),Ke)}function ky(){for(;Ae!==null&&!Wb();)sh(Ae)}function sh(t){var s=kp(t.alternate,t,Es);t.memoizedProps=t.pendingProps,s===null?Fr(t):Ae=s}function ah(t){var s=t,l=s.alternate;switch(s.tag){case 15:case 0:s=vp(l,s,s.pendingProps,s.type,void 0,Me);break;case 11:s=vp(l,s,s.pendingProps,s.type.render,s.ref,Me);break;case 5:dc(s);default:Ep(l,s),s=Ae=tx(s,Es),s=kp(l,s,Es)}t.memoizedProps=t.pendingProps,s===null?Fr(t):Ae=s}function ml(t,s,l,i){gs=ya=null,dc(s),tl=null,Jl=0;var d=s.return;try{if(py(t,d,s,l,Me)){Ke=1,Lr(t,Ht(l,t.current)),Ae=null;return}}catch(m){if(d!==null)throw Ae=d,m;Ke=1,Lr(t,Ht(l,t.current)),Ae=null;return}s.flags&32768?(Re||i===1?t=!0:ol||(Me&536870912)!==0?t=!1:(Ws=t=!0,(i===2||i===9||i===3||i===6)&&(i=_t.current,i!==null&&i.tag===13&&(i.flags|=16384))),lh(s,t)):Fr(s)}function Fr(t){var s=t;do{if((s.flags&32768)!==0){lh(s,Ws);return}t=s.return;var l=by(s.alternate,s,Es);if(l!==null){Ae=l;return}if(s=s.sibling,s!==null){Ae=s;return}Ae=s=t}while(s!==null);Ke===0&&(Ke=5)}function lh(t,s){do{var l=gy(t.alternate,t);if(l!==null){l.flags&=32767,Ae=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=l}while(t!==null);Ke=6,Ae=null}function nh(t,s,l,i,d,m,w,L,G){t.cancelPendingCommit=null;do Vr();while(ct!==0);if((ze&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(m=s.lanes|s.childLanes,m|=zo,ng(t,l,m,w,L,G),t===Ve&&(Ae=Ve=null,Me=0),dl=s,Zs=t,Ms=l,Vc=m,Ic=d,Xp=i,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Dy(Gn,function(){return dh(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||i){i=I.T,I.T=null,d=A.p,A.p=2,w=ze,ze|=4;try{yy(t,s,l)}finally{ze=w,A.p=d,I.T=i}}ct=1,rh(),ih(),oh()}}function rh(){if(ct===1){ct=0;var t=Zs,s=dl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=I.T,I.T=null;var i=A.p;A.p=2;var d=ze;ze|=4;try{$p(s,t);var m=id,w=Im(t.containerInfo),L=m.focusedElem,G=m.selectionRange;if(w!==L&&L&&L.ownerDocument&&Vm(L.ownerDocument.documentElement,L)){if(G!==null&&Ro(L)){var ee=G.start,le=G.end;if(le===void 0&&(le=ee),"selectionStart"in L)L.selectionStart=ee,L.selectionEnd=Math.min(le,L.value.length);else{var ie=L.ownerDocument||document,te=ie&&ie.defaultView||window;if(te.getSelection){var ae=te.getSelection(),de=L.textContent.length,he=Math.min(G.start,de),Fe=G.end===void 0?he:Math.min(G.end,de);!ae.extend&&he>Fe&&(w=Fe,Fe=he,he=w);var Z=Fm(L,he),X=Fm(L,Fe);if(Z&&X&&(ae.rangeCount!==1||ae.anchorNode!==Z.node||ae.anchorOffset!==Z.offset||ae.focusNode!==X.node||ae.focusOffset!==X.offset)){var K=ie.createRange();K.setStart(Z.node,Z.offset),ae.removeAllRanges(),he>Fe?(ae.addRange(K),ae.extend(X.node,X.offset)):(K.setEnd(X.node,X.offset),ae.addRange(K))}}}}for(ie=[],ae=L;ae=ae.parentNode;)ae.nodeType===1&&ie.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ie.length;L++){var ne=ie[L];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}ai=!!rd,id=rd=null}finally{ze=d,A.p=i,I.T=l}}t.current=s,ct=2}}function ih(){if(ct===2){ct=0;var t=Zs,s=dl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=I.T,I.T=null;var i=A.p;A.p=2;var d=ze;ze|=4;try{Op(t,s.alternate,s)}finally{ze=d,A.p=i,I.T=l}}ct=3}}function oh(){if(ct===4||ct===3){ct=0,Qb();var t=Zs,s=dl,l=Ms,i=Xp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ct=5:(ct=0,dl=Zs=null,ch(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Js=null),xo(l),s=s.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Tl,s,void 0,(s.current.flags&128)===128)}catch{}if(i!==null){s=I.T,d=A.p,A.p=2,I.T=null;try{for(var m=t.onRecoverableError,w=0;w<i.length;w++){var L=i[w];m(L.value,{componentStack:L.stack})}}finally{I.T=s,A.p=d}}(Ms&3)!==0&&Vr(),cs(t),d=t.pendingLanes,(l&261930)!==0&&(d&42)!==0?t===Gc?hn++:(hn=0,Gc=t):hn=0,fn(0)}}function ch(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Wl(s)))}function Vr(){return rh(),ih(),oh(),dh()}function dh(){if(ct!==5)return!1;var t=Zs,s=Vc;Vc=0;var l=xo(Ms),i=I.T,d=A.p;try{A.p=32>l?32:l,I.T=null,l=Ic,Ic=null;var m=Zs,w=Ms;if(ct=0,dl=Zs=null,Ms=0,(ze&6)!==0)throw Error(o(331));var L=ze;if(ze|=4,Vp(m.current),qp(m,m.current,w,l),ze=L,fn(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Tl,m)}catch{}return!0}finally{A.p=d,I.T=i,ch(t,s)}}function uh(t,s,l){s=Ht(l,s),s=Cc(t.stateNode,s,2),t=Vs(t,s,2),t!==null&&(Ol(t,2),cs(t))}function $e(t,s,l){if(t.tag===3)uh(t,t,l);else for(;s!==null;){if(s.tag===3){uh(s,t,l);break}else if(s.tag===1){var i=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Js===null||!Js.has(i))){t=Ht(l,t),l=mp(2),i=Vs(s,l,2),i!==null&&(xp(l,i,s,t),Ol(i,2),cs(i));break}}s=s.return}}function Qc(t,s,l){var i=t.pingCache;if(i===null){i=t.pingCache=new Ny;var d=new Set;i.set(s,d)}else d=i.get(s),d===void 0&&(d=new Set,i.set(s,d));d.has(l)||(qc=!0,d.add(l),t=Ay.bind(null,t,s,l),s.then(t,t))}function Ay(t,s,l){var i=t.pingCache;i!==null&&i.delete(s),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Ve===t&&(Me&l)===l&&(Ke===4||Ke===3&&(Me&62914560)===Me&&300>Mt()-Pr?(ze&2)===0&&ul(t,0):Hc|=l,cl===Me&&(cl=0)),cs(t)}function mh(t,s){s===0&&(s=rm()),t=fa(t,s),t!==null&&(Ol(t,s),cs(t))}function Ey(t){var s=t.memoizedState,l=0;s!==null&&(l=s.retryLane),mh(t,l)}function My(t,s){var l=0;switch(t.tag){case 31:case 13:var i=t.stateNode,d=t.memoizedState;d!==null&&(l=d.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(o(314))}i!==null&&i.delete(s),mh(t,l)}function Dy(t,s){return oo(t,s)}var Ir=null,xl=null,Jc=!1,Gr=!1,Zc=!1,ea=0;function cs(t){t!==xl&&t.next===null&&(xl===null?Ir=xl=t:xl=xl.next=t),Gr=!0,Jc||(Jc=!0,Ry())}function fn(t,s){if(!Zc&&Gr){Zc=!0;do for(var l=!1,i=Ir;i!==null;){if(t!==0){var d=i.pendingLanes;if(d===0)var m=0;else{var w=i.suspendedLanes,L=i.pingedLanes;m=(1<<31-Lt(42|t)+1)-1,m&=d&~(w&~L),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,fh(i,m))}else m=Me,m=Jn(i,i===Ve?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(m&3)===0||_l(i,m)||(l=!0,fh(i,m));i=i.next}while(l);Zc=!1}}function Ly(){xh()}function xh(){Gr=Jc=!1;var t=0;ea!==0&&qy()&&(t=ea);for(var s=Mt(),l=null,i=Ir;i!==null;){var d=i.next,m=ph(i,s);m===0?(i.next=null,l===null?Ir=d:l.next=d,d===null&&(xl=l)):(l=i,(t!==0||(m&3)!==0)&&(Gr=!0)),i=d}ct!==0&&ct!==5||fn(t),ea!==0&&(ea=0)}function ph(t,s){for(var l=t.suspendedLanes,i=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var w=31-Lt(m),L=1<<w,G=d[w];G===-1?((L&l)===0||(L&i)!==0)&&(d[w]=lg(L,s)):G<=s&&(t.expiredLanes|=L),m&=~L}if(s=Ve,l=Me,l=Jn(t,t===s?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,l===0||t===s&&(Pe===2||Pe===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&co(i),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||_l(t,l)){if(s=l&-l,s===t.callbackPriority)return s;switch(i!==null&&co(i),xo(l)){case 2:case 8:l=lm;break;case 32:l=Gn;break;case 268435456:l=nm;break;default:l=Gn}return i=hh.bind(null,t),l=oo(l,i),t.callbackPriority=s,t.callbackNode=l,s}return i!==null&&i!==null&&co(i),t.callbackPriority=2,t.callbackNode=null,2}function hh(t,s){if(ct!==0&&ct!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Vr()&&t.callbackNode!==l)return null;var i=Me;return i=Jn(t,t===Ve?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Qp(t,i,s),ph(t,Mt()),t.callbackNode!=null&&t.callbackNode===l?hh.bind(null,t):null)}function fh(t,s){if(Vr())return null;Qp(t,s,!0)}function Ry(){Fy(function(){(ze&6)!==0?oo(am,Ly):xh()})}function Kc(){if(ea===0){var t=Za;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),ea=t}return ea}function bh(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:tr(""+t)}function gh(t,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,t.id&&l.setAttribute("form",t.id),s.parentNode.insertBefore(l,s),t=new FormData(t),l.parentNode.removeChild(l),t}function Ty(t,s,l,i,d){if(s==="submit"&&l&&l.stateNode===d){var m=bh((d[jt]||null).action),w=i.submitter;w&&(s=(s=w[jt]||null)?bh(s.formAction):w.getAttribute("formAction"),s!==null&&(m=s,w=null));var L=new nr("action","action",null,i,d);t.push({event:L,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ea!==0){var G=w?gh(d,w):new FormData(d);yc(l,{pending:!0,data:G,method:d.method,action:m},null,G)}}else typeof m=="function"&&(L.preventDefault(),G=w?gh(d,w):new FormData(d),yc(l,{pending:!0,data:G,method:d.method,action:m},m,G))},currentTarget:d}]})}}for(var ed=0;ed<Bo.length;ed++){var td=Bo[ed],_y=td.toLowerCase(),Oy=td[0].toUpperCase()+td.slice(1);es(_y,"on"+Oy)}es(Wm,"onAnimationEnd"),es(Qm,"onAnimationIteration"),es(Jm,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(Jg,"onTransitionRun"),es(Zg,"onTransitionStart"),es(Kg,"onTransitionCancel"),es(Zm,"onTransitionEnd"),Ua("onMouseEnter",["mouseout","mouseover"]),Ua("onMouseLeave",["mouseout","mouseover"]),Ua("onPointerEnter",["pointerout","pointerover"]),Ua("onPointerLeave",["pointerout","pointerover"]),ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),By=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bn));function yh(t,s){s=(s&4)!==0;for(var l=0;l<t.length;l++){var i=t[l],d=i.event;i=i.listeners;e:{var m=void 0;if(s)for(var w=i.length-1;0<=w;w--){var L=i[w],G=L.instance,ee=L.currentTarget;if(L=L.listener,G!==m&&d.isPropagationStopped())break e;m=L,d.currentTarget=ee;try{m(d)}catch(le){or(le)}d.currentTarget=null,m=G}else for(w=0;w<i.length;w++){if(L=i[w],G=L.instance,ee=L.currentTarget,L=L.listener,G!==m&&d.isPropagationStopped())break e;m=L,d.currentTarget=ee;try{m(d)}catch(le){or(le)}d.currentTarget=null,m=G}}}}function Ee(t,s){var l=s[po];l===void 0&&(l=s[po]=new Set);var i=t+"__bubble";l.has(i)||(vh(s,t,2,!1),l.add(i))}function sd(t,s,l){var i=0;s&&(i|=4),vh(l,t,i,s)}var Xr="_reactListening"+Math.random().toString(36).slice(2);function ad(t){if(!t[Xr]){t[Xr]=!0,xm.forEach(function(l){l!=="selectionchange"&&(By.has(l)||sd(l,!1,t),sd(l,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Xr]||(s[Xr]=!0,sd("selectionchange",!1,s))}}function vh(t,s,l,i){switch(Wh(s)){case 2:var d=dv;break;case 8:d=uv;break;default:d=gd}l=d.bind(null,s,l,t),d=void 0,!wo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),i?d!==void 0?t.addEventListener(s,l,{capture:!0,passive:d}):t.addEventListener(s,l,!0):d!==void 0?t.addEventListener(s,l,{passive:d}):t.addEventListener(s,l,!1)}function ld(t,s,l,i,d){var m=i;if((s&1)===0&&(s&2)===0&&i!==null)e:for(;;){if(i===null)return;var w=i.tag;if(w===3||w===4){var L=i.stateNode.containerInfo;if(L===d)break;if(w===4)for(w=i.return;w!==null;){var G=w.tag;if((G===3||G===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;L!==null;){if(w=Oa(L),w===null)return;if(G=w.tag,G===5||G===6||G===26||G===27){i=m=w;continue e}L=L.parentNode}}i=i.return}Cm(function(){var ee=m,le=jo(l),ie=[];e:{var te=Km.get(t);if(te!==void 0){var ae=nr,de=t;switch(t){case"keypress":if(ar(l)===0)break e;case"keydown":case"keyup":ae=Mg;break;case"focusin":de="focus",ae=Ao;break;case"focusout":de="blur",ae=Ao;break;case"beforeblur":case"afterblur":ae=Ao;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=bg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Rg;break;case Wm:case Qm:case Jm:ae=vg;break;case Zm:ae=_g;break;case"scroll":case"scrollend":ae=hg;break;case"wheel":ae=Bg;break;case"copy":case"cut":case"paste":ae=Ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Dm;break;case"toggle":case"beforetoggle":ae=Ug}var he=(s&4)!==0,Fe=!he&&(t==="scroll"||t==="scrollend"),Z=he?te!==null?te+"Capture":null:te;he=[];for(var X=ee,K;X!==null;){var ne=X;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||Z===null||(ne=Ul(X,Z),ne!=null&&he.push(gn(X,ne,K))),Fe)break;X=X.return}0<he.length&&(te=new ae(te,de,null,l,le),ie.push({event:te,listeners:he}))}}if((s&7)===0){e:{if(te=t==="mouseover"||t==="pointerover",ae=t==="mouseout"||t==="pointerout",te&&l!==vo&&(de=l.relatedTarget||l.fromElement)&&(Oa(de)||de[_a]))break e;if((ae||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,ae?(de=l.relatedTarget||l.toElement,ae=ee,de=de?Oa(de):null,de!==null&&(Fe=u(de),he=de.tag,de!==Fe||he!==5&&he!==27&&he!==6)&&(de=null)):(ae=null,de=ee),ae!==de)){if(he=Em,ne="onMouseLeave",Z="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(he=Dm,ne="onPointerLeave",Z="onPointerEnter",X="pointer"),Fe=ae==null?te:zl(ae),K=de==null?te:zl(de),te=new he(ne,X+"leave",ae,l,le),te.target=Fe,te.relatedTarget=K,ne=null,Oa(le)===ee&&(he=new he(Z,X+"enter",de,l,le),he.target=K,he.relatedTarget=Fe,ne=he),Fe=ne,ae&&de)t:{for(he=zy,Z=ae,X=de,K=0,ne=Z;ne;ne=he(ne))K++;ne=0;for(var pe=X;pe;pe=he(pe))ne++;for(;0<K-ne;)Z=he(Z),K--;for(;0<ne-K;)X=he(X),ne--;for(;K--;){if(Z===X||X!==null&&Z===X.alternate){he=Z;break t}Z=he(Z),X=he(X)}he=null}else he=null;ae!==null&&jh(ie,te,ae,he,!1),de!==null&&Fe!==null&&jh(ie,Fe,de,he,!0)}}e:{if(te=ee?zl(ee):window,ae=te.nodeName&&te.nodeName.toLowerCase(),ae==="select"||ae==="input"&&te.type==="file")var Oe=Um;else if(Bm(te))if(Pm)Oe=Xg;else{Oe=Ig;var ue=Vg}else ae=te.nodeName,!ae||ae.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&yo(ee.elementType)&&(Oe=Um):Oe=Gg;if(Oe&&(Oe=Oe(t,ee))){zm(ie,Oe,l,le);break e}ue&&ue(t,te,ee),t==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&go(te,"number",te.value)}switch(ue=ee?zl(ee):window,t){case"focusin":(Bm(ue)||ue.contentEditable==="true")&&(Fa=ue,To=ee,Il=null);break;case"focusout":Il=To=Fa=null;break;case"mousedown":_o=!0;break;case"contextmenu":case"mouseup":case"dragend":_o=!1,Gm(ie,l,le);break;case"selectionchange":if(Qg)break;case"keydown":case"keyup":Gm(ie,l,le)}var Ne;if(Mo)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ha?_m(t,l)&&(De="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(Lm&&l.locale!=="ko"&&(Ha||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ha&&(Ne=km()):(Us=le,So="value"in Us?Us.value:Us.textContent,Ha=!0)),ue=Wr(ee,De),0<ue.length&&(De=new Mm(De,t,null,l,le),ie.push({event:De,listeners:ue}),Ne?De.data=Ne:(Ne=Om(l),Ne!==null&&(De.data=Ne)))),(Ne=$g?Yg(t,l):qg(t,l))&&(De=Wr(ee,"onBeforeInput"),0<De.length&&(ue=new Mm("onBeforeInput","beforeinput",null,l,le),ie.push({event:ue,listeners:De}),ue.data=Ne)),Ty(ie,t,ee,l,le)}yh(ie,s)})}function gn(t,s,l){return{instance:t,listener:s,currentTarget:l}}function Wr(t,s){for(var l=s+"Capture",i=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Ul(t,l),d!=null&&i.unshift(gn(t,d,m)),d=Ul(t,s),d!=null&&i.push(gn(t,d,m))),t.tag===3)return i;t=t.return}return[]}function zy(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jh(t,s,l,i,d){for(var m=s._reactName,w=[];l!==null&&l!==i;){var L=l,G=L.alternate,ee=L.stateNode;if(L=L.tag,G!==null&&G===i)break;L!==5&&L!==26&&L!==27||ee===null||(G=ee,d?(ee=Ul(l,m),ee!=null&&w.unshift(gn(l,ee,G))):d||(ee=Ul(l,m),ee!=null&&w.push(gn(l,ee,G)))),l=l.return}w.length!==0&&t.push({event:s,listeners:w})}var Uy=/\r\n?/g,Py=/\u0000|\uFFFD/g;function Nh(t){return(typeof t=="string"?t:""+t).replace(Uy,`
`).replace(Py,"")}function wh(t,s){return s=Nh(s),Nh(t)===s}function He(t,s,l,i,d,m){switch(l){case"children":typeof i=="string"?s==="body"||s==="textarea"&&i===""||$a(t,i):(typeof i=="number"||typeof i=="bigint")&&s!=="body"&&$a(t,""+i);break;case"className":Kn(t,"class",i);break;case"tabIndex":Kn(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(t,l,i);break;case"style":wm(t,i,m);break;case"data":if(s!=="object"){Kn(t,"data",i);break}case"src":case"href":if(i===""&&(s!=="a"||l!=="href")){t.removeAttribute(l);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(l);break}i=tr(""+i),t.setAttribute(l,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(s!=="input"&&He(t,s,"name",d.name,d,null),He(t,s,"formEncType",d.formEncType,d,null),He(t,s,"formMethod",d.formMethod,d,null),He(t,s,"formTarget",d.formTarget,d,null)):(He(t,s,"encType",d.encType,d,null),He(t,s,"method",d.method,d,null),He(t,s,"target",d.target,d,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(l);break}i=tr(""+i),t.setAttribute(l,i);break;case"onClick":i!=null&&(t.onclick=ps);break;case"onScroll":i!=null&&Ee("scroll",t);break;case"onScrollEnd":i!=null&&Ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(l=i.__html,l!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=l}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}l=tr(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(l,""+i):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":i===!0?t.setAttribute(l,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(l,i):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(l,i):t.removeAttribute(l);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(l):t.setAttribute(l,i);break;case"popover":Ee("beforetoggle",t),Ee("toggle",t),Zn(t,"popover",i);break;case"xlinkActuate":xs(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":xs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":xs(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":xs(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":xs(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":xs(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":xs(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":xs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":xs(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Zn(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=xg.get(l)||l,Zn(t,l,i))}}function nd(t,s,l,i,d,m){switch(l){case"style":wm(t,i,m);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(l=i.__html,l!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=l}}break;case"children":typeof i=="string"?$a(t,i):(typeof i=="number"||typeof i=="bigint")&&$a(t,""+i);break;case"onScroll":i!=null&&Ee("scroll",t);break;case"onScrollEnd":i!=null&&Ee("scrollend",t);break;case"onClick":i!=null&&(t.onclick=ps);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pm.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),s=l.slice(2,d?l.length-7:void 0),m=t[jt]||null,m=m!=null?m[l]:null,typeof m=="function"&&t.removeEventListener(s,m,d),typeof i=="function")){typeof m!="function"&&m!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(s,i,d);break e}l in t?t[l]=i:i===!0?t.setAttribute(l,""):Zn(t,l,i)}}}function ft(t,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",t),Ee("load",t);var i=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var w=l[m];if(w!=null)switch(m){case"src":i=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:He(t,s,m,w,l,null)}}d&&He(t,s,"srcSet",l.srcSet,l,null),i&&He(t,s,"src",l.src,l,null);return;case"input":Ee("invalid",t);var L=m=w=d=null,G=null,ee=null;for(i in l)if(l.hasOwnProperty(i)){var le=l[i];if(le!=null)switch(i){case"name":d=le;break;case"type":w=le;break;case"checked":G=le;break;case"defaultChecked":ee=le;break;case"value":m=le;break;case"defaultValue":L=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(o(137,s));break;default:He(t,s,i,le,l,null)}}ym(t,m,L,G,ee,w,d,!1);return;case"select":Ee("invalid",t),i=w=m=null;for(d in l)if(l.hasOwnProperty(d)&&(L=l[d],L!=null))switch(d){case"value":m=L;break;case"defaultValue":w=L;break;case"multiple":i=L;default:He(t,s,d,L,l,null)}s=m,l=w,t.multiple=!!i,s!=null?Pa(t,!!i,s,!1):l!=null&&Pa(t,!!i,l,!0);return;case"textarea":Ee("invalid",t),m=d=i=null;for(w in l)if(l.hasOwnProperty(w)&&(L=l[w],L!=null))switch(w){case"value":i=L;break;case"defaultValue":d=L;break;case"children":m=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(91));break;default:He(t,s,w,L,l,null)}jm(t,i,d,m);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(i=l[G],i!=null))switch(G){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:He(t,s,G,i,l,null)}return;case"dialog":Ee("beforetoggle",t),Ee("toggle",t),Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":Ee("load",t);break;case"video":case"audio":for(i=0;i<bn.length;i++)Ee(bn[i],t);break;case"image":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"embed":case"source":case"link":Ee("error",t),Ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in l)if(l.hasOwnProperty(ee)&&(i=l[ee],i!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:He(t,s,ee,i,l,null)}return;default:if(yo(s)){for(le in l)l.hasOwnProperty(le)&&(i=l[le],i!==void 0&&nd(t,s,le,i,l,void 0));return}}for(L in l)l.hasOwnProperty(L)&&(i=l[L],i!=null&&He(t,s,L,i,l,null))}function $y(t,s,l,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,w=null,L=null,G=null,ee=null,le=null;for(ae in l){var ie=l[ae];if(l.hasOwnProperty(ae)&&ie!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":G=ie;default:i.hasOwnProperty(ae)||He(t,s,ae,null,i,ie)}}for(var te in i){var ae=i[te];if(ie=l[te],i.hasOwnProperty(te)&&(ae!=null||ie!=null))switch(te){case"type":m=ae;break;case"name":d=ae;break;case"checked":ee=ae;break;case"defaultChecked":le=ae;break;case"value":w=ae;break;case"defaultValue":L=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(o(137,s));break;default:ae!==ie&&He(t,s,te,ae,i,ie)}}bo(t,w,L,G,ee,le,m,d);return;case"select":ae=w=L=te=null;for(m in l)if(G=l[m],l.hasOwnProperty(m)&&G!=null)switch(m){case"value":break;case"multiple":ae=G;default:i.hasOwnProperty(m)||He(t,s,m,null,i,G)}for(d in i)if(m=i[d],G=l[d],i.hasOwnProperty(d)&&(m!=null||G!=null))switch(d){case"value":te=m;break;case"defaultValue":L=m;break;case"multiple":w=m;default:m!==G&&He(t,s,d,m,i,G)}s=L,l=w,i=ae,te!=null?Pa(t,!!l,te,!1):!!i!=!!l&&(s!=null?Pa(t,!!l,s,!0):Pa(t,!!l,l?[]:"",!1));return;case"textarea":ae=te=null;for(L in l)if(d=l[L],l.hasOwnProperty(L)&&d!=null&&!i.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:He(t,s,L,null,i,d)}for(w in i)if(d=i[w],m=l[w],i.hasOwnProperty(w)&&(d!=null||m!=null))switch(w){case"value":te=d;break;case"defaultValue":ae=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==m&&He(t,s,w,d,i,m)}vm(t,te,ae);return;case"option":for(var de in l)if(te=l[de],l.hasOwnProperty(de)&&te!=null&&!i.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:He(t,s,de,null,i,te)}for(G in i)if(te=i[G],ae=l[G],i.hasOwnProperty(G)&&te!==ae&&(te!=null||ae!=null))switch(G){case"selected":t.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:He(t,s,G,te,i,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in l)te=l[he],l.hasOwnProperty(he)&&te!=null&&!i.hasOwnProperty(he)&&He(t,s,he,null,i,te);for(ee in i)if(te=i[ee],ae=l[ee],i.hasOwnProperty(ee)&&te!==ae&&(te!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(o(137,s));break;default:He(t,s,ee,te,i,ae)}return;default:if(yo(s)){for(var Fe in l)te=l[Fe],l.hasOwnProperty(Fe)&&te!==void 0&&!i.hasOwnProperty(Fe)&&nd(t,s,Fe,void 0,i,te);for(le in i)te=i[le],ae=l[le],!i.hasOwnProperty(le)||te===ae||te===void 0&&ae===void 0||nd(t,s,le,te,i,ae);return}}for(var Z in l)te=l[Z],l.hasOwnProperty(Z)&&te!=null&&!i.hasOwnProperty(Z)&&He(t,s,Z,null,i,te);for(ie in i)te=i[ie],ae=l[ie],!i.hasOwnProperty(ie)||te===ae||te==null&&ae==null||He(t,s,ie,te,i,ae)}function Sh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Yy(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,l=performance.getEntriesByType("resource"),i=0;i<l.length;i++){var d=l[i],m=d.transferSize,w=d.initiatorType,L=d.duration;if(m&&L&&Sh(w)){for(w=0,L=d.responseEnd,i+=1;i<l.length;i++){var G=l[i],ee=G.startTime;if(ee>L)break;var le=G.transferSize,ie=G.initiatorType;le&&Sh(ie)&&(G=G.responseEnd,w+=le*(G<L?1:(L-ee)/(G-ee)))}if(--i,s+=8*(m+w)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var rd=null,id=null;function Qr(t){return t.nodeType===9?t:t.ownerDocument}function Ch(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kh(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function od(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cd=null;function qy(){var t=window.event;return t&&t.type==="popstate"?t===cd?!1:(cd=t,!0):(cd=null,!1)}var Ah=typeof setTimeout=="function"?setTimeout:void 0,Hy=typeof clearTimeout=="function"?clearTimeout:void 0,Eh=typeof Promise=="function"?Promise:void 0,Fy=typeof queueMicrotask=="function"?queueMicrotask:typeof Eh<"u"?function(t){return Eh.resolve(null).then(t).catch(Vy)}:Ah;function Vy(t){setTimeout(function(){throw t})}function ta(t){return t==="head"}function Mh(t,s){var l=s,i=0;do{var d=l.nextSibling;if(t.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(i===0){t.removeChild(d),bl(s);return}i--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")i++;else if(l==="html")yn(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,yn(l);for(var m=l.firstChild;m;){var w=m.nextSibling,L=m.nodeName;m[Bl]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=w}}else l==="body"&&yn(t.ownerDocument.body);l=d}while(l);bl(s)}function Dh(t,s){var l=t;t=0;do{var i=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),i&&i.nodeType===8)if(l=i.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=i}while(l)}function dd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":dd(l),ho(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function Iy(t,s,l,i){for(;t.nodeType===1;){var d=l;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Bl])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Xt(t.nextSibling),t===null)break}return null}function Gy(t,s,l){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Xt(t.nextSibling),t===null))return null;return t}function Lh(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Xt(t.nextSibling),t===null))return null;return t}function ud(t){return t.data==="$?"||t.data==="$~"}function md(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Xy(t,s){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||l.readyState!=="loading")s();else{var i=function(){s(),l.removeEventListener("DOMContentLoaded",i)};l.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Xt(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var xd=null;function Rh(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(s===0)return Xt(t.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}t=t.nextSibling}return null}function Th(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return t;s--}else l!=="/$"&&l!=="/&"||s++}t=t.previousSibling}return null}function _h(t,s,l){switch(s=Qr(l),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function yn(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ho(t)}var Wt=new Map,Oh=new Set;function Jr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ds=A.d;A.d={f:Wy,r:Qy,D:Jy,C:Zy,L:Ky,m:ev,X:sv,S:tv,M:av};function Wy(){var t=Ds.f(),s=qr();return t||s}function Qy(t){var s=Ba(t);s!==null&&s.tag===5&&s.type==="form"?Zx(s):Ds.r(t)}var pl=typeof document>"u"?null:document;function Bh(t,s,l){var i=pl;if(i&&typeof s=="string"&&s){var d=Yt(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Oh.has(d)||(Oh.add(d),t={rel:t,crossOrigin:l,href:s},i.querySelector(d)===null&&(s=i.createElement("link"),ft(s,"link",t),dt(s),i.head.appendChild(s)))}}function Jy(t){Ds.D(t),Bh("dns-prefetch",t,null)}function Zy(t,s){Ds.C(t,s),Bh("preconnect",t,s)}function Ky(t,s,l){Ds.L(t,s,l);var i=pl;if(i&&t&&s){var d='link[rel="preload"][as="'+Yt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Yt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Yt(l.imageSizes)+'"]')):d+='[href="'+Yt(t)+'"]';var m=d;switch(s){case"style":m=hl(t);break;case"script":m=fl(t)}Wt.has(m)||(t=h({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:t,as:s},l),Wt.set(m,t),i.querySelector(d)!==null||s==="style"&&i.querySelector(vn(m))||s==="script"&&i.querySelector(jn(m))||(s=i.createElement("link"),ft(s,"link",t),dt(s),i.head.appendChild(s)))}}function ev(t,s){Ds.m(t,s);var l=pl;if(l&&t){var i=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Yt(i)+'"][href="'+Yt(t)+'"]',m=d;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=fl(t)}if(!Wt.has(m)&&(t=h({rel:"modulepreload",href:t},s),Wt.set(m,t),l.querySelector(d)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(jn(m)))return}i=l.createElement("link"),ft(i,"link",t),dt(i),l.head.appendChild(i)}}}function tv(t,s,l){Ds.S(t,s,l);var i=pl;if(i&&t){var d=za(i).hoistableStyles,m=hl(t);s=s||"default";var w=d.get(m);if(!w){var L={loading:0,preload:null};if(w=i.querySelector(vn(m)))L.loading=5;else{t=h({rel:"stylesheet",href:t,"data-precedence":s},l),(l=Wt.get(m))&&pd(t,l);var G=w=i.createElement("link");dt(G),ft(G,"link",t),G._p=new Promise(function(ee,le){G.onload=ee,G.onerror=le}),G.addEventListener("load",function(){L.loading|=1}),G.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Zr(w,s,i)}w={type:"stylesheet",instance:w,count:1,state:L},d.set(m,w)}}}function sv(t,s){Ds.X(t,s);var l=pl;if(l&&t){var i=za(l).hoistableScripts,d=fl(t),m=i.get(d);m||(m=l.querySelector(jn(d)),m||(t=h({src:t,async:!0},s),(s=Wt.get(d))&&hd(t,s),m=l.createElement("script"),dt(m),ft(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},i.set(d,m))}}function av(t,s){Ds.M(t,s);var l=pl;if(l&&t){var i=za(l).hoistableScripts,d=fl(t),m=i.get(d);m||(m=l.querySelector(jn(d)),m||(t=h({src:t,async:!0,type:"module"},s),(s=Wt.get(d))&&hd(t,s),m=l.createElement("script"),dt(m),ft(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},i.set(d,m))}}function zh(t,s,l,i){var d=(d=oe.current)?Jr(d):null;if(!d)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=hl(l.href),l=za(d).hoistableStyles,i=l.get(s),i||(i={type:"style",instance:null,count:0,state:null},l.set(s,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=hl(l.href);var m=za(d).hoistableStyles,w=m.get(t);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,w),(m=d.querySelector(vn(t)))&&!m._p&&(w.instance=m,w.state.loading=5),Wt.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Wt.set(t,l),m||lv(d,t,l,w.state))),s&&i===null)throw Error(o(528,""));return w}if(s&&i!==null)throw Error(o(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=fl(l),l=za(d).hoistableScripts,i=l.get(s),i||(i={type:"script",instance:null,count:0,state:null},l.set(s,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function hl(t){return'href="'+Yt(t)+'"'}function vn(t){return'link[rel="stylesheet"]['+t+"]"}function Uh(t){return h({},t,{"data-precedence":t.precedence,precedence:null})}function lv(t,s,l,i){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?i.loading=1:(s=t.createElement("link"),i.preload=s,s.addEventListener("load",function(){return i.loading|=1}),s.addEventListener("error",function(){return i.loading|=2}),ft(s,"link",l),dt(s),t.head.appendChild(s))}function fl(t){return'[src="'+Yt(t)+'"]'}function jn(t){return"script[async]"+t}function Ph(t,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var i=t.querySelector('style[data-href~="'+Yt(l.href)+'"]');if(i)return s.instance=i,dt(i),i;var d=h({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),dt(i),ft(i,"style",d),Zr(i,l.precedence,t),s.instance=i;case"stylesheet":d=hl(l.href);var m=t.querySelector(vn(d));if(m)return s.state.loading|=4,s.instance=m,dt(m),m;i=Uh(l),(d=Wt.get(d))&&pd(i,d),m=(t.ownerDocument||t).createElement("link"),dt(m);var w=m;return w._p=new Promise(function(L,G){w.onload=L,w.onerror=G}),ft(m,"link",i),s.state.loading|=4,Zr(m,l.precedence,t),s.instance=m;case"script":return m=fl(l.src),(d=t.querySelector(jn(m)))?(s.instance=d,dt(d),d):(i=l,(d=Wt.get(m))&&(i=h({},l),hd(i,d)),t=t.ownerDocument||t,d=t.createElement("script"),dt(d),ft(d,"link",i),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(i=s.instance,s.state.loading|=4,Zr(i,l.precedence,t));return s.instance}function Zr(t,s,l){for(var i=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=i.length?i[i.length-1]:null,m=d,w=0;w<i.length;w++){var L=i[w];if(L.dataset.precedence===s)m=L;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(t,s.firstChild))}function pd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function hd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Kr=null;function $h(t,s,l){if(Kr===null){var i=new Map,d=Kr=new Map;d.set(l,i)}else d=Kr,i=d.get(l),i||(i=new Map,d.set(l,i));if(i.has(t))return i;for(i.set(t,null),l=l.getElementsByTagName(t),d=0;d<l.length;d++){var m=l[d];if(!(m[Bl]||m[mt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(s)||"";w=t+w;var L=i.get(w);L?L.push(m):i.set(w,[m])}}return i}function Yh(t,s,l){t=t.ownerDocument||t,t.head.insertBefore(l,s==="title"?t.querySelector("head > title"):null)}function nv(t,s,l){if(l===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function qh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rv(t,s,l,i){if(l.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=hl(i.href),m=s.querySelector(vn(d));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=ei.bind(t),s.then(t,t)),l.state.loading|=4,l.instance=m,dt(m);return}m=s.ownerDocument||s,i=Uh(i),(d=Wt.get(d))&&pd(i,d),m=m.createElement("link"),dt(m);var w=m;w._p=new Promise(function(L,G){w.onload=L,w.onerror=G}),ft(m,"link",i),l.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=ei.bind(t),s.addEventListener("load",l),s.addEventListener("error",l))}}var fd=0;function iv(t,s){return t.stylesheets&&t.count===0&&si(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var i=setTimeout(function(){if(t.stylesheets&&si(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&fd===0&&(fd=62500*Yy());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&si(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>fd?50:800)+s);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(d)}}:null}function ei(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)si(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ti=null;function si(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ti=new Map,s.forEach(ov,t),ti=null,ei.call(t))}function ov(t,s){if(!(s.state.loading&4)){var l=ti.get(t);if(l)var i=l.get(null);else{l=new Map,ti.set(t,l);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var w=d[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),i=w)}i&&l.set(null,i)}d=s.instance,w=d.getAttribute("data-precedence"),m=l.get(w)||i,m===i&&l.set(null,d),l.set(w,d),this.count++,i=ei.bind(this),d.addEventListener("load",i),d.addEventListener("error",i),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var Nn={$$typeof:B,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function cv(t,s,l,i,d,m,w,L,G){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.hiddenUpdates=uo(null),this.identifierPrefix=i,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Hh(t,s,l,i,d,m,w,L,G,ee,le,ie){return t=new cv(t,s,l,w,G,ee,le,ie,L),s=1,m===!0&&(s|=24),m=Tt(3,null,null,s),t.current=m,m.stateNode=t,s=Wo(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:i,isDehydrated:l,cache:s},Ko(m),t}function Fh(t){return t?(t=Ga,t):Ga}function Vh(t,s,l,i,d,m){d=Fh(d),i.context===null?i.context=d:i.pendingContext=d,i=Fs(s),i.payload={element:l},m=m===void 0?null:m,m!==null&&(i.callback=m),l=Vs(t,i,s),l!==null&&(At(l,t,s),Kl(l,t,s))}function Ih(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<s?l:s}}function bd(t,s){Ih(t,s),(t=t.alternate)&&Ih(t,s)}function Gh(t){if(t.tag===13||t.tag===31){var s=fa(t,67108864);s!==null&&At(s,t,67108864),bd(t,67108864)}}function Xh(t){if(t.tag===13||t.tag===31){var s=Ut();s=mo(s);var l=fa(t,s);l!==null&&At(l,t,s),bd(t,s)}}var ai=!0;function dv(t,s,l,i){var d=I.T;I.T=null;var m=A.p;try{A.p=2,gd(t,s,l,i)}finally{A.p=m,I.T=d}}function uv(t,s,l,i){var d=I.T;I.T=null;var m=A.p;try{A.p=8,gd(t,s,l,i)}finally{A.p=m,I.T=d}}function gd(t,s,l,i){if(ai){var d=yd(i);if(d===null)ld(t,s,i,li,l),Qh(t,i);else if(xv(d,t,s,l,i))i.stopPropagation();else if(Qh(t,i),s&4&&-1<mv.indexOf(t)){for(;d!==null;){var m=Ba(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=ua(m.pendingLanes);if(w!==0){var L=m;for(L.pendingLanes|=2,L.entangledLanes|=2;w;){var G=1<<31-Lt(w);L.entanglements[1]|=G,w&=~G}cs(m),(ze&6)===0&&($r=Mt()+500,fn(0))}}break;case 31:case 13:L=fa(m,2),L!==null&&At(L,m,2),qr(),bd(m,2)}if(m=yd(i),m===null&&ld(t,s,i,li,l),m===d)break;d=m}d!==null&&i.stopPropagation()}else ld(t,s,i,null,l)}}function yd(t){return t=jo(t),vd(t)}var li=null;function vd(t){if(li=null,t=Oa(t),t!==null){var s=u(t);if(s===null)t=null;else{var l=s.tag;if(l===13){if(t=p(s),t!==null)return t;t=null}else if(l===31){if(t=b(s),t!==null)return t;t=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return li=t,null}function Wh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jb()){case am:return 2;case lm:return 8;case Gn:case Zb:return 32;case nm:return 268435456;default:return 32}default:return 32}}var jd=!1,sa=null,aa=null,la=null,wn=new Map,Sn=new Map,na=[],mv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qh(t,s){switch(t){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":wn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(s.pointerId)}}function Cn(t,s,l,i,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:l,eventSystemFlags:i,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Ba(s),s!==null&&Gh(s)),t):(t.eventSystemFlags|=i,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function xv(t,s,l,i,d){switch(s){case"focusin":return sa=Cn(sa,t,s,l,i,d),!0;case"dragenter":return aa=Cn(aa,t,s,l,i,d),!0;case"mouseover":return la=Cn(la,t,s,l,i,d),!0;case"pointerover":var m=d.pointerId;return wn.set(m,Cn(wn.get(m)||null,t,s,l,i,d)),!0;case"gotpointercapture":return m=d.pointerId,Sn.set(m,Cn(Sn.get(m)||null,t,s,l,i,d)),!0}return!1}function Jh(t){var s=Oa(t.target);if(s!==null){var l=u(s);if(l!==null){if(s=l.tag,s===13){if(s=p(l),s!==null){t.blockedOn=s,um(t.priority,function(){Xh(l)});return}}else if(s===31){if(s=b(l),s!==null){t.blockedOn=s,um(t.priority,function(){Xh(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ni(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var l=yd(t.nativeEvent);if(l===null){l=t.nativeEvent;var i=new l.constructor(l.type,l);vo=i,l.target.dispatchEvent(i),vo=null}else return s=Ba(l),s!==null&&Gh(s),t.blockedOn=l,!1;s.shift()}return!0}function Zh(t,s,l){ni(t)&&l.delete(s)}function pv(){jd=!1,sa!==null&&ni(sa)&&(sa=null),aa!==null&&ni(aa)&&(aa=null),la!==null&&ni(la)&&(la=null),wn.forEach(Zh),Sn.forEach(Zh)}function ri(t,s){t.blockedOn===s&&(t.blockedOn=null,jd||(jd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,pv)))}var ii=null;function Kh(t){ii!==t&&(ii=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ii===t&&(ii=null);for(var s=0;s<t.length;s+=3){var l=t[s],i=t[s+1],d=t[s+2];if(typeof i!="function"){if(vd(i||l)===null)continue;break}var m=Ba(l);m!==null&&(t.splice(s,3),s-=3,yc(m,{pending:!0,data:d,method:l.method,action:i},i,d))}}))}function bl(t){function s(G){return ri(G,t)}sa!==null&&ri(sa,t),aa!==null&&ri(aa,t),la!==null&&ri(la,t),wn.forEach(s),Sn.forEach(s);for(var l=0;l<na.length;l++){var i=na[l];i.blockedOn===t&&(i.blockedOn=null)}for(;0<na.length&&(l=na[0],l.blockedOn===null);)Jh(l),l.blockedOn===null&&na.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(i=0;i<l.length;i+=3){var d=l[i],m=l[i+1],w=d[jt]||null;if(typeof m=="function")w||Kh(l);else if(w){var L=null;if(m&&m.hasAttribute("formAction")){if(d=m,w=m[jt]||null)L=w.formAction;else if(vd(d)!==null)continue}else L=w.action;typeof L=="function"?l[i+1]=L:(l.splice(i,3),i-=3),Kh(l)}}}function ef(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(w){return d=w})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),i||setTimeout(l,20)}function l(){if(!i&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Nd(t){this._internalRoot=t}oi.prototype.render=Nd.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var l=s.current,i=Ut();Vh(l,i,t,s,null,null)},oi.prototype.unmount=Nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Vh(t.current,2,null,t,null,null),qr(),s[_a]=null}};function oi(t){this._internalRoot=t}oi.prototype.unstable_scheduleHydration=function(t){if(t){var s=dm();t={blockedOn:null,target:t,priority:s};for(var l=0;l<na.length&&s!==0&&s<na[l].priority;l++);na.splice(l,0,t),l===0&&Jh(t)}};var tf=n.version;if(tf!=="19.2.0")throw Error(o(527,tf,"19.2.0"));A.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=f(s),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var hv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ci.isDisabled&&ci.supportsFiber)try{Tl=ci.inject(hv),Dt=ci}catch{}}return An.createRoot=function(t,s){if(!c(t))throw Error(o(299));var l=!1,i="",d=op,m=cp,w=dp;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=Hh(t,1,!1,null,null,l,i,null,d,m,w,ef),t[_a]=s.current,ad(t),new Nd(s)},An.hydrateRoot=function(t,s,l){if(!c(t))throw Error(o(299));var i=!1,d="",m=op,w=cp,L=dp,G=null;return l!=null&&(l.unstable_strictMode===!0&&(i=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError),l.formState!==void 0&&(G=l.formState)),s=Hh(t,1,!0,s,l??null,i,d,G,m,w,L,ef),s.context=Fh(null),l=s.current,i=Ut(),i=mo(i),d=Fs(i),d.callback=null,Vs(l,d,i),l=i,s.current.lanes=l,Ol(s,l),cs(s),t[_a]=s.current,ad(t),new oi(s)},An.version="19.2.0",An}var mf;function Sv(){if(mf)return Cd.exports;mf=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Cd.exports=wv(),Cd.exports}var Cv=Sv();var xf="popstate";function kv(a={}){function n(o,c){let{pathname:u,search:p,hash:b}=o.location;return vu("",{pathname:u,search:p,hash:b},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(o,c){return typeof c=="string"?c:$n(c)}return Ev(n,r,null,a)}function Qe(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function Jt(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Av(){return Math.random().toString(36).substring(2,10)}function pf(a,n){return{usr:a.state,key:a.key,idx:n}}function vu(a,n,r=null,o){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof n=="string"?kl(n):n,state:r,key:n&&n.key||o||Av()}}function $n({pathname:a="/",search:n="",hash:r=""}){return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function kl(a){let n={};if(a){let r=a.indexOf("#");r>=0&&(n.hash=a.substring(r),a=a.substring(0,r));let o=a.indexOf("?");o>=0&&(n.search=a.substring(o),a=a.substring(0,o)),a&&(n.pathname=a)}return n}function Ev(a,n,r,o={}){let{window:c=document.defaultView,v5Compat:u=!1}=o,p=c.history,b="POP",y=null,f=g();f==null&&(f=0,p.replaceState({...p.state,idx:f},""));function g(){return(p.state||{idx:null}).idx}function h(){b="POP";let j=g(),S=j==null?null:j-f;f=j,y&&y({action:b,location:k.location,delta:S})}function v(j,S){b="PUSH";let _=vu(k.location,j,S);f=g()+1;let B=pf(_,f),D=k.createHref(_);try{p.pushState(B,"",D)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;c.location.assign(D)}u&&y&&y({action:b,location:k.location,delta:1})}function C(j,S){b="REPLACE";let _=vu(k.location,j,S);f=g();let B=pf(_,f),D=k.createHref(_);p.replaceState(B,"",D),u&&y&&y({action:b,location:k.location,delta:0})}function N(j){return Mv(j)}let k={get action(){return b},get location(){return a(c,p)},listen(j){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(xf,h),y=j,()=>{c.removeEventListener(xf,h),y=null}},createHref(j){return n(c,j)},createURL:N,encodeLocation(j){let S=N(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:C,go(j){return p.go(j)}};return k}function Mv(a,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(r,"No window.location.(origin|href) available to create URL");let o=typeof a=="string"?a:$n(a);return o=o.replace(/ $/,"%20"),!n&&o.startsWith("//")&&(o=r+o),new URL(o,r)}function V0(a,n,r="/"){return Dv(a,n,r,!1)}function Dv(a,n,r,o){let c=typeof n=="string"?kl(n):n,u=Ts(c.pathname||"/",r);if(u==null)return null;let p=I0(a);Lv(p);let b=null;for(let y=0;b==null&&y<p.length;++y){let f=qv(u);b=$v(p[y],f,o)}return b}function I0(a,n=[],r=[],o="",c=!1){let u=(p,b,y=c,f)=>{let g={relativePath:f===void 0?p.path||"":f,caseSensitive:p.caseSensitive===!0,childrenIndex:b,route:p};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(o)&&y)return;Qe(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length)}let h=Ls([o,g.relativePath]),v=r.concat(g);p.children&&p.children.length>0&&(Qe(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),I0(p.children,n,v,h,y)),!(p.path==null&&!p.index)&&n.push({path:h,score:Uv(h,p.index),routesMeta:v})};return a.forEach((p,b)=>{if(p.path===""||!p.path?.includes("?"))u(p,b);else for(let y of G0(p.path))u(p,b,!0,y)}),n}function G0(a){let n=a.split("/");if(n.length===0)return[];let[r,...o]=n,c=r.endsWith("?"),u=r.replace(/\?$/,"");if(o.length===0)return c?[u,""]:[u];let p=G0(o.join("/")),b=[];return b.push(...p.map(y=>y===""?u:[u,y].join("/"))),c&&b.push(...p),b.map(y=>a.startsWith("/")&&y===""?"/":y)}function Lv(a){a.sort((n,r)=>n.score!==r.score?r.score-n.score:Pv(n.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var Rv=/^:[\w-]+$/,Tv=3,_v=2,Ov=1,Bv=10,zv=-2,hf=a=>a==="*";function Uv(a,n){let r=a.split("/"),o=r.length;return r.some(hf)&&(o+=zv),n&&(o+=_v),r.filter(c=>!hf(c)).reduce((c,u)=>c+(Rv.test(u)?Tv:u===""?Ov:Bv),o)}function Pv(a,n){return a.length===n.length&&a.slice(0,-1).every((o,c)=>o===n[c])?a[a.length-1]-n[n.length-1]:0}function $v(a,n,r=!1){let{routesMeta:o}=a,c={},u="/",p=[];for(let b=0;b<o.length;++b){let y=o[b],f=b===o.length-1,g=u==="/"?n:n.slice(u.length)||"/",h=Yi({path:y.relativePath,caseSensitive:y.caseSensitive,end:f},g),v=y.route;if(!h&&f&&r&&!o[o.length-1].route.index&&(h=Yi({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},g)),!h)return null;Object.assign(c,h.params),p.push({params:c,pathname:Ls([u,h.pathname]),pathnameBase:Gv(Ls([u,h.pathnameBase])),route:v}),h.pathnameBase!=="/"&&(u=Ls([u,h.pathnameBase]))}return p}function Yi(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,o]=Yv(a.path,a.caseSensitive,a.end),c=n.match(r);if(!c)return null;let u=c[0],p=u.replace(/(.)\/+$/,"$1"),b=c.slice(1);return{params:o.reduce((f,{paramName:g,isOptional:h},v)=>{if(g==="*"){let N=b[v]||"";p=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const C=b[v];return h&&!C?f[g]=void 0:f[g]=(C||"").replace(/%2F/g,"/"),f},{}),pathname:u,pathnameBase:p,pattern:a}}function Yv(a,n=!1,r=!0){Jt(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let o=[],c="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,b,y)=>(o.push({paramName:b,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(o.push({paramName:"*"}),c+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":a!==""&&a!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),o]}function qv(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Jt(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),a}}function Ts(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,o=a.charAt(r);return o&&o!=="/"?null:a.slice(r)||"/"}var Hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fv=a=>Hv.test(a);function Vv(a,n="/"){let{pathname:r,search:o="",hash:c=""}=typeof a=="string"?kl(a):a,u;if(r)if(Fv(r))u=r;else{if(r.includes("//")){let p=r;r=r.replace(/\/\/+/g,"/"),Jt(!1,`Pathnames cannot have embedded double slashes - normalizing ${p} -> ${r}`)}r.startsWith("/")?u=ff(r.substring(1),"/"):u=ff(r,n)}else u=n;return{pathname:u,search:Xv(o),hash:Wv(c)}}function ff(a,n){let r=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function Md(a,n,r,o){return`Cannot include a '${a}' character in a manually specified \`to.${n}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Iv(a){return a.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function Tu(a){let n=Iv(a);return n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase)}function _u(a,n,r,o=!1){let c;typeof a=="string"?c=kl(a):(c={...a},Qe(!c.pathname||!c.pathname.includes("?"),Md("?","pathname","search",c)),Qe(!c.pathname||!c.pathname.includes("#"),Md("#","pathname","hash",c)),Qe(!c.search||!c.search.includes("#"),Md("#","search","hash",c)));let u=a===""||c.pathname==="",p=u?"/":c.pathname,b;if(p==null)b=r;else{let h=n.length-1;if(!o&&p.startsWith("..")){let v=p.split("/");for(;v[0]==="..";)v.shift(),h-=1;c.pathname=v.join("/")}b=h>=0?n[h]:"/"}let y=Vv(c,b),f=p&&p!=="/"&&p.endsWith("/"),g=(u||p===".")&&r.endsWith("/");return!y.pathname.endsWith("/")&&(f||g)&&(y.pathname+="/"),y}var Ls=a=>a.join("/").replace(/\/\/+/g,"/"),Gv=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Xv=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Wv=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Qv(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function Jv(a){return a.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var X0=["POST","PUT","PATCH","DELETE"];new Set(X0);var Zv=["GET",...X0];new Set(Zv);var Al=x.createContext(null);Al.displayName="DataRouter";var Gi=x.createContext(null);Gi.displayName="DataRouterState";x.createContext(!1);var W0=x.createContext({isTransitioning:!1});W0.displayName="ViewTransition";var Kv=x.createContext(new Map);Kv.displayName="Fetchers";var e2=x.createContext(null);e2.displayName="Await";var Zt=x.createContext(null);Zt.displayName="Navigation";var Hn=x.createContext(null);Hn.displayName="Location";var Kt=x.createContext({outlet:null,matches:[],isDataRoute:!1});Kt.displayName="Route";var Ou=x.createContext(null);Ou.displayName="RouteError";function t2(a,{relative:n}={}){Qe(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=x.useContext(Zt),{hash:c,pathname:u,search:p}=Fn(a,{relative:n}),b=u;return r!=="/"&&(b=u==="/"?r:Ls([r,u])),o.createHref({pathname:b,search:p,hash:c})}function El(){return x.useContext(Hn)!=null}function vt(){return Qe(El(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Hn).location}var Q0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J0(a){x.useContext(Zt).static||x.useLayoutEffect(a)}function Te(){let{isDataRoute:a}=x.useContext(Kt);return a?f2():s2()}function s2(){Qe(El(),"useNavigate() may be used only in the context of a <Router> component.");let a=x.useContext(Al),{basename:n,navigator:r}=x.useContext(Zt),{matches:o}=x.useContext(Kt),{pathname:c}=vt(),u=JSON.stringify(Tu(o)),p=x.useRef(!1);return J0(()=>{p.current=!0}),x.useCallback((y,f={})=>{if(Jt(p.current,Q0),!p.current)return;if(typeof y=="number"){r.go(y);return}let g=_u(y,JSON.parse(u),c,f.relative==="path");a==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:Ls([n,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[n,r,u,c,a])}var a2=x.createContext(null);function l2(a){let n=x.useContext(Kt).outlet;return x.useMemo(()=>n&&x.createElement(a2.Provider,{value:a},n),[n,a])}function Et(){let{matches:a}=x.useContext(Kt),n=a[a.length-1];return n?n.params:{}}function Fn(a,{relative:n}={}){let{matches:r}=x.useContext(Kt),{pathname:o}=vt(),c=JSON.stringify(Tu(r));return x.useMemo(()=>_u(a,JSON.parse(c),o,n==="path"),[a,c,o,n])}function n2(a,n){return Z0(a,n)}function Z0(a,n,r,o,c){Qe(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=x.useContext(Zt),{matches:p}=x.useContext(Kt),b=p[p.length-1],y=b?b.params:{},f=b?b.pathname:"/",g=b?b.pathnameBase:"/",h=b&&b.route;{let _=h&&h.path||"";K0(f,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let v=vt(),C;if(n){let _=typeof n=="string"?kl(n):n;Qe(g==="/"||_.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${_.pathname}" was given in the \`location\` prop.`),C=_}else C=v;let N=C.pathname||"/",k=N;if(g!=="/"){let _=g.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(_.length).join("/")}let j=V0(a,{pathname:k});Jt(h||j!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Jt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=d2(j&&j.map(_=>Object.assign({},_,{params:Object.assign({},y,_.params),pathname:Ls([g,u.encodeLocation?u.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?g:Ls([g,u.encodeLocation?u.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),p,r,o,c);return n&&S?x.createElement(Hn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},S):S}function r2(){let a=h2(),n=Qv(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",a),p=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},n),r?x.createElement("pre",{style:c},r):null,p)}var i2=x.createElement(r2,null),o2=class extends x.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,n){return n.location!==a.location||n.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:n.error,location:n.location,revalidation:a.revalidation||n.revalidation}}componentDidCatch(a,n){this.props.onError?this.props.onError(a,n):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?x.createElement(Kt.Provider,{value:this.props.routeContext},x.createElement(Ou.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c2({routeContext:a,match:n,children:r}){let o=x.useContext(Al);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Kt.Provider,{value:a},r)}function d2(a,n=[],r=null,o=null,c=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let u=a,p=r?.errors;if(p!=null){let g=u.findIndex(h=>h.route.id&&p?.[h.route.id]!==void 0);Qe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let b=!1,y=-1;if(r)for(let g=0;g<u.length;g++){let h=u[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(y=g),h.route.id){let{loaderData:v,errors:C}=r,N=h.route.loader&&!v.hasOwnProperty(h.route.id)&&(!C||C[h.route.id]===void 0);if(h.route.lazy||N){b=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let f=r&&o?(g,h)=>{o(g,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Jv(r.matches),errorInfo:h})}:void 0;return u.reduceRight((g,h,v)=>{let C,N=!1,k=null,j=null;r&&(C=p&&h.route.id?p[h.route.id]:void 0,k=h.route.errorElement||i2,b&&(y<0&&v===0?(K0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,j=null):y===v&&(N=!0,j=h.route.hydrateFallbackElement||null)));let S=n.concat(u.slice(0,v+1)),_=()=>{let B;return C?B=k:N?B=j:h.route.Component?B=x.createElement(h.route.Component,null):h.route.element?B=h.route.element:B=g,x.createElement(c2,{match:h,routeContext:{outlet:g,matches:S,isDataRoute:r!=null},children:B})};return r&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?x.createElement(o2,{location:r.location,revalidation:r.revalidation,component:k,error:C,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:f}):_()},null)}function Bu(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u2(a){let n=x.useContext(Al);return Qe(n,Bu(a)),n}function m2(a){let n=x.useContext(Gi);return Qe(n,Bu(a)),n}function x2(a){let n=x.useContext(Kt);return Qe(n,Bu(a)),n}function zu(a){let n=x2(a),r=n.matches[n.matches.length-1];return Qe(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function p2(){return zu("useRouteId")}function h2(){let a=x.useContext(Ou),n=m2("useRouteError"),r=zu("useRouteError");return a!==void 0?a:n.errors?.[r]}function f2(){let{router:a}=u2("useNavigate"),n=zu("useNavigate"),r=x.useRef(!1);return J0(()=>{r.current=!0}),x.useCallback(async(c,u={})=>{Jt(r.current,Q0),r.current&&(typeof c=="number"?await a.navigate(c):await a.navigate(c,{fromRouteId:n,...u}))},[a,n])}var bf={};function K0(a,n,r){!n&&!bf[a]&&(bf[a]=!0,Jt(!1,r))}x.memo(b2);function b2({routes:a,future:n,state:r,unstable_onError:o}){return Z0(a,void 0,r,o,n)}function Cl({to:a,replace:n,state:r,relative:o}){Qe(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=x.useContext(Zt);Jt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=x.useContext(Kt),{pathname:p}=vt(),b=Te(),y=_u(a,Tu(u),p,o==="path"),f=JSON.stringify(y);return x.useEffect(()=>{b(JSON.parse(f),{replace:n,state:r,relative:o})},[b,f,o,n,r]),null}function eb(a){return l2(a.context)}function xe(a){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g2({basename:a="/",children:n=null,location:r,navigationType:o="POP",navigator:c,static:u=!1,unstable_useTransitions:p}){Qe(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let b=a.replace(/^\/*/,"/"),y=x.useMemo(()=>({basename:b,navigator:c,static:u,unstable_useTransitions:p,future:{}}),[b,c,u,p]);typeof r=="string"&&(r=kl(r));let{pathname:f="/",search:g="",hash:h="",state:v=null,key:C="default"}=r,N=x.useMemo(()=>{let k=Ts(f,b);return k==null?null:{location:{pathname:k,search:g,hash:h,state:v,key:C},navigationType:o}},[b,f,g,h,v,C,o]);return Jt(N!=null,`<Router basename="${b}"> is not able to match the URL "${f}${g}${h}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:x.createElement(Zt.Provider,{value:y},x.createElement(Hn.Provider,{children:n,value:N}))}function y2({children:a,location:n}){return n2(ju(a),n)}function ju(a,n=[]){let r=[];return x.Children.forEach(a,(o,c)=>{if(!x.isValidElement(o))return;let u=[...n,c];if(o.type===x.Fragment){r.push.apply(r,ju(o.props.children,u));return}Qe(o.type===xe,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=ju(o.props.children,u)),r.push(p)}),r}var Ti="get",_i="application/x-www-form-urlencoded";function Xi(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function v2(a){return Xi(a)&&a.tagName.toLowerCase()==="button"}function j2(a){return Xi(a)&&a.tagName.toLowerCase()==="form"}function N2(a){return Xi(a)&&a.tagName.toLowerCase()==="input"}function w2(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function S2(a,n){return a.button===0&&(!n||n==="_self")&&!w2(a)}var di=null;function C2(){if(di===null)try{new FormData(document.createElement("form"),0),di=!1}catch{di=!0}return di}var k2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dd(a){return a!=null&&!k2.has(a)?(Jt(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_i}"`),null):a}function A2(a,n){let r,o,c,u,p;if(j2(a)){let b=a.getAttribute("action");o=b?Ts(b,n):null,r=a.getAttribute("method")||Ti,c=Dd(a.getAttribute("enctype"))||_i,u=new FormData(a)}else if(v2(a)||N2(a)&&(a.type==="submit"||a.type==="image")){let b=a.form;if(b==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||b.getAttribute("action");if(o=y?Ts(y,n):null,r=a.getAttribute("formmethod")||b.getAttribute("method")||Ti,c=Dd(a.getAttribute("formenctype"))||Dd(b.getAttribute("enctype"))||_i,u=new FormData(b,a),!C2()){let{name:f,type:g,value:h}=a;if(g==="image"){let v=f?`${f}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else f&&u.append(f,h)}}else{if(Xi(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ti,o=null,c=_i,p=a}return u&&c==="text/plain"&&(p=u,u=void 0),{action:o,method:r.toLowerCase(),encType:c,formData:u,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uu(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function E2(a,n,r){let o=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return o.pathname==="/"?o.pathname=`_root.${r}`:n&&Ts(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function M2(a,n){if(a.id in n)return n[a.id];try{let r=await import(a.module);return n[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D2(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function L2(a,n,r){let o=await Promise.all(a.map(async c=>{let u=n.routes[c.route.id];if(u){let p=await M2(u,r);return p.links?p.links():[]}return[]}));return O2(o.flat(1).filter(D2).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function gf(a,n,r,o,c,u){let p=(y,f)=>r[f]?y.route.id!==r[f].route.id:!0,b=(y,f)=>r[f].pathname!==y.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==y.params["*"];return u==="assets"?n.filter((y,f)=>p(y,f)||b(y,f)):u==="data"?n.filter((y,f)=>{let g=o.routes[y.route.id];if(!g||!g.hasLoader)return!1;if(p(y,f)||b(y,f))return!0;if(y.route.shouldRevalidate){let h=y.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function R2(a,n,{includeHydrateFallback:r}={}){return T2(a.map(o=>{let c=n.routes[o.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),r&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function T2(a){return[...new Set(a)]}function _2(a){let n={},r=Object.keys(a).sort();for(let o of r)n[o]=a[o];return n}function O2(a,n){let r=new Set;return new Set(n),a.reduce((o,c)=>{let u=JSON.stringify(_2(c));return r.has(u)||(r.add(u),o.push({key:u,link:c})),o},[])}function tb(){let a=x.useContext(Al);return Uu(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function B2(){let a=x.useContext(Gi);return Uu(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Pu=x.createContext(void 0);Pu.displayName="FrameworkContext";function sb(){let a=x.useContext(Pu);return Uu(a,"You must render this element inside a <HydratedRouter> element"),a}function z2(a,n){let r=x.useContext(Pu),[o,c]=x.useState(!1),[u,p]=x.useState(!1),{onFocus:b,onBlur:y,onMouseEnter:f,onMouseLeave:g,onTouchStart:h}=n,v=x.useRef(null);x.useEffect(()=>{if(a==="render"&&p(!0),a==="viewport"){let k=S=>{S.forEach(_=>{p(_.isIntersecting)})},j=new IntersectionObserver(k,{threshold:.5});return v.current&&j.observe(v.current),()=>{j.disconnect()}}},[a]),x.useEffect(()=>{if(o){let k=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(k)}}},[o]);let C=()=>{c(!0)},N=()=>{c(!1),p(!1)};return r?a!=="intent"?[u,v,{}]:[u,v,{onFocus:En(b,C),onBlur:En(y,N),onMouseEnter:En(f,C),onMouseLeave:En(g,N),onTouchStart:En(h,C)}]:[!1,v,{}]}function En(a,n){return r=>{a&&a(r),r.defaultPrevented||n(r)}}function U2({page:a,...n}){let{router:r}=tb(),o=x.useMemo(()=>V0(r.routes,a,r.basename),[r.routes,a,r.basename]);return o?x.createElement($2,{page:a,matches:o,...n}):null}function P2(a){let{manifest:n,routeModules:r}=sb(),[o,c]=x.useState([]);return x.useEffect(()=>{let u=!1;return L2(a,n,r).then(p=>{u||c(p)}),()=>{u=!0}},[a,n,r]),o}function $2({page:a,matches:n,...r}){let o=vt(),{manifest:c,routeModules:u}=sb(),{basename:p}=tb(),{loaderData:b,matches:y}=B2(),f=x.useMemo(()=>gf(a,n,y,c,o,"data"),[a,n,y,c,o]),g=x.useMemo(()=>gf(a,n,y,c,o,"assets"),[a,n,y,c,o]),h=x.useMemo(()=>{if(a===o.pathname+o.search+o.hash)return[];let N=new Set,k=!1;if(n.forEach(S=>{let _=c.routes[S.route.id];!_||!_.hasLoader||(!f.some(B=>B.route.id===S.route.id)&&S.route.id in b&&u[S.route.id]?.shouldRevalidate||_.hasClientLoader?k=!0:N.add(S.route.id))}),N.size===0)return[];let j=E2(a,p,"data");return k&&N.size>0&&j.searchParams.set("_routes",n.filter(S=>N.has(S.route.id)).map(S=>S.route.id).join(",")),[j.pathname+j.search]},[p,b,o,c,f,n,a,u]),v=x.useMemo(()=>R2(g,c),[g,c]),C=P2(g);return x.createElement(x.Fragment,null,h.map(N=>x.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...r})),v.map(N=>x.createElement("link",{key:N,rel:"modulepreload",href:N,...r})),C.map(({key:N,link:k})=>x.createElement("link",{key:N,nonce:r.nonce,...k})))}function Y2(...a){return n=>{a.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var ab=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ab&&(window.__reactRouterVersion="7.10.0")}catch{}function q2({basename:a,children:n,unstable_useTransitions:r,window:o}){let c=x.useRef();c.current==null&&(c.current=kv({window:o,v5Compat:!0}));let u=c.current,[p,b]=x.useState({action:u.action,location:u.location}),y=x.useCallback(f=>{r===!1?b(f):x.startTransition(()=>b(f))},[r]);return x.useLayoutEffect(()=>u.listen(y),[u,y]),x.createElement(g2,{basename:a,children:n,location:p.location,navigationType:p.action,navigator:u,unstable_useTransitions:r===!0})}var lb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=x.forwardRef(function({onClick:n,discover:r="render",prefetch:o="none",relative:c,reloadDocument:u,replace:p,state:b,target:y,to:f,preventScrollReset:g,viewTransition:h,...v},C){let{basename:N,unstable_useTransitions:k}=x.useContext(Zt),j=typeof f=="string"&&lb.test(f),S,_=!1;if(typeof f=="string"&&j&&(S=f,ab))try{let H=new URL(window.location.href),U=f.startsWith("//")?new URL(H.protocol+f):new URL(f),T=Ts(U.pathname,N);U.origin===H.origin&&T!=null?f=T+U.search+U.hash:_=!0}catch{Jt(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=t2(f,{relative:c}),[D,E,P]=z2(o,v),z=V2(f,{replace:p,state:b,target:y,preventScrollReset:g,relative:c,viewTransition:h,unstable_useTransitions:k});function $(H){n&&n(H),H.defaultPrevented||z(H)}let F=x.createElement("a",{...v,...P,href:S||B,onClick:_||u?n:$,ref:Y2(C,E),target:y,"data-discover":!j&&r==="render"?"true":void 0});return D&&!j?x.createElement(x.Fragment,null,F,x.createElement(U2,{page:B})):F});Le.displayName="Link";var Yn=x.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:o="",end:c=!1,style:u,to:p,viewTransition:b,children:y,...f},g){let h=Fn(p,{relative:f.relative}),v=vt(),C=x.useContext(Gi),{navigator:N,basename:k}=x.useContext(Zt),j=C!=null&&Q2(h)&&b===!0,S=N.encodeLocation?N.encodeLocation(h).pathname:h.pathname,_=v.pathname,B=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(_=_.toLowerCase(),B=B?B.toLowerCase():null,S=S.toLowerCase()),B&&k&&(B=Ts(B,k)||B);const D=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let E=_===S||!c&&_.startsWith(S)&&_.charAt(D)==="/",P=B!=null&&(B===S||!c&&B.startsWith(S)&&B.charAt(S.length)==="/"),z={isActive:E,isPending:P,isTransitioning:j},$=E?n:void 0,F;typeof o=="function"?F=o(z):F=[o,E?"active":null,P?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let H=typeof u=="function"?u(z):u;return x.createElement(Le,{...f,"aria-current":$,className:F,ref:g,style:H,to:p,viewTransition:b},typeof y=="function"?y(z):y)});Yn.displayName="NavLink";var H2=x.forwardRef(({discover:a="render",fetcherKey:n,navigate:r,reloadDocument:o,replace:c,state:u,method:p=Ti,action:b,onSubmit:y,relative:f,preventScrollReset:g,viewTransition:h,...v},C)=>{let{unstable_useTransitions:N}=x.useContext(Zt),k=X2(),j=W2(b,{relative:f}),S=p.toLowerCase()==="get"?"get":"post",_=typeof b=="string"&&lb.test(b),B=D=>{if(y&&y(D),D.defaultPrevented)return;D.preventDefault();let E=D.nativeEvent.submitter,P=E?.getAttribute("formmethod")||p,z=()=>k(E||D.currentTarget,{fetcherKey:n,method:P,navigate:r,replace:c,state:u,relative:f,preventScrollReset:g,viewTransition:h});N&&r!==!1?x.startTransition(()=>z()):z()};return x.createElement("form",{ref:C,method:S,action:j,onSubmit:o?y:B,...v,"data-discover":!_&&a==="render"?"true":void 0})});H2.displayName="Form";function F2(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nb(a){let n=x.useContext(Al);return Qe(n,F2(a)),n}function V2(a,{target:n,replace:r,state:o,preventScrollReset:c,relative:u,viewTransition:p,unstable_useTransitions:b}={}){let y=Te(),f=vt(),g=Fn(a,{relative:u});return x.useCallback(h=>{if(S2(h,n)){h.preventDefault();let v=r!==void 0?r:$n(f)===$n(g),C=()=>y(a,{replace:v,state:o,preventScrollReset:c,relative:u,viewTransition:p});b?x.startTransition(()=>C()):C()}},[f,y,g,r,o,n,a,c,u,p,b])}var I2=0,G2=()=>`__${String(++I2)}__`;function X2(){let{router:a}=nb("useSubmit"),{basename:n}=x.useContext(Zt),r=p2(),o=a.fetch,c=a.navigate;return x.useCallback(async(u,p={})=>{let{action:b,method:y,encType:f,formData:g,body:h}=A2(u,n);if(p.navigate===!1){let v=p.fetcherKey||G2();await o(v,r,p.action||b,{preventScrollReset:p.preventScrollReset,formData:g,body:h,formMethod:p.method||y,formEncType:p.encType||f,flushSync:p.flushSync})}else await c(p.action||b,{preventScrollReset:p.preventScrollReset,formData:g,body:h,formMethod:p.method||y,formEncType:p.encType||f,replace:p.replace,state:p.state,fromRouteId:r,flushSync:p.flushSync,viewTransition:p.viewTransition})},[o,c,n,r])}function W2(a,{relative:n}={}){let{basename:r}=x.useContext(Zt),o=x.useContext(Kt);Qe(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),u={...Fn(a||".",{relative:n})},p=vt();if(a==null){u.search=p.search;let b=new URLSearchParams(u.search),y=b.getAll("index");if(y.some(g=>g==="")){b.delete("index"),y.filter(h=>h).forEach(h=>b.append("index",h));let g=b.toString();u.search=g?`?${g}`:""}}return(!a||a===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Ls([r,u.pathname])),$n(u)}function Q2(a,{relative:n}={}){let r=x.useContext(W0);Qe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=nb("useViewTransitionState"),c=Fn(a,{relative:n});if(!r.isTransitioning)return!1;let u=Ts(r.currentLocation.pathname,o)||r.currentLocation.pathname,p=Ts(r.nextLocation.pathname,o)||r.nextLocation.pathname;return Yi(c.pathname,p)!=null||Yi(c.pathname,u)!=null}var rb=F0();const J2=[{label:"Home",path:"/"},{label:"Directory",path:"/directory"},{label:"Events",path:"/events"},{label:"Mentorship",path:"/mentorship"},{label:"Gallery",path:"/gallery"}],yf=({onNavigate:a})=>e.jsx(e.Fragment,{children:J2.map(n=>e.jsx(Yn,{to:n.path,onClick:a,className:({isActive:r})=>`text-sm font-medium tracking-tight transition duration-150 ${r?"text-primary underline decoration-2 underline-offset-8":"text-slate-500 hover:text-slate-900"}`,"aria-label":n.label,children:n.label},n.path))}),Z2=()=>{const[a,n]=x.useState(!1),r=()=>n(c=>!c),o=()=>n(!1);return e.jsxs("header",{className:"sticky top-0 z-30 border-b border-slate-100 bg-white/95 shadow-sm backdrop-blur",children:[e.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-6 py-4 lg:px-8",role:"navigation","aria-label":"Primary",children:[e.jsxs(Le,{to:"/",className:"flex items-center gap-3","aria-label":"AlumConnect home",children:[e.jsx("span",{className:"grid h-10 w-10 place-items-center rounded-2xl bg-primary text-lg font-bold text-white",children:"A"}),e.jsx("span",{className:"text-lg font-semibold text-slate-900",children:"AlumConnect"})]}),e.jsx("nav",{className:"hidden items-center gap-6 md:flex",children:e.jsx(yf,{})}),e.jsxs("div",{className:"hidden items-center gap-3 md:flex",children:[e.jsx(Le,{to:"/login",className:"rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-700 transition hover:border-slate-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"Login"}),e.jsx(Le,{to:"/signup",className:"rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white transition hover:bg-primary-dark focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"Sign Up"})]}),e.jsx("button",{type:"button",className:"md:hidden",onClick:r,"aria-label":"Toggle navigation menu","aria-expanded":a,children:e.jsx("span",{className:"inline-flex h-11 w-11 items-center justify-center rounded-2xl border border-slate-200 text-slate-900",children:e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a?e.jsx("path",{d:"M18 6L6 18M6 6l12 12"}):e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M4 6h16"}),e.jsx("path",{d:"M4 12h16"}),e.jsx("path",{d:"M4 18h16"})]})})})})]}),a&&e.jsx("div",{className:"border-t border-slate-100 bg-white/95 px-6 py-4 shadow-sm md:hidden",children:e.jsxs("nav",{className:"flex flex-col gap-4",role:"navigation","aria-label":"Mobile primary",children:[e.jsx(yf,{onNavigate:o}),e.jsxs("div",{className:"mt-4 flex flex-col gap-3",children:[e.jsx(Le,{to:"/login",onClick:o,className:"rounded-full border border-slate-200 px-5 py-2 text-center text-sm font-semibold text-slate-700 transition hover:border-slate-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"Login"}),e.jsx(Le,{to:"/signup",onClick:o,className:"rounded-full bg-primary px-5 py-2 text-center text-sm font-semibold text-white transition hover:bg-primary-dark focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"Sign Up"})]})]})})]})},K2=[{label:"About Us",path:"/about"},{label:"Directory",path:"/directory"},{label:"Careers",path:"/careers"}],ej=()=>e.jsx("footer",{className:"mt-16 bg-[#0B1220] text-white",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-6 py-12 lg:px-8",children:[e.jsxs("div",{className:"grid gap-10 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 text-xl font-semibold",children:[e.jsx("span",{className:"grid h-10 w-10 place-items-center rounded-xl bg-primary text-white",children:"A"}),"AlumConnect"]}),e.jsx("p",{className:"mt-4 text-sm text-white/70",children:"Connecting generations of learners and leaders. Join our community to mentor, learn, and grow together."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold uppercase tracking-widest text-white/80",children:"Quick Links"}),e.jsx("ul",{className:"mt-4 space-y-2 text-sm text-white/70",children:K2.map(a=>e.jsx("li",{children:e.jsx(Le,{to:a.path,className:"transition hover:text-white",children:a.label})},a.path))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold uppercase tracking-widest text-white/80",children:"Contact"}),e.jsxs("ul",{className:"mt-4 space-y-2 text-sm text-white/70",children:[e.jsx("li",{children:"unihub@alumconnect.edu"}),e.jsx("li",{children:"+1 (555) 123-4567"}),e.jsx("li",{children:"123 University Ave, City"})]}),e.jsxs("form",{className:"mt-4 flex flex-col gap-3 sm:flex-row",children:[e.jsx("label",{htmlFor:"newsletter",className:"sr-only",children:"Email address"}),e.jsx("input",{id:"newsletter",type:"email",placeholder:"Email",className:"w-full rounded-lg border border-white/15 bg-white/10 px-4 py-2 text-sm text-white placeholder:text-white/60 focus:border-white focus:outline-none"}),e.jsx("button",{type:"submit",className:"rounded-lg bg-primary px-5 py-2 text-sm font-semibold text-white transition hover:bg-primary-dark focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white",children:"Subscribe"})]})]})]}),e.jsx("div",{className:"mt-10 border-t border-white/10 pt-6 text-center text-xs text-white/60",children:" 2024 AlumConnect. All rights reserved."})]})}),tj=()=>e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Z2,{}),e.jsx("main",{className:"mx-auto flex w-full max-w-7xl flex-1 flex-col px-6 py-12 lg:px-8",children:e.jsx(eb,{})}),e.jsx(ej,{})]}),Ld={sm:"h-8 w-8 text-xs",md:"h-12 w-12 text-sm",lg:"h-[72px] w-[72px] text-2xl",xl:"h-[110px] w-[110px] text-4xl"},vf={online:"bg-emerald-500",idle:"bg-amber-400",busy:"bg-rose-500"},$u=({src:a,name:n="",size:r="md",status:o})=>{const c=Ld[r]?r:"md",u=sj(n),p=!!(o&&vf[o]);return e.jsxs("div",{className:"relative inline-flex",children:[a?e.jsx("img",{src:a,alt:n?`${n} avatar`:"Profile avatar",className:`rounded-full object-cover ${Ld[c]}`}):e.jsx("span",{className:`grid place-items-center rounded-full bg-primary/10 font-semibold uppercase text-primary ${Ld[c]}`,"aria-hidden":!n,children:u}),p&&e.jsx("span",{className:`absolute bottom-0 right-0 h-3.5 w-3.5 rounded-full border-2 border-white ${vf[o]}`,"aria-label":`${o} status`})]})},sj=(a="")=>{if(!a.trim())return"A";const n=a.trim().split(" "),r=n[0]?.[0]??"",o=n.length>1?n[n.length-1]?.[0]??"":"";return`${r}${o}`.toUpperCase()},aj=(a=5)=>Array.from({length:5},(n,r)=>e.jsx("svg",{className:`h-4 w-4 ${r<a?"text-amber-400":"text-slate-200"}`,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M9.049 2.927c.298-.921 1.604-.921 1.902 0l1.122 3.474a1 1 0 00.95.69h3.65c.969 0 1.371 1.24.588 1.81l-2.954 2.146a1 1 0 00-.364 1.118l1.122 3.473c.299.922-.755 1.688-1.54 1.118l-2.954-2.146a1 1 0 00-1.175 0l-2.954 2.146c-.784.57-1.838-.196-1.54-1.118l1.123-3.473a1 1 0 00-.365-1.118L2.64 8.901c-.783-.57-.38-1.81.588-1.81h3.65a1 1 0 00.95-.69l1.221-3.474z"})},r)),lj=({mentor:a})=>{const{name:n,role:r,avatar:o,rating:c}=a;return e.jsxs("article",{className:"flex flex-col gap-4 rounded-2xl bg-white p-6 text-center shadow-soft",children:[e.jsx($u,{src:o,name:n,size:"lg"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:n}),e.jsx("p",{className:"text-sm text-slate-500",children:r})]}),e.jsxs("div",{className:"flex items-center justify-center gap-1","aria-label":`${c} star rating`,children:[aj(c),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:c.toFixed(1)})]}),e.jsx("button",{type:"button",className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-700 transition hover:border-slate-300 hover:text-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"Request Mentorship"})]})},nj=({event:a})=>{const n=Te(),{title:r,date:o,type:c,location:u,image:p}=a,b=()=>{n(`/events/${a.id}`)};return e.jsxs("article",{className:"relative flex flex-col overflow-hidden rounded-2xl bg-white shadow-soft transition hover:-translate-y-1 hover:shadow-lg",children:[e.jsxs("div",{className:"relative h-48 w-full",children:[e.jsx("img",{src:p,alt:`${r} promotional`,className:"h-full w-full object-cover"}),e.jsx("span",{className:"absolute left-4 top-4 rounded-full bg-white/90 px-3 py-1 text-xs font-semibold uppercase text-slate-800",children:c}),e.jsx("span",{className:"absolute right-4 top-4 rounded-lg bg-primary px-3 py-1 text-xs font-semibold text-white",children:o})]}),e.jsxs("div",{className:"flex flex-1 flex-col px-6 py-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:r}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:u}),e.jsx("div",{className:"mt-auto pt-6",children:e.jsxs("button",{type:"button",onClick:b,className:"flex items-center gap-2 text-sm font-semibold text-primary transition hover:text-primary-dark focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary","aria-label":`View details for ${r}`,children:["View Details",e.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M7 4l6 6-6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})]})},rj=({icon:a,title:n,value:r,iconClass:o="bg-soft-purple text-primary"})=>e.jsxs("div",{className:"flex items-center gap-4 rounded-2xl bg-white px-6 py-5 shadow-soft",children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl text-xl ${o}`,"aria-hidden":"true",children:a}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:n}),e.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:r})]})]}),Ml="http://localhost:5000/api",Wi=(a="")=>{if(!a)return"";const n=a.startsWith("/")?a:`/${a}`;return Ml.endsWith("/api")&&n.startsWith("/api/")?n.slice(4):n},Qi=async a=>{const n=await a.json().catch(()=>({}));if(!a.ok){const r=n?.message||"Something went wrong.",o=new Error(r);throw o.status=a.status,o.details=n,o}return n},Ji=(a,n,r=!0,o=!1)=>{const c={};if(o||(c["Content-Type"]="application/json"),r){const p=ib();p&&(c.Authorization=`Bearer ${p}`)}const u={method:a,headers:c};return n!==void 0&&(u.body=o?n:JSON.stringify(n)),u},ce=async(a,n={})=>{const r=await fetch(`${Ml}${Wi(a)}`,{...Ji("GET",void 0,n.includeAuth!==!1),...n.fetchOptions});return Qi(r)},_e=async(a,n,r={})=>{const o=n instanceof FormData,c=Ji("POST",n,r.includeAuth!==!1,o),u={...c,...r.fetchOptions,headers:{...c.headers,...r.fetchOptions?.headers}},p=await fetch(`${Ml}${Wi(a)}`,u);return Qi(p)},Pt=async(a,n,r={})=>{const o=n instanceof FormData,c=Ji("PUT",n,r.includeAuth!==!1,o),u={...c,...r.fetchOptions,headers:{...c.headers,...r.fetchOptions?.headers}},p=await fetch(`${Ml}${Wi(a)}`,u);return Qi(p)},Dl=async(a,n={})=>{const r=Ji("DELETE",void 0,n.includeAuth!==!1),o={...r,...n.fetchOptions,headers:{...r.headers,...n.fetchOptions?.headers}},c=await fetch(`${Ml}${Wi(a)}`,o);return Qi(c)},ui=a=>{typeof window>"u"||(a?window.localStorage.setItem("token",a):window.localStorage.removeItem("token"))},ib=()=>typeof window>"u"?null:window.localStorage.getItem("token"),ob=Object.freeze(["online","in-person","hybrid"]),ij=ob,oj=a=>{const n=String(a??"").toLowerCase().trim();return ob.includes(n)?n:"in-person"},jf=a=>{if(!a)return"";const n=new Date(a);return Number.isNaN(n.getTime())?"":n.toISOString()},La=a=>a?{...a,mode:oj(a.mode),startAt:jf(a.startAt),endAt:jf(a.endAt),isRegistered:!!a.isRegistered,registrationCount:typeof a.registrationCount=="number"?a.registrationCount:0}:null,Ta=()=>{const[a,n]=x.useState([]),[r,o]=x.useState(!0),[c,u]=x.useState(null),p=x.useCallback(async()=>{o(!0),u(null);try{const g=await ce("/events",{includeAuth:!1}),h=Array.isArray(g?.data)?g.data:[];n(h.map(La).filter(Boolean))}catch(g){u(g),console.error("Unable to load events:",g)}finally{o(!1)}},[]);x.useEffect(()=>{p()},[p]);const b=x.useCallback(async(g,h)=>{try{const v=await Pt(`/events/${g}`,h),C=La(v?.data);return C&&n(N=>N.some(j=>j.id===C.id)?N.map(j=>j.id===C.id?C:j):N),C}catch(v){throw console.error("useEvents: Unable to update event:",v),v}},[]),y=x.useCallback(async({title:g,description:h,location:v,coverImage:C,startAt:N,endAt:k,mode:j,registrationLink:S,organization:_,department:B,branch:D})=>{try{console.log("useEvents: Creating event with data:",{title:g,description:h,location:v,coverImage:C,startAt:N,endAt:k,mode:j,registrationLink:S,organization:_,department:B,branch:D});const E=await _e("/events",{title:g,description:h,location:v,coverImage:C,startAt:N,endAt:k,mode:j,registrationLink:S,organization:_,department:B,branch:D});console.log("useEvents: API response:",E);const P=La(E?.data);return P&&n(z=>[P,...z]),P}catch(E){throw console.error("useEvents: Unable to publish event:",E),E}},[]),f=x.useCallback(async(g,h)=>{try{const v=await _e(`/events/${g}/register`,h),C=La(v?.data);return C&&n(N=>N.some(j=>j.id===C.id)?N.map(j=>j.id===C.id?C:j):N),C}catch(v){throw console.error("useEvents: Unable to register for event:",v),v}},[]);return x.useMemo(()=>({items:a,loading:r,error:c,refresh:p,createEvent:y,updateEvent:b,registerForEvent:f,getEventById:async g=>{try{const h=await ce(`/events/${g}`,{includeAuth:!1});return La(h?.data)}catch(h){throw console.error("Failed to get event by id:",h),h}}}),[a,r,c,p,y,b,f])},cj=a=>{const[n,r]=x.useState(null),[o,c]=x.useState(!0),[u,p]=x.useState(null);x.useEffect(()=>{let y=!0;return a?((async()=>{c(!0),p(null);try{const g=await ce(`/events/${a}`,{includeAuth:!0});if(!y)return;r(La(g?.data??null))}catch(g){if(!y)return;p(g),console.error("Unable to load event:",g)}finally{y&&c(!1)}})(),()=>{y=!1}):(c(!1),r(null),()=>{})},[a]);const b=x.useCallback(async y=>{if(!a)throw new Error("Event id is required to register");const f=await _e(`/events/${a}/register`,y),g=La(f?.data);return r(g),g},[a]);return{data:n,loading:o,error:u,register:b}},dj=[{title:"Total Alumni",value:"12,500+",icon:"",iconClass:"bg-soft-purple/60 text-primary"},{title:"Students Connected",value:"4,200+",icon:"",iconClass:"bg-soft-green/80 text-emerald-600"},{title:"Mentorship Sessions",value:"1,800+",icon:"",iconClass:"bg-soft-purple/60 text-purple-600"},{title:"Events Hosted",value:"350+",icon:"",iconClass:"bg-soft-yellow text-amber-600"}],uj=[{name:"Shiri Agarwal",role:"Product @ TechLabs",rating:4.9,avatar:"https://i.pravatar.cc/150?img=5"},{name:"Shubham Kumar",role:"Marketing @ Vive India",rating:4.8,avatar:"https://i.pravatar.cc/150?img=12"},{name:"Palak Gupta",role:"Analyst @ Accentra",rating:4.7,avatar:"https://i.pravatar.cc/150?img=47"},{name:"Dhananjay Shah",role:"Manager @ Commerz",rating:4.9,avatar:"https://i.pravatar.cc/150?img=64"}],mj=()=>{const[a,n]=x.useState([]),{items:r,loading:o,refresh:c}=Ta();return x.useEffect(()=>{n(r.slice(0,3))},[r]),x.useEffect(()=>{c()},[c]),e.jsxs("div",{className:"space-y-16",children:[e.jsxs("section",{className:"grid gap-10 rounded-3xl bg-white p-10 shadow-soft lg:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-primary",children:"Community-first"}),e.jsxs("h1",{className:"mt-4 text-5xl font-bold leading-tight text-slate-900",children:["Connecting Students,",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-gradient-to-r from-primary to-primary-dark bg-clip-text",children:"Alumni & Faculty"})]}),e.jsx("p",{className:"mt-6 text-lg text-slate-600",children:"Join the ultimate network to foster relationships, share knowledge, and build careers. Reconnect with your alma mater today."}),e.jsxs("div",{className:"mt-8 flex flex-wrap gap-4",children:[e.jsx("button",{className:"rounded-full bg-primary px-8 py-3 text-sm font-semibold text-white transition hover:bg-primary-dark focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"Get Started"}),e.jsx("button",{className:"rounded-full border border-slate-200 px-8 py-3 text-sm font-semibold text-slate-700 transition hover:border-slate-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"Learn More"})]})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"h-80 w-full max-w-md rounded-3xl border border-dashed border-slate-200 bg-slate-50 text-center text-slate-400",children:e.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2",children:[e.jsx("span",{className:"text-lg font-semibold",children:"University students"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Hero image placeholder"})]})})})]}),e.jsx("section",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:dj.map(u=>e.jsx(rj,{...u},u.title))}),e.jsxs("section",{className:"rounded-3xl bg-white p-8 shadow-soft",children:[e.jsxs("div",{className:"mb-8 flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Top Mentors"}),e.jsx("button",{className:"rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-700 transition hover:border-slate-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"View All Mentors"})]}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:uj.map(u=>e.jsx(lj,{mentor:u},u.name))})]}),e.jsxs("section",{className:"rounded-3xl bg-white p-8 shadow-soft",children:[e.jsxs("div",{className:"mb-8 flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Upcoming Events"}),e.jsx("button",{className:"rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-700 transition hover:border-slate-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"View All Events"})]}),e.jsx("div",{className:"grid gap-6 lg:grid-cols-3",children:o?Array.from({length:3}).map((u,p)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-48 w-full bg-slate-200 rounded-2xl mb-4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-slate-200 rounded w-3/4"})]},p)):a.map(u=>e.jsx(nj,{event:u},u.id))})]})]})},xj=({event:a})=>{const n=Te(),{title:r,location:o,date:c,type:u,image:p}=a,b=()=>{n(`/events/${a.id}`)};return e.jsxs("article",{className:"flex flex-col overflow-hidden rounded-3xl bg-white shadow-soft transition hover:-translate-y-1 hover:shadow-lg",children:[e.jsxs("div",{className:"relative h-48 w-full",children:[e.jsx("img",{src:p,alt:`${r} promotional`,className:"h-full w-full object-cover"}),e.jsx("span",{className:"absolute left-4 top-4 rounded-full bg-white/90 px-3 py-1 text-xs font-semibold uppercase text-slate-800",children:u}),e.jsx("span",{className:"absolute right-4 top-4 rounded-lg bg-primary px-3 py-1 text-xs font-semibold text-white",children:c})]}),e.jsxs("div",{className:"flex flex-1 flex-col px-6 py-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:r}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:o}),e.jsx("div",{className:"mt-auto pt-6",children:e.jsx("button",{type:"button",onClick:b,className:"text-sm font-semibold text-primary transition hover:text-primary-dark focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary","aria-label":`View details for ${r}`,children:"View Details"})})]})]})},Rd="rounded-full border border-slate-200 px-3 py-2 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary hover:shadow focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary disabled:cursor-not-allowed disabled:opacity-50",pj=({currentPage:a=1,totalPages:n=1,onPageChange:r})=>{if(!n||n<=1)return null;const o=u=>{u===a||u<1||u>n||r?.(u)},c=Array.from({length:n},(u,p)=>p+1);return e.jsxs("nav",{className:"flex flex-wrap items-center justify-center gap-2","aria-label":"Pagination",children:[e.jsx("button",{type:"button",className:Rd,onClick:()=>o(a-1),disabled:a===1,children:"Prev"}),c.map(u=>{const p=u===a;return e.jsx("button",{type:"button",className:`${Rd} ${p?"border-primary bg-primary/5 text-primary shadow":""}`,onClick:()=>o(u),"aria-current":p?"page":void 0,children:u},u)}),e.jsx("button",{type:"button",className:Rd,onClick:()=>o(a+1),disabled:a===n,children:"Next"})]})},qn=({className:a="",style:n})=>e.jsx("div",{className:`skeleton ${a}`,style:n,"aria-hidden":"true"}),Nu=({lines:a=1,widths:n=[],className:r=""})=>e.jsx("div",{className:`space-y-2 ${r}`,children:Array.from({length:a}).map((o,c)=>e.jsx(qn,{className:"h-3 w-full rounded-full",style:{width:n[c]??"100%"}},c))}),hj=({children:a,className:n=""})=>e.jsx("div",{className:`rounded-3xl border border-slate-100 bg-white p-6 shadow-soft ${n}`,children:a??e.jsxs("div",{className:"space-y-4",children:[e.jsx(qn,{className:"h-32 w-full rounded-2xl"}),e.jsx(Nu,{lines:2,widths:["75%","45%"]}),e.jsx(qn,{className:"h-10 w-32 rounded-full"})]})}),mi=6,fj=()=>{const[a,n]=x.useState(1),[r,o]=x.useState([]),[c,u]=x.useState(1),[p,b]=x.useState(!1),{listEvents:y}=Ta();return x.useEffect(()=>{let f=!1;return b(!0),(async()=>{try{const h=await y();if(f)return;if(h.success){const v=h.data,C=Math.max(1,Math.ceil(v.length/mi)),N=(a-1)*mi,k=v.slice(N,N+mi);o(k),u(C)}}catch(h){console.error("Failed to fetch events:",h),f||(o([]),u(1))}finally{f||b(!1)}})(),()=>{f=!0}},[a,y]),e.jsxs("div",{className:"space-y-10",children:[e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-primary",children:"Community"}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900",children:"Events"}),e.jsx("p",{className:"text-slate-500",children:"Discover upcoming experiences hosted by AlumConnect network."})]}),e.jsx("button",{className:"rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-700 transition hover:border-slate-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"View All Events"})]}),p&&r.length===0?e.jsx("section",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:mi}).map((f,g)=>e.jsx(hj,{},g))}):e.jsx("section",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r.map(f=>e.jsx(xj,{event:f},f.id))}),e.jsx("div",{className:"flex justify-center",children:e.jsx(pj,{currentPage:a,totalPages:c,onPageChange:n})})]})},bj=(a=5)=>Array.from({length:5},(n,r)=>e.jsx("svg",{className:`h-4 w-4 ${r<a?"text-amber-400":"text-slate-200"}`,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M9.049 2.927c.298-.921 1.604-.921 1.902 0l1.122 3.474a1 1 0 00.95.69h3.65c.969 0 1.371 1.24.588 1.81l-2.954 2.146a1 1 0 00-.364 1.118l1.122 3.473c.299.922-.755 1.688-1.54 1.118l-2.954-2.146a1 1 0 00-1.175 0l-2.954 2.146c-.784.57-1.838-.196-1.54-1.118l1.123-3.473a1 1 0 00-.365-1.118L2.64 8.901c-.783-.57-.38-1.81.588-1.81h3.65a1 1 0 00.95-.69l1.221-3.474z"})},r)),gj=({mentor:a})=>{const{name:n,role:r,company:o,rating:c,avatar:u}=a;return e.jsxs("article",{className:"flex flex-col items-center gap-4 rounded-3xl bg-white p-6 text-center shadow-soft",children:[e.jsx("img",{src:u,alt:`${n} avatar`,className:"h-20 w-20 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:n}),e.jsxs("p",{className:"text-sm text-slate-500",children:[r," @ ",o]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-1","aria-label":`${c} out of 5 stars`,children:[bj(Math.round(c)),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:c.toFixed(1)})]}),e.jsx("button",{type:"button",className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-700 transition hover:border-primary hover:text-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"Request Mentorship"})]})},yj=[{name:"Shiri Agarwal",role:"Product Lead",company:"TechLabs",rating:4.9,avatar:"https://i.pravatar.cc/150?img=5"},{name:"Shubham Kumar",role:"Marketing Strategist",company:"Vive India",rating:4.8,avatar:"https://i.pravatar.cc/150?img=12"},{name:"Palak Gupta",role:"Data Analyst",company:"Accentra",rating:4.7,avatar:"https://i.pravatar.cc/150?img=47"},{name:"Dhananjay Shah",role:"Manager",company:"Commerz",rating:4.9,avatar:"https://i.pravatar.cc/150?img=64"},{name:"Ananya Patel",role:"UX Researcher",company:"Nova Labs",rating:4.8,avatar:"https://i.pravatar.cc/150?img=45"},{name:"Kabir Mehta",role:"AI Engineer",company:"Synapse",rating:4.7,avatar:"https://i.pravatar.cc/150?img=66"}],vj=()=>e.jsxs("div",{className:"space-y-10",children:[e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-primary",children:"Programs"}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900",children:"Top Mentors"}),e.jsx("p",{className:"text-slate-500",children:"Connect with experts ready to guide students and alumni."})]}),e.jsx("button",{className:"rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-700 transition hover:border-slate-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"View All Mentors"})]}),e.jsx("section",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:yj.map(a=>e.jsx(gj,{mentor:a},a.name))})]}),jj=({image:a,onOpen:n})=>{const{url:r,alt:o}=a;return e.jsx("button",{type:"button",onClick:()=>n(a),className:"group overflow-hidden rounded-3xl","aria-label":`Open image: ${o}`,children:e.jsx("img",{src:r,alt:o,className:"h-full w-full object-cover transition duration-300 group-hover:scale-105"})})},Nj=({images:a=[],startIndex:n=0,isOpen:r=!1,onClose:o})=>{const[c,u]=x.useState(n);x.useEffect(()=>{r&&u(n)},[r,n]);const p=x.useCallback(()=>{u(g=>(g-1+a.length)%a.length)},[a.length]),b=x.useCallback(()=>{u(g=>(g+1)%a.length)},[a.length]);if(x.useEffect(()=>{if(!r)return;const g=h=>{if(h.key==="Escape"){h.preventDefault(),o?.();return}h.key==="ArrowLeft"&&(h.preventDefault(),p()),h.key==="ArrowRight"&&(h.preventDefault(),b())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[b,p,r,o]),!r||!a.length||typeof document>"u")return null;const y=a[c],f=g=>{g.target===g.currentTarget&&o?.()};return rb.createPortal(e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/90 px-6 py-8",role:"dialog","aria-modal":"true",onMouseDown:f,children:[e.jsx("button",{type:"button",onClick:o,className:"absolute right-6 top-6 grid h-11 w-11 place-items-center rounded-full bg-white/90 text-slate-700 shadow-lg transition hover:bg-white","aria-label":"Close image viewer",children:e.jsx("span",{className:"text-2xl font-semibold",children:""})}),a.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:p,className:"absolute left-6 top-1/2 -translate-y-1/2 rounded-full bg-white/80 p-3 text-slate-700 shadow-lg transition hover:bg-white","aria-label":"View previous image",children:""}),e.jsx("button",{type:"button",onClick:b,className:"absolute right-6 top-1/2 -translate-y-1/2 rounded-full bg-white/80 p-3 text-slate-700 shadow-lg transition hover:bg-white","aria-label":"View next image",children:""})]}),e.jsxs("div",{className:"max-w-5xl w-full scale-100 opacity-100 transition-all duration-300",children:[e.jsx("img",{src:y.url,alt:y.alt,className:"max-h-[80vh] w-full rounded-3xl object-contain shadow-2xl"}),y.alt&&e.jsx("p",{className:"mt-4 text-center text-sm text-slate-200",children:y.alt})]})]}),document.body)},Td=[{url:"https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?w=1200&auto=format&fit=crop&q=80",alt:"Students collaborating during a hackathon"},{url:"https://images.unsplash.com/photo-1504384308090-c894fdcc538d?w=1200&auto=format&fit=crop&q=80",alt:"Panel discussion at alumni event"},{url:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=1200&auto=format&fit=crop&q=80",alt:"Networking session at university hall"},{url:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=1200&auto=format&fit=crop&q=80",alt:"Coding workshop with mentors"},{url:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=1200&auto=format&fit=crop&q=80&sat=-50",alt:"Student presenting project on stage"},{url:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?w=1200&auto=format&fit=crop&q=80",alt:"Outdoor alumni meetup"}],wj=()=>{const[a,n]=x.useState(0),[r,o]=x.useState(!1),c=u=>{const p=Td.findIndex(b=>b.url===u.url);n(p===-1?0:p),o(!0)};return e.jsxs("div",{className:"space-y-10",children:[e.jsx("header",{className:"flex items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-primary",children:"Highlights"}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900",children:"Gallery"}),e.jsx("p",{className:"text-slate-500",children:"Moments from our community of students, alumni, and faculty."})]})}),e.jsx("section",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:Td.map(u=>e.jsx(jj,{image:u,onOpen:c},u.url))}),e.jsx(Nj,{images:Td,startIndex:a,isOpen:r,onClose:()=>o(!1)})]})},Sj="/assets/101-CM1ZSukh.webp",Cj="/assets/102-76lXK6Xw.webp",kj="/assets/103-CenQ8M6I.webp",Aj="/assets/101-CM1ZSukh.webp",_d=[{image:Sj,badge:"Practice",title:"Crack challenges with confidence",description:"Mock interviews, coding sprints, and intensive prep to sharpen your skills.",accent:"from peer champions",background:"linear-gradient(180deg, #F8C531 0%, #F5951D 100%)"},{image:Cj,badge:"Mentorship",title:"Grow with expert mentors",description:"1:1 sessions, tailored roadmaps, and milestone tracking to keep you on course.",accent:"guided by alumni",background:"linear-gradient(180deg, #2969FF 0%, #1A47C6 100%)"},{image:kj,badge:"Assessments",title:"Hire and evaluate with ease",description:"Advanced proctoring, video prompts, and real-time scoring for streamlined hiring.",accent:"trusted by recruiters",background:"linear-gradient(180deg, #0B1F3A 0%, #102E5B 100%)"},{image:Aj,badge:"Opportunities",title:"Unlock internships & jobs",description:"Curated openings, referral programs, and event invites tailored to your goals.",accent:"handpicked for you",background:"linear-gradient(180deg, #21B573 0%, #0D8B5E 100%)"}],Ej=4e3,Nf=({variant:a="desktop",className:n=""})=>{const[r,o]=x.useState(0),[c,u]=x.useState(!0);x.useEffect(()=>{const N=setInterval(()=>{o(k=>(k+1)%_d.length)},Ej);return()=>clearInterval(N)},[]),x.useEffect(()=>{u(!1);const N=setTimeout(()=>u(!0),40);return()=>clearTimeout(N)},[r]);const p=_d[r],b=a==="desktop",y=b?"hidden lg:flex lg:w-[45%]":"flex w-full lg:hidden",f=b?"px-7 py-8":"px-4 py-6 sm:px-6 sm:py-7",g=b?"px-6 py-7":"px-4 py-5 sm:px-5 sm:py-6",h=b?"min-h-[320px]":"min-h-[260px]",v=b?"h-36":"h-32 sm:h-40",C=b?"pt-5":"pt-4";return e.jsxs("aside",{className:`${y} relative flex-shrink-0 flex-col justify-between overflow-hidden text-white shadow-[0_30px_80px_rgba(15,23,42,0.25)] ${f} ${n}`,style:{background:p.background},children:[e.jsx("div",{className:"absolute inset-0 opacity-[0.12]",style:{backgroundImage:"radial-gradient(circle at top, rgba(255,255,255,0.9) 0%, transparent 60%)"}}),e.jsxs("div",{className:"relative z-20 flex items-center gap-3 pb-8",children:[e.jsx("span",{className:"grid h-12 w-12 place-items-center rounded-2xl bg-white text-lg font-semibold uppercase text-slate-900 shadow-lg",children:"AC"}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-white/70",children:"AlumConnect"}),e.jsx("p",{className:"text-lg font-semibold",children:"Community"})]})]}),e.jsxs("div",{className:`relative z-10 flex flex-col justify-between rounded-3xl bg-white/10 ${g} backdrop-blur ${h} transition-opacity duration-700 ${c?"opacity-100":"opacity-0"}`,children:[e.jsx("div",{className:"inline-flex items-center gap-2 self-start rounded-full bg-white/20 px-4 py-1 text-xs font-semibold uppercase tracking-[0.2em]",children:p.badge}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-3xl font-semibold leading-snug",children:p.title}),e.jsx("p",{className:"text-sm text-white/80",children:p.description}),e.jsxs("span",{className:"inline-flex items-center gap-2 text-sm font-semibold text-[#FFD166]",children:[e.jsx("span",{className:"h-1 w-8 rounded-full bg-[#FFD166]"}),p.accent]})]}),e.jsx("div",{className:"mt-10 rounded-3xl bg-white/20 p-4 shadow-lg",children:e.jsx("img",{src:p.image,alt:p.badge,className:`${v} w-full rounded-2xl object-cover`})})]}),e.jsx("div",{className:`relative z-10 flex items-center gap-2 ${C}`,children:_d.map((N,k)=>e.jsx("span",{className:`h-1 w-full rounded-full transition ${k===r?"bg-[#FFD166]":"bg-white/30"}`,"aria-hidden":"true"},k))})]})},Zi=({header:a,children:n,footer:r,align:o="start"})=>e.jsxs("section",{className:"relative min-h-screen overflow-hidden bg-[#f3f6fb]",children:[e.jsx("div",{className:"absolute inset-0","aria-hidden":"true",children:e.jsx("div",{className:"h-full w-full bg-[radial-gradient(circle_at_top,_rgba(148,163,184,0.16),_transparent_55%)]"})}),e.jsx("div",{className:"relative mx-auto flex min-h-screen items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex w-full max-w-5xl flex-col overflow-hidden rounded-[32px] bg-white shadow-[0_44px_110px_rgba(15,23,42,0.18)] ring-1 ring-slate-100/70 lg:flex-row",children:[e.jsx(Nf,{variant:"mobile",className:"rounded-t-[36px]"}),e.jsxs("div",{className:"flex w-full flex-col lg:flex-row",children:[e.jsx(Nf,{variant:"desktop",className:"rounded-l-[36px]"}),e.jsxs("div",{className:`flex flex-1 flex-col justify-between px-6 py-8 sm:px-8 sm:py-10 lg:px-12 ${o==="center"?"text-center lg:text-left":""}`,children:[e.jsxs("div",{className:"space-y-8",children:[a,e.jsx("div",{className:"space-y-6",children:n})]}),r&&e.jsx("div",{className:"pt-8 text-sm text-slate-500",children:r})]})]})]})})]}),Mj={success:"",error:"!",info:""},Dj={success:"border-green-500 text-green-600",error:"border-red-500 text-red-600",info:"border-blue-500 text-blue-600"},Lj=({toasts:a,onDismiss:n})=>e.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-3",children:a.map(r=>e.jsx(Rj,{toast:r,onDismiss:n},r.id))}),Rj=({toast:a,onDismiss:n})=>{const r=x.useRef(null);x.useEffect(()=>(r.current=setTimeout(()=>n(a.id),3e3),()=>clearTimeout(r.current)),[a.id,n]);const o=()=>clearTimeout(r.current),c=()=>{r.current=setTimeout(()=>n(a.id),1500)};return e.jsxs("div",{onMouseEnter:o,onMouseLeave:c,className:`flex items-center gap-3 rounded-2xl bg-white p-4 shadow-lg ring-1 ring-slate-100 transition ${Dj[a.type]}`,role:"status",children:[e.jsx("span",{className:"text-lg",children:Mj[a.type]}),e.jsx("p",{className:"text-sm text-slate-700",children:a.message})]})},cb=x.createContext(null),Tj=({children:a})=>{const[n,r]=x.useState([]),o=x.useCallback(p=>{r(b=>b.filter(y=>y.id!==p))},[]),c=x.useCallback(({type:p="info",message:b})=>{const f={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():String(Date.now()+Math.random()),type:p,message:b};return r(g=>[...g,f]),f.id},[]),u=x.useMemo(()=>({addToast:c,removeToast:o}),[c,o]);return e.jsxs(cb.Provider,{value:u,children:[a,e.jsx(Lj,{toasts:n,onDismiss:o})]})},_j=()=>{const a=x.useContext(cb);if(!a)throw new Error("useToast must be used within a ToastProvider");return a},je=()=>{const{addToast:a}=_j();return a},Oj=()=>{if(typeof window>"u")return null;try{const a=window.localStorage.getItem("user");return a?JSON.parse(a):null}catch(a){return console.error("Failed to load user from storage",a),null}},ke={IN_REVIEW:"IN_REVIEW",APPROVED:"APPROVED",REJECTED:"REJECTED"},Bj={pending:ke.IN_REVIEW,approved:ke.APPROVED,rejected:ke.REJECTED,in_review:ke.IN_REVIEW},Je=a=>{if(!a)return ke.IN_REVIEW;const n=String(a).trim().toUpperCase();if(Object.values(ke).includes(n))return n;const r=Bj[String(a).trim().toLowerCase()];return r||ke.IN_REVIEW},qi=a=>Je(a)===ke.APPROVED,db=a=>Je(a)===ke.IN_REVIEW,ub=a=>Je(a)===ke.REJECTED,it={PENDING:"PENDING",APPROVED:"APPROVED",REJECTED:"REJECTED"},zj={pending:it.PENDING,approved:it.APPROVED,rejected:it.REJECTED,in_review:it.PENDING},Rs=a=>{if(!a)return it.APPROVED;const n=String(a).trim().toUpperCase();if(Object.prototype.hasOwnProperty.call(it,n))return it[n];const r=zj[String(a).trim().toLowerCase()];return r||it.APPROVED},wu=a=>Rs(a)===it.APPROVED,mb=x.createContext(null),Uj=(a="")=>a.charAt(0).toUpperCase()+a.slice(1),Yu=(a={},n="")=>{const r=a.firstName?.trim()??"",o=a.lastName?.trim()??"",c=`${r} ${o}`.trim();return c||(a.fullName?.trim()?a.fullName.trim():n?n.split("@")[0]:"")},wf=async(a,n=!1)=>{if(!a?.token||!a?.role||!n&&a.profile)return a;try{const o=(await ce("/auth/profile/me"))?.data;if(!o)return a;const c=Yu(o,o.email??a.email),u=Je(o.profileApprovalStatus),p=Rs(o.registrationStatus??a.registrationStatus);return{...a,email:o.email??a.email,firstName:o.firstName?.trim()??a.firstName,lastName:o.lastName?.trim()??a.lastName,name:c||a.name,avatar:o.avatar??a.avatar,role:o.role??a.role,isProfileApproved:qi(u),profileApprovalStatus:u,registrationStatus:p,isRegistrationApproved:wu(p),profile:o}}catch(r){return console.error("Failed to enrich user with profile data:",r),a}},Mn=a=>{typeof window>"u"||(a?window.localStorage.setItem("user",JSON.stringify(a)):window.localStorage.removeItem("user"))},Pj=({children:a})=>{const n=Te(),[r,o]=x.useState(()=>Oj()),c=x.useRef(null);x.useEffect(()=>{typeof window>"u"||(Mn(r),ui(r?.token??null))},[r]),x.useEffect(()=>{if(!r?.token||r.profile||r.firstName?.trim()&&r.lastName?.trim()||r.name||c.current)return;let g=!0;return c.current=!0,(async()=>{try{const v=await wf(r);g&&(o(v),Mn(v))}finally{c.current=null}})(),()=>{g=!1,c.current=null}},[r]);const u=x.useCallback(async g=>{const h=g?.token??null;ui(h);const v=await wf(g);return o(v),Mn(v),n("/dashboard",{replace:!0}),v},[n]),p=x.useCallback(()=>{o(null),Mn(null),ui(null),n("/")},[n]),b=x.useCallback(g=>{g&&o(h=>{if(!h)return h;const v={...h.profile??{},...g.profile??{}},C=g.profileApprovalStatus?Je(g.profileApprovalStatus):Je(h.profileApprovalStatus??h.profile?.profileApprovalStatus),N=g.registrationStatus?Rs(g.registrationStatus):Rs(h.registrationStatus??h.profile?.registrationStatus??it.APPROVED),k={...h,...g,profileApprovalStatus:C,isProfileApproved:qi(C),registrationStatus:N,isRegistrationApproved:wu(N),profile:Object.keys(v).length?v:h.profile};return Mn(k),k})},[]),y=g=>{const h=g.toLowerCase(),v={name:`Demo ${Uj(h)}`,email:`${h}@demo.com`,role:h};o(v),typeof window<"u"&&window.localStorage.setItem("user",JSON.stringify(v)),ui(null),n("/dashboard",{replace:!0})},f=x.useMemo(()=>({user:r,role:r?.role??null,login:u,logout:p,demoLogin:y,updateUser:b,profileStatus:Je(r?.profileApprovalStatus),isProfileApproved:qi(r?.profileApprovalStatus),registrationStatus:Rs(r?.registrationStatus),isRegistrationApproved:wu(r?.registrationStatus)}),[r,u,p,b]);return e.jsx(mb.Provider,{value:f,children:a})},ye=()=>{const a=x.useContext(mb);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a},$j=[{id:"google",label:"Continue with Google",accent:"bg-[#fef3c7] text-[#ea4335]",icon:e.jsx("svg",{viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:e.jsx("path",{fill:"#EA4335",d:"M12.24 10.285v3.514h4.95c-.197 1.125-1.337 3.297-4.95 3.297-2.978 0-5.403-2.46-5.403-5.503s2.425-5.503 5.403-5.503c1.695 0 2.835.72 3.486 1.339l2.373-2.286C16.735 3.812 14.732 3 12.24 3 7.38 3 3.5 6.938 3.5 11.594S7.38 20.188 12.24 20.188c5.857 0 9.71-4.108 9.71-9.9 0-.662-.072-1.165-.158-1.663H12.24Z"})})},{id:"linkedin",label:"Continue with LinkedIn",accent:"bg-[#e8f1fb] text-[#0A66C2]",icon:e.jsx("svg",{viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:e.jsx("path",{fill:"#0A66C2",d:"M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5A2.49 2.49 0 0 1 0 3.5C0 2.12 1.11 1 2.5 1s2.48 1.12 2.48 2.5ZM.22 22h4.56V7.5H.22V22Zm7.68 0h4.38v-7.5c0-1.99.81-3.28 2.61-3.28 1.56 0 2.31 1.06 2.31 3.28V22h4.38v-8.63C21.58 8.88 19.42 7 16.47 7c-2.22 0-3.68.97-4.3 2.11h-.06V7.5H7.9c.06 1.04 0 14.5 0 14.5Z"})})}],Yj=["student","alumni","faculty","coordinator","admin"],Od={google:"Google",linkedin:"LinkedIn"},qj=()=>{const[a,n]=x.useState({email:"",password:""}),[r,o]=x.useState(!1),[c,u]=x.useState(null),[p,b]=x.useState(!1),[y,f]=x.useState(!1),[g,h]=x.useState(null),v=je(),{login:C}=ye(),N=vt(),k=Te(),j=E=>{const{name:P,value:z}=E.target;n($=>({...$,[P]:z}))},S=x.useMemo(()=>a.email.trim()&&a.password.trim(),[a]);x.useEffect(()=>{(async()=>{try{b(!0);const P=await ce("/auth/oauth/providers",{includeAuth:!1});u(P)}catch(P){console.error("Failed to load OAuth providers:",P),v({type:"error",message:"Unable to load social login options right now."})}finally{b(!1)}})()},[v]),x.useEffect(()=>{const E=new URLSearchParams(N.search),P=E.get("oauthStatus");if(!P){f(!1),h(null);return}const z=E.get("provider"),$=Od[z]||"the selected provider",F=E.get("message"),H=()=>{["oauthStatus","message","token","role","email","name","provider"].forEach(Y=>E.delete(Y));const O=E.toString();k({pathname:N.pathname,search:O?`?${O}`:""},{replace:!0})};(async()=>{switch(P){case"success":{const T=E.get("token"),O=E.get("role"),Y=E.get("email"),W=E.get("name");if(!T||!O){v({type:"error",message:"Incomplete data returned from provider login."}),H();return}H();try{const I=await C({token:T,role:O,email:Y,name:W});v({type:"success",message:"Logged in successfully via social account."})}catch(I){console.error("OAuth login completion failed:",I),v({type:"error",message:"Unable to complete social login. Please try again."})}break}case"no_account":{const O=E.get("email")||"this email address";v({type:"error",message:`No account found for ${O}. Please sign up before using ${$} login.`}),H();break}case"error":default:{v({type:"error",message:F||"Social login failed. Please try again."}),H();break}}})(),f(!1),h(null)},[v,N.pathname,N.search,C,k]);const _=E=>{const P=c?.[E];if(!P?.enabled||!P?.authPath){v({type:"error",message:`${Od[E]||"Social"} login is not available right now.`});return}try{f(!0),h(E);const z=new URL(P.authPath,Ml);window.location.href=z.toString()}catch(z){console.error("Failed to initiate social login:",z),f(!1),h(null),v({type:"error",message:"Unable to redirect to social login."})}},B=async E=>{if(E.preventDefault(),!(!S||r)){o(!0);try{const P={email:a.email.trim(),password:a.password};let z,$;try{z=await _e("/auth/login",P)}catch(F){if($=F,F?.status===400&&typeof F.message=="string"&&F.message.toLowerCase().includes("role"))for(const U of Yj)try{if(z=await _e("/auth/login",{...P,role:U}),z)break}catch(T){T?.status&&T.status!==401&&($=T)}}if(!z)throw $;z.user?.profileApprovalStatus==="IN_REVIEW"||z.user?.profileApprovalStatus==="pending"||z.user?.profileApprovalStatus==="in_review"?v({type:"success",message:"Login successful!"}):v({type:"success",message:"Welcome back!"}),C({...z.user,token:z.token})}catch(P){const z=P?.message??"Unable to login. Please try again.";v({type:"error",message:z})}finally{o(!1)}}},D=y||p;return e.jsxs(Zi,{header:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h1",{className:"text-3xl font-semibold text-slate-900 md:text-[34px]",children:"Welcome to AlumConnect"}),e.jsx("p",{className:"text-sm text-slate-500 md:text-base",children:"Use your email or another service to continue with the network."})]}),footer:e.jsxs("p",{children:["Dont have an account?"," ",e.jsx(Le,{to:"/signup",className:"font-semibold text-[#2563EB] hover:text-[#1d4ed8]",children:"Sign Up"})]}),align:"center",children:[e.jsx("div",{className:"space-y-4"}),e.jsxs("div",{className:"space-y-3",children:[$j.map(E=>{const P=c?.[E.id],z=!!(P?.enabled&&P?.authPath),$=g===E.id&&y,F=D||!z,H=$?`Continuing with ${Od[E.id]}`:E.label;return e.jsxs("button",{type:"button",onClick:()=>_(E.id),disabled:F,className:`flex w-full items-center justify-between rounded-2xl border border-slate-200 px-6 py-4 text-base font-medium transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#2563EB] ${F?"cursor-not-allowed bg-white text-slate-400 opacity-70":"bg-white text-slate-700 shadow-sm hover:-translate-y-0.5 hover:shadow-[0_16px_40px_rgba(15,23,42,0.12)]"}`,children:[e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`grid h-10 w-10 place-items-center rounded-full font-semibold ${F?`${E.accent} opacity-70`:E.accent}`,children:E.icon}),H]}),$?e.jsx("span",{className:"h-5 w-5 animate-spin rounded-full border-2 border-current border-r-transparent","aria-hidden":"true"}):e.jsx("svg",{className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":"true",children:e.jsx("path",{d:"M7.5 4.5 12.5 10 7.5 15.5",strokeLinecap:"round",strokeLinejoin:"round"})})]},E.id)}),c&&Object.values(c).every(E=>E?.enabled===!1)?e.jsx("p",{className:"text-center text-sm text-slate-500",children:"Social login is currently unavailable."}):null,!c&&p?e.jsx("p",{className:"text-center text-sm text-slate-400",children:"Loading social login options"}):null]}),e.jsxs("div",{className:"relative py-6",children:[e.jsx("span",{className:"absolute inset-x-0 top-1/2 h-px -translate-y-1/2 bg-slate-200","aria-hidden":"true"}),e.jsx("span",{className:"relative mx-auto block w-max bg-white px-4 text-sm font-medium text-slate-400",children:"or continue with email"})]}),e.jsxs("form",{onSubmit:B,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-semibold text-slate-700",children:"Email"}),e.jsx("input",{id:"email",name:"email",type:"email",value:a.email,onChange:j,placeholder:"you@domain.com",className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3.5 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"text-sm font-semibold text-slate-700",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",value:a.password,onChange:j,placeholder:"Enter your password",className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3.5 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]",required:!0}),e.jsx("div",{className:"text-right text-sm",children:e.jsx(Le,{to:"/forgot-password",className:"font-semibold text-[#2563EB] underline underline-offset-4 hover:text-[#1d4ed8]",children:"Forgot password?"})})]}),e.jsxs("button",{type:"submit",disabled:!S||r,className:`inline-flex w-full items-center justify-center gap-2 rounded-full px-6 py-3 text-sm font-semibold transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#93C5FD] ${S&&!r?"bg-[#2563EB] text-white shadow-[0_16px_40px_rgba(37,99,235,0.35)] hover:bg-[#1d4ed8]":"cursor-not-allowed bg-slate-200 text-slate-500"}`,children:[r?"Signing in":"Login",e.jsx("svg",{viewBox:"0 0 20 20",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":"true",children:e.jsx("path",{d:"M7.5 4.5 12.5 10 7.5 15.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})},qu=[{id:"student",title:"Sign up as a Student",description:"Apply for mentorships, events, and new opportunities.",label:"Student",tone:"bg-[#FEF7E7] border border-transparent",badgeGradient:"linear-gradient(135deg, #FCE7C8 0%, #F9C77F 100%)"},{id:"alumni",title:"Sign up as an Alumni",description:"Share expertise, host mentorship circles, and unlock collaborative projects.",label:"Alumni",tone:"bg-[#E8F1FB] border border-transparent",badgeGradient:"linear-gradient(135deg, #D9E8FF 0%, #A4C8FF 100%)"},{id:"faculty",title:"Sign up as Faculty",description:"Support curriculum, mentor students, and drive campus initiatives.",label:"Faculty",tone:"bg-[#E7F4F1] border border-transparent",badgeGradient:"linear-gradient(135deg, #CFEFE7 0%, #9CD9CB 100%)"}],Hj=a=>qu.find(n=>n.id===a),Fj={student:e.jsx("svg",{viewBox:"0 0 24 24",className:"h-9 w-9","aria-hidden":"true",children:e.jsx("path",{fill:"#FDBA21",d:"M12 2 3 6l9 4 9-4-9-4Zm7 6.18-7 3.11-7-3.11V10l7 3.11L19 10V8.18ZM17 12.63l-5 2.22-5-2.22v3.26L12 18l5-2.11v-3.26Z"})}),alumni:e.jsx("svg",{viewBox:"0 0 24 24",className:"h-9 w-9","aria-hidden":"true",children:e.jsx("path",{fill:"#2563EB",d:"M12 4a4 4 0 1 1-4 4 4 4 0 0 1 4-4Zm6.5 14.5c0-2.41-3.58-4.5-6.5-4.5s-6.5 2.09-6.5 4.5V20h13Z"})}),faculty:e.jsx("svg",{viewBox:"0 0 24 24",className:"h-9 w-9","aria-hidden":"true",children:e.jsx("path",{fill:"#0E9384",d:"M12 2a5 5 0 1 0 5 5 5 5 0 0 0-5-5Zm8 18.5c0-3.08-4.03-5.5-8-5.5s-8 2.42-8 5.5V22h16Z"})})},Bd=qu.map(a=>({...a,icon:Fj[a.id]})),Vj=()=>{const[a,n]=x.useState(Bd[0].id),r=Te(),o=()=>{r(`/signup/${a}`)};return e.jsx(Zi,{header:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h1",{className:"text-3xl font-semibold text-slate-900 md:text-[34px]",children:"Create a new account"}),e.jsx("p",{className:"text-sm text-slate-500 md:text-base",children:"Join AlumConnect and shape the community alongside peers and mentors."})]}),footer:e.jsxs("p",{children:["Already have an account?"," ",e.jsx(Le,{to:"/login",className:"font-semibold text-[#2563EB] hover:text-[#1d4ed8]",children:"Login"})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4",children:Bd.map(c=>{const u=c.id===a;return e.jsxs("button",{type:"button",onClick:()=>n(c.id),className:`relative flex w-full items-start gap-4 rounded-3xl px-6 py-6 text-left transition hover:-translate-y-0.5 hover:shadow-[0_18px_40px_rgba(15,23,42,0.08)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#2563EB] ${c.tone} ${u?"shadow-[0_18px_46px_rgba(37,99,235,0.16)] ring-2 ring-[#2563EB] bg-white":"ring-1 ring-transparent"}`,children:[e.jsx("span",{className:`grid h-14 w-14 flex-shrink-0 place-items-center rounded-2xl ${u?"bg-white shadow-lg":"bg-white/70 shadow-md"}`,children:c.icon}),e.jsxs("span",{className:"space-y-2",children:[e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg font-semibold text-slate-900",children:c.title}),u&&e.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center rounded-full bg-[#2563EB] text-white",children:e.jsx("svg",{viewBox:"0 0 20 20",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:e.jsx("path",{d:"m5 10 3 3 7-7",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e.jsx("p",{className:"text-sm text-slate-500",children:c.description})]})]},c.id)})}),e.jsxs("div",{className:"flex flex-col items-start gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"text-sm text-slate-500",children:["Selected role:"," ",e.jsx("span",{className:"font-semibold text-slate-900",children:Bd.find(c=>c.id===a)?.label??"Student"})]}),e.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-full bg-[#2563EB] px-6 py-3 text-sm font-semibold text-white transition hover:bg-[#1d4ed8] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#93C5FD]",onClick:o,children:["Continue",e.jsx("svg",{viewBox:"0 0 20 20",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":"true",children:e.jsx("path",{d:"M7.5 4.5 12.5 10 7.5 15.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})})},Ij=[{value:"engineering",label:"Engineering"},{value:"mca",label:"MCA"}],Gj=[{value:"civil",label:"Civil Engineering"},{value:"computer",label:"Computer Engineering"},{value:"it",label:"Information Technology"},{value:"entc",label:"Electronics & Telecommunication Engineering"},{value:"mechanical",label:"Mechanical Engineering"},{value:"aids",label:"Artificial Intelligence & Data Science"},{value:"vlsi",label:"Electronics Engineering (VLSI Design And Technology)"},{value:"communication",label:"Electronics & Communication (Advanced Communication Technology)"}],Xj=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,zd=/^\d{4}$/,Wj={email:"",firstName:"",lastName:"",program:"engineering",department:"",admissionYear:"",expectedPassoutYear:"",passoutYear:"",prn:"",password:"",confirmPassword:"",agreeDataPolicy:!1,agreeTerms:!1,subscribeUpdates:!1},Qj=()=>{const{role:a}=Et(),n=Te(),r=je(),{login:o}=ye(),c=x.useMemo(()=>Hj(a)??qu[0],[a]),[u,p]=x.useState(Wj),[b,y]=x.useState({}),[f,g]=x.useState(!1),h=c?.id==="student",v=c?.id==="alumni",C=c?.id==="faculty";x.useEffect(()=>{p(E=>({...E,admissionYear:h?E.admissionYear:"",expectedPassoutYear:h?E.expectedPassoutYear:"",passoutYear:v?E.passoutYear:""})),y({})},[h,v]);const N=E=>{const{name:P,value:z,type:$,checked:F}=E.target;if(P==="program"){p(H=>({...H,program:z,department:z==="engineering"?H.department:""}));return}p(H=>({...H,[P]:$==="checkbox"?F:z}))},k=E=>{const{name:P}=E.target;y(z=>({...z,[P]:!0}))},j=x.useMemo(()=>{const E={};return Xj.test(u.email.trim())||(E.email="Enter a valid email address."),u.firstName.trim()||(E.firstName="First name is required."),u.lastName.trim()||(E.lastName="Last name is required."),u.program||(E.program="Select your program."),u.program==="engineering"&&!u.department&&(E.department="Select your department."),h&&(zd.test(u.admissionYear.trim())||(E.admissionYear="Enter a valid 4-digit year."),zd.test(u.expectedPassoutYear.trim())||(E.expectedPassoutYear="Enter a valid 4-digit year.")),v&&(zd.test(u.passoutYear.trim())||(E.passoutYear="Enter a valid 4-digit year.")),u.prn.trim()||(E.prn=C?"Staff ID is required.":"PRN number is required."),u.password.trim()||(E.password="Create a password."),u.confirmPassword.trim()||(E.confirmPassword="Confirm your password."),u.password&&u.confirmPassword&&u.password!==u.confirmPassword&&(E.confirmPassword="Passwords do not match."),u.agreeDataPolicy||(E.agreeDataPolicy="You must agree to continue."),u.agreeTerms||(E.agreeTerms="You must accept the terms."),E},[u,h,v]),S=x.useMemo(()=>Object.keys(j).length===0,[j]),_=E=>{y(P=>{const z={...P};return E.forEach($=>{z[$]=!0}),z})},B=async E=>{E.preventDefault();const P=["email","firstName","lastName","program","prn","password","confirmPassword","agreeDataPolicy","agreeTerms"];if(u.program==="engineering"&&P.push("department"),h&&P.push("admissionYear","expectedPassoutYear"),v&&P.push("passoutYear"),_(P),!S)return;g(!0);const z={role:c.id,email:u.email.trim(),firstName:u.firstName.trim(),lastName:u.lastName.trim(),password:u.password,department:u.department||"General"};(h||v)&&(z.prnNumber=u.prn.trim()),h&&(z.admissionYear=u.admissionYear,z.expectedPassoutYear=u.expectedPassoutYear),v&&(z.passoutYear=u.passoutYear);try{const $=await _e("/auth/signup",z);r({type:"success",message:"Account created successfully."}),o({...$.user,token:$.token}),["student","alumni","faculty"].includes(c.id)&&setTimeout(()=>{r({type:"info",title:"Profile Under Review",message:"Your profile is currently under review by administrators. You will be notified within 2-4 days. Please complete your profile for faster approval.",duration:8e3})},1e3),n("/dashboard")}catch($){const F=$?.message??"Failed to create account.";r({type:"error",message:F})}finally{g(!1)}},D=E=>b[E]&&j[E]?j[E]:"";return e.jsx(Zi,{header:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-[#2563EB]",children:"Join AlumConnect"}),e.jsx("h1",{className:"text-3xl font-semibold text-slate-900 md:text-[34px]",children:c?.title??"Create your account"}),e.jsx("p",{className:"text-sm text-slate-500 md:text-base",children:c?.description??"Complete your details to access tailored mentorship, events, and opportunities inside the community."})]}),footer:e.jsxs("p",{children:["Already have an account?"," ",e.jsx(Le,{to:"/login",className:"font-semibold text-[#2563EB] hover:text-[#1d4ed8]",children:"Login"})]}),children:e.jsxs("form",{onSubmit:B,className:"space-y-7",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-semibold text-slate-700",children:"Email*"}),e.jsx("input",{id:"email",name:"email",type:"email",placeholder:"you@domain.com",value:u.email,onChange:N,onBlur:k,className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3.5 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]",required:!0}),D("email")&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:D("email")})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"firstName",className:"text-sm font-semibold text-slate-700",children:"First Name*"}),e.jsx("input",{id:"firstName",name:"firstName",placeholder:"Aarya",value:u.firstName,onChange:N,onBlur:k,className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3.5 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]",required:!0}),D("firstName")&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:D("firstName")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"lastName",className:"text-sm font-semibold text-slate-700",children:"Last Name*"}),e.jsx("input",{id:"lastName",name:"lastName",placeholder:"Saxena",value:u.lastName,onChange:N,onBlur:k,className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3.5 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]",required:!0}),D("lastName")&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:D("lastName")})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"program",className:"text-sm font-semibold text-slate-700",children:"User Program*"}),e.jsx("select",{id:"program",name:"program",value:u.program,onChange:N,onBlur:k,className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3.5 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]",children:Ij.map(E=>e.jsx("option",{value:E.value,children:E.label},E.value))}),D("program")&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:D("program")})]}),u.program==="engineering"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"department",className:"text-sm font-semibold text-slate-700",children:"Department*"}),e.jsxs("select",{id:"department",name:"department",value:u.department,onChange:N,onBlur:k,className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3.5 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]",children:[e.jsx("option",{value:"",children:"Select department"}),Gj.map(E=>e.jsx("option",{value:E.value,children:E.label},E.value))]}),D("department")&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:D("department")})]}),h&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"admissionYear",className:"text-sm font-semibold text-slate-700",children:"Admission Year*"}),e.jsx("input",{id:"admissionYear",name:"admissionYear",value:u.admissionYear,onChange:N,onBlur:k,inputMode:"numeric",pattern:"\\d{4}",maxLength:4,placeholder:"2022",className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3.5 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]",required:!0}),D("admissionYear")&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:D("admissionYear")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"expectedPassoutYear",className:"text-sm font-semibold text-slate-700",children:"Expected Passout Year*"}),e.jsx("input",{id:"expectedPassoutYear",name:"expectedPassoutYear",value:u.expectedPassoutYear,onChange:N,onBlur:k,inputMode:"numeric",pattern:"\\d{4}",maxLength:4,placeholder:"2026",className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3.5 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]",required:!0}),D("expectedPassoutYear")&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:D("expectedPassoutYear")})]})]}),v&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"passoutYear",className:"text-sm font-semibold text-slate-700",children:"Passout Year*"}),e.jsx("input",{id:"passoutYear",name:"passoutYear",value:u.passoutYear,onChange:N,onBlur:k,inputMode:"numeric",pattern:"\\d{4}",maxLength:4,placeholder:"2018",className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3.5 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]",required:!0}),D("passoutYear")&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:D("passoutYear")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"prn",className:"text-sm font-semibold text-slate-700",children:C?"Staff ID*":"PRN Number*"}),e.jsx("input",{id:"prn",name:"prn",value:u.prn,onChange:N,onBlur:k,placeholder:C?"Enter your Staff ID":"Enter your PRN",className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3.5 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]",required:!0}),D("prn")&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:D("prn")})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"text-sm font-semibold text-slate-700",children:"Password*"}),e.jsx("input",{id:"password",name:"password",type:"password",value:u.password,onChange:N,onBlur:k,placeholder:"Create a password",className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3.5 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]",required:!0}),D("password")&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:D("password")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-semibold text-slate-700",children:"Confirm Password*"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:u.confirmPassword,onChange:N,onBlur:k,placeholder:"Re-type your password",className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3.5 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]",required:!0}),D("confirmPassword")&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:D("confirmPassword")})]})]}),e.jsxs("div",{className:"space-y-3 text-sm text-slate-500",children:[e.jsxs("label",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",name:"agreeDataPolicy",checked:u.agreeDataPolicy,onChange:N,onBlur:k,className:"mt-1 h-4 w-4 rounded border-slate-300 text-[#2563EB] focus:ring-[#2563EB]"}),e.jsx("span",{children:"All your information is collected, stored, and processed in line with our privacy policy. By continuing, you agree to our data practices."})]}),D("agreeDataPolicy")&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:D("agreeDataPolicy")}),e.jsxs("label",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",name:"subscribeUpdates",checked:u.subscribeUpdates,onChange:N,className:"mt-1 h-4 w-4 rounded border-slate-300 text-[#2563EB] focus:ring-[#2563EB]"}),e.jsx("span",{children:"Stay in the loop with curated updates and events just for you."})]}),e.jsxs("label",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",name:"agreeTerms",checked:u.agreeTerms,onChange:N,onBlur:k,className:"mt-1 h-4 w-4 rounded border-slate-300 text-[#2563EB] focus:ring-[#2563EB]"}),e.jsxs("span",{children:["By continuing you accept the ",e.jsx("span",{className:"font-semibold text-slate-700",children:"Terms of Service"})," and"," ",e.jsx("span",{className:"font-semibold text-slate-700",children:"Privacy Policy"}),"."]})]}),D("agreeTerms")&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:D("agreeTerms")})]}),e.jsxs("div",{className:"flex flex-col gap-3 pt-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("button",{type:"button",onClick:()=>n(-1),className:"inline-flex items-center gap-2 self-start rounded-full border border-slate-200 px-5 py-2.5 text-sm font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-900 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#93C5FD]",children:[e.jsx("svg",{viewBox:"0 0 20 20",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":"true",children:e.jsx("path",{d:"M12.5 4.5 7.5 10l5 5.5",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back"]}),e.jsxs("button",{type:"submit",disabled:!S,className:`inline-flex items-center gap-2 rounded-full px-8 py-3 text-sm font-semibold transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#93C5FD] ${S?"bg-[#2563EB] text-white shadow-[0_16px_40px_rgba(37,99,235,0.35)] hover:bg-[#1d4ed8]":"cursor-not-allowed bg-slate-200 text-slate-500"}`,children:["Continue",e.jsx("svg",{viewBox:"0 0 20 20",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":"true",children:e.jsx("path",{d:"M7.5 4.5 12.5 10 7.5 15.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})})},Sf=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,gl=6,xi=30,Jj={email:{title:"Forgot Password?",description:"Enter the email address associated with your account. We will send you a verification code to reset your password."},otp:{title:"Verify Your Email",description:"We have sent a 6-digit verification code to your email."},reset:{title:"Reset Password",description:"Create your new password below."}},Zj=()=>{const a=Te(),[n,r]=x.useState("email"),[o,c]=x.useState(""),[u,p]=x.useState(!1),b=je(),[y,f]=x.useState(Array(gl).fill("")),g=x.useRef(Array.from({length:gl},()=>null)),[h,v]=x.useState(""),[C,N]=x.useState(xi),[k,j]=x.useState(!1),[S,_]=x.useState(!1),[B,D]=x.useState(!1),[E,P]=x.useState(null),[z,$]=x.useState({newPassword:"",confirmPassword:""}),[F,H]=x.useState({newPassword:!1,confirmPassword:!1}),[U,T]=x.useState({newPassword:!1,confirmPassword:!1}),O=n==="success"?"reset":n,{title:Y,description:W}=Jj[O],I=Sf.test(o.trim()),A=y.every(Ce=>Ce.trim().length===1),R=z.newPassword.trim()&&z.confirmPassword.trim()&&z.newPassword===z.confirmPassword,q=F.confirmPassword&&z.confirmPassword&&z.newPassword!==z.confirmPassword?"Passwords do not match.":"";x.useEffect(()=>{if(n==="otp"&&C>0){const Ce=setInterval(()=>{N(Ue=>Ue>0?Ue-1:0)},1e3);return()=>clearInterval(Ce)}n!=="otp"&&N(xi)},[n,C]),x.useEffect(()=>{n==="otp"&&requestAnimationFrame(()=>{g.current[0]?.focus()})},[n]);const J=e.jsxs("div",{className:"space-y-3",children:[e.jsx("h1",{className:"text-3xl font-semibold text-slate-900 md:text-[34px]",children:Y}),e.jsx("p",{className:"text-sm text-slate-500 md:text-base",children:W})]}),M=n==="email"?e.jsxs("p",{children:["Remembered your credentials?"," ",e.jsx(Le,{to:"/login",className:"font-semibold text-[#2563EB] hover:text-[#1d4ed8]",children:"Back to Login"})]}):null,Q=async Ce=>{if(Ce.preventDefault(),p(!0),!I||k)return;const Ue=o.trim().toLowerCase();try{j(!0);const ge=await _e("/auth/password/reset/request",{email:Ue},{includeAuth:!1});r("otp"),f(Array(gl).fill("")),v(""),P(null),N(xi),ge?.emailSent?b({type:"success",message:"Verification code sent! Check your email."}):b({type:"warning",message:"Email delivery is not configured. Contact support to retrieve your verification code."})}catch(ge){const gt=ge?.message||"Unable to send verification code.";b({type:"error",message:gt})}finally{j(!1)}},se=(Ce,Ue)=>{if(!/^[0-9]?$/.test(Ue))return;const ge=[...y];ge[Ce]=Ue,f(ge),Ue&&Ce<gl-1&&g.current[Ce+1]?.focus()},V=(Ce,Ue)=>{if(Ue.key==="Backspace")if(y[Ce]){const ge=[...y];ge[Ce]="",f(ge)}else Ce>0&&g.current[Ce-1]?.focus()},re=async Ce=>{if(Ce.preventDefault(),S)return;if(!A){v("Enter the 6-digit code.");const ge=y.findIndex(gt=>!gt);ge>=0&&g.current[ge]?.focus();return}const Ue=y.join("");try{_(!0);const ge=await _e("/auth/password/reset/verify",{email:o.trim().toLowerCase(),code:Ue},{includeAuth:!1});P({resetToken:ge?.resetToken,expiresInMinutes:ge?.expiresInMinutes??30}),v(""),r("reset"),$({newPassword:"",confirmPassword:""}),H({newPassword:!1,confirmPassword:!1}),b({type:"success",message:"Verification successful! Create a new password."})}catch(ge){const gt=ge?.status;if(gt===410||gt===404)b({type:"error",message:ge?.message||"Verification code expired. Request a new one."}),r("email"),f(Array(gl).fill(""));else{const da=ge?.message||"Unable to verify code. Please try again.";v(da)}}finally{_(!1)}},oe=async()=>{if(C>0||k)return;const Ce=o.trim().toLowerCase();if(!Sf.test(Ce)){b({type:"error",message:"Enter a valid email address to receive a new code."}),r("email"),p(!0);return}try{j(!0);const Ue=await _e("/auth/password/reset/request",{email:Ce},{includeAuth:!1});f(Array(gl).fill("")),v(""),P(null),N(xi),requestAnimationFrame(()=>g.current[0]?.focus()),Ue?.emailSent?b({type:"success",message:"We sent you a new verification code."}):b({type:"warning",message:"Email delivery is not configured. Contact support to retrieve your verification code."})}catch(Ue){const ge=Ue?.message||"Unable to resend verification code.";b({type:"error",message:ge})}finally{j(!1)}},me=Ce=>{const{name:Ue,value:ge}=Ce.target;$(gt=>({...gt,[Ue]:ge}))},Ye=Ce=>{const{name:Ue}=Ce.target;H(ge=>({...ge,[Ue]:!0}))},be=async Ce=>{if(Ce.preventDefault(),H({newPassword:!0,confirmPassword:!0}),!R||B)return;if(!E?.resetToken){b({type:"error",message:"Verification expired. Request a new code."}),r("email");return}const Ue={email:o.trim().toLowerCase(),resetToken:E.resetToken,newPassword:z.newPassword.trim()};try{D(!0),await _e("/auth/password/reset/complete",Ue,{includeAuth:!1}),b({type:"success",message:"Password updated! You can now sign in with your new password."}),r("success")}catch(ge){const gt=ge?.status;if(gt===410||gt===404)b({type:"error",message:ge?.message||"Reset session expired. Please request a new code."}),r("email");else{const da=ge?.message||"Unable to update password. Please try again.";b({type:"error",message:da})}}finally{D(!1)}},Os=()=>{a("/login")},ns=()=>O==="email"?e.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-semibold text-slate-700",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",value:o,onChange:Ce=>c(Ce.target.value),onBlur:()=>p(!0),placeholder:"you@domain.com",className:`w-full rounded-2xl border bg-white px-4 py-3.5 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)] ${u&&!I?"border-red-400 focus:border-red-400 focus:shadow-[0_18px_36px_rgba(248,113,113,0.35)]":"border-slate-200"}`,required:!0}),u&&!I&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:"Please enter a valid email address."})]}),e.jsxs("button",{type:"submit",disabled:!I,className:`inline-flex w-full items-center justify-center gap-2 rounded-full px-6 py-3 text-sm font-semibold transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#93C5FD] ${I?"bg-[#2563EB] text-white shadow-[0_16px_40px_rgba(37,99,235,0.35)] hover:bg-[#1d4ed8]":"cursor-not-allowed bg-slate-200 text-slate-500"}`,children:["Send OTP",e.jsx("svg",{viewBox:"0 0 20 20",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":"true",children:e.jsx("path",{d:"M7.5 4.5 12.5 10 7.5 15.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),e.jsx("div",{className:"text-sm text-slate-500",children:e.jsx(Le,{to:"/login",className:"font-semibold text-[#2563EB] underline underline-offset-4 hover:text-[#1d4ed8]",children:"Back to Login"})})]}):O==="otp"?e.jsxs("form",{onSubmit:re,className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between text-sm text-slate-500",children:[e.jsx("button",{type:"button",onClick:()=>r("email"),className:"font-semibold text-[#2563EB] hover:text-[#1d4ed8]",children:"Change Email"}),e.jsx("button",{type:"button",onClick:oe,disabled:C>0,className:`font-semibold ${C>0?"text-slate-400 cursor-not-allowed":"text-[#2563EB] hover:text-[#1d4ed8]"}`,children:C>0?`Resend in ${C}s`:"Resend OTP"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex justify-between gap-2",children:y.map((Ce,Ue)=>e.jsx("input",{ref:ge=>{g.current[Ue]=ge},type:"text",inputMode:"numeric",maxLength:1,value:Ce,onChange:ge=>se(Ue,ge.target.value),onKeyDown:ge=>V(Ue,ge),className:"h-14 w-12 rounded-2xl border border-slate-200 text-center text-lg font-semibold text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]"},Ue))}),h&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:h})]}),e.jsxs("button",{type:"submit",disabled:!A,className:`inline-flex w-full items-center justify-center gap-2 rounded-full px-6 py-3 text-sm font-semibold transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#93C5FD] ${A?"bg-[#2563EB] text-white shadow-[0_16px_40px_rgba(37,99,235,0.35)] hover:bg-[#1d4ed8]":"cursor-not-allowed bg-slate-200 text-slate-500"}`,children:["Verify OTP",e.jsx("svg",{viewBox:"0 0 20 20",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":"true",children:e.jsx("path",{d:"M7.5 4.5 12.5 10 7.5 15.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}):e.jsxs("form",{onSubmit:be,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"newPassword",className:"text-sm font-semibold text-slate-700",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"newPassword",name:"newPassword",type:U.newPassword?"text":"password",value:z.newPassword,onChange:me,onBlur:Ye,placeholder:"Create a password",className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3.5 pr-12 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)]",required:!0}),e.jsx("button",{type:"button",onClick:()=>T(Ce=>({...Ce,newPassword:!Ce.newPassword})),className:"absolute inset-y-0 right-4 grid place-items-center text-sm font-semibold text-[#2563EB] hover:text-[#1d4ed8]",children:U.newPassword?"Hide":"Show"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-semibold text-slate-700",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:U.confirmPassword?"text":"password",value:z.confirmPassword,onChange:me,onBlur:Ye,placeholder:"Re-type your password",className:`w-full rounded-2xl border bg-white px-4 py-3.5 pr-12 text-sm text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.05)] outline-none transition focus:border-[#2563EB] focus:shadow-[0_18px_40px_rgba(37,99,235,0.15)] ${q?"border-red-400 focus:border-red-400 focus:shadow-[0_18px_36px_rgba(248,113,113,0.35)]":"border-slate-200"}`,required:!0}),e.jsx("button",{type:"button",onClick:()=>T(Ce=>({...Ce,confirmPassword:!Ce.confirmPassword})),className:"absolute inset-y-0 right-4 grid place-items-center text-sm font-semibold text-[#2563EB] hover:text-[#1d4ed8]",children:U.confirmPassword?"Hide":"Show"})]}),q&&e.jsx("p",{className:"text-xs font-medium text-red-500",children:q})]}),e.jsxs("button",{type:"submit",disabled:!R,className:`inline-flex w-full items-center justify-center gap-2 rounded-full px-6 py-3 text-sm font-semibold transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#93C5FD] ${R?"bg-[#2563EB] text-white shadow-[0_16px_40px_rgba(37,99,235,0.35)] hover:bg-[#1d4ed8]":"cursor-not-allowed bg-slate-200 text-slate-500"}`,children:["Update Password",e.jsx("svg",{viewBox:"0 0 20 20",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":"true",children:e.jsx("path",{d:"M7.5 4.5 12.5 10 7.5 15.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]});return e.jsx(Zi,{header:J,footer:M,children:e.jsxs("div",{className:"relative",children:[ns(),n==="success"&&e.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center rounded-3xl bg-white/80 backdrop-blur-sm",children:e.jsxs("div",{className:"w-full max-w-sm space-y-6 rounded-3xl bg-white p-8 text-center shadow-[0_40px_80px_rgba(15,23,42,0.18)] animate-fade-in",children:[e.jsx("span",{className:"mx-auto grid h-16 w-16 place-items-center rounded-full bg-emerald-100 text-emerald-600",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"h-8 w-8",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:e.jsx("path",{d:"M5 12.5 9.5 17 19 7",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Password Updated"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Your password has been successfully reset."})]}),e.jsx("button",{type:"button",onClick:Os,className:"inline-flex w-full items-center justify-center gap-2 rounded-full bg-[#2563EB] px-6 py-3 text-sm font-semibold text-white transition hover:bg-[#1d4ed8] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#93C5FD]",children:"Go to Login"})]})})]})})},Kj=({percentage:a=0,loading:n=!1,onRefresh:r,lastUpdated:o,onOpenProfile:c})=>{const u=Math.min(Math.max(a,0),100),p=()=>{typeof c=="function"&&c()};return e.jsxs("article",{className:"flex flex-col gap-5 rounded-3xl border border-slate-200 bg-white p-6 shadow-soft",children:[e.jsxs("header",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-400",children:"Profile completeness"}),o?e.jsxs("p",{className:"text-xs text-slate-500",children:["Updated ",o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}):null]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r?e.jsx("button",{type:"button",onClick:r,className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-600 transition hover:border-primary hover:text-primary",children:"Refresh"}):null,e.jsx("button",{type:"button",onClick:p,className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-primary text-white shadow-sm transition hover:bg-primary-dark","aria-label":"Go to profile",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"h-4 w-4",children:e.jsx("path",{d:"M7 5l5 5-5 5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsx("p",{className:"text-5xl font-bold text-slate-900",children:n?"":`${u}%`}),e.jsx("p",{className:"text-sm text-slate-500",children:"Keep your profile up to date to stand out."})]}),e.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-100",children:e.jsx("div",{className:`h-full rounded-full ${n?"bg-primary/40":"bg-primary"}`,style:{width:n?"20%":`${u}%`,transition:"width 300ms ease"}})})]})},e1=({title:a,value:n,subtext:r,linkLabel:o,onLinkClick:c})=>e.jsxs("article",{className:"rounded-2xl bg-white p-6 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:a}),e.jsx("p",{className:"mt-4 text-3xl font-bold text-slate-900",children:n}),r&&e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:r}),o&&e.jsx("button",{type:"button",onClick:c,className:"mt-4 text-sm font-semibold text-primary transition hover:text-primary-dark",children:o})]});const t1=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s1=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,o)=>o?o.toUpperCase():r.toLowerCase()),Cf=a=>{const n=s1(a);return n.charAt(0).toUpperCase()+n.slice(1)},xb=(...a)=>a.filter((n,r,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===r).join(" ").trim(),a1=a=>{for(const n in a)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var l1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const n1=x.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:p,...b},y)=>x.createElement("svg",{ref:y,...l1,width:n,height:n,stroke:a,strokeWidth:o?Number(r)*24/Number(n):r,className:xb("lucide",c),...!u&&!a1(b)&&{"aria-hidden":"true"},...b},[...p.map(([f,g])=>x.createElement(f,g)),...Array.isArray(u)?u:[u]]));const et=(a,n)=>{const r=x.forwardRef(({className:o,...c},u)=>x.createElement(n1,{ref:u,iconNode:n,className:xb(`lucide-${t1(Cf(a))}`,`lucide-${a}`,o),...c}));return r.displayName=Cf(a),r};const r1=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],kf=et("activity",r1);const i1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],o1=et("arrow-right",i1);const c1=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Af=et("award",c1);const d1=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ef=et("book-open",d1);const u1=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ud=et("briefcase",u1);const m1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pi=et("calendar",m1);const x1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Pd=et("chart-column",x1);const p1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ra=et("circle-alert",p1);const h1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],f1=et("circle-check-big",h1);const b1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pb=et("circle-check",b1);const g1=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],y1=et("clipboard-list",g1);const v1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],us=et("clock",v1);const j1=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],N1=et("heart",j1);const w1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ki=et("mail",w1);const S1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Hi=et("refresh-cw",S1);const C1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Hu=et("shield-alert",C1);const k1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],A1=et("star",k1);const E1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],M1=et("target",E1);const D1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],L1=et("user-plus",D1);const R1=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Su=et("users-round",R1);const T1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hi=et("users",T1);const _1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],eo=et("x",_1),hb=({user:a,onClose:n})=>{if(Je(a?.profileApprovalStatus)!==ke.APPROVED)return null;const o=c=>{c?.stopPropagation(),n&&typeof n=="function"&&n()};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 px-4",onClick:o,children:e.jsxs("div",{className:"relative max-w-md w-full",onClick:c=>c.stopPropagation(),children:[e.jsx("button",{onClick:o,type:"button",className:"absolute -top-8 right-0 text-white/90 hover:text-white transition-colors z-10","aria-label":"Close popup",children:e.jsx(eo,{className:"h-6 w-6"})}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 bg-emerald-100",children:e.jsx(f1,{className:"h-8 w-8 text-emerald-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Profile Approved! "}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Congratulations! Your profile has been approved by our administrators."}),e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 border border-emerald-200 rounded-full",children:e.jsx("span",{className:"text-sm font-semibold text-emerald-700",children:"Status: Approved"})})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Current Access:"}),e.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-emerald-600 mt-0.5 text-xs",children:""}),e.jsx("span",{children:"You have access to all pages and features"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-emerald-600 mt-0.5 text-xs",children:""}),e.jsx("span",{children:"Complete directory access and networking"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-emerald-600 mt-0.5 text-xs",children:""}),e.jsx("span",{children:"Event participation and registration"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-emerald-600 mt-0.5 text-xs",children:""}),e.jsx("span",{children:"Mentorship programs and opportunities"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-emerald-600 mt-0.5 text-xs",children:""}),e.jsx("span",{children:"Donations and campaign support"})]})]})]}),e.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(o1,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800 mb-1",children:"Start Exploring"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Begin connecting with fellow alumni, explore opportunities, and make the most of your alumni network!"})]})]})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:o,type:"button",className:"rounded-full bg-emerald-600 px-6 py-3 text-sm font-semibold text-white shadow hover:bg-emerald-700 transition-colors",children:"Get Started"})})]})]})})},O1=({user:a,onClose:n})=>{const r=Je(a?.profileApprovalStatus),o=r===ke.IN_REVIEW||db(r),c=p=>{p?.stopPropagation(),console.log("ProfilePendingPopup: Close button clicked"),n&&typeof n=="function"&&n()},u=p=>{p.target===p.currentTarget&&(console.log("ProfilePendingPopup: Backdrop clicked"),n&&typeof n=="function"&&n())};return o?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 px-4",onClick:u,children:e.jsxs("div",{className:"relative max-w-md w-full",onClick:p=>p.stopPropagation(),children:[e.jsx("button",{onClick:c,type:"button",className:"absolute -top-8 right-0 text-white/90 hover:text-white transition-colors z-10","aria-label":"Close popup",children:e.jsx(eo,{className:"h-6 w-6"})}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full mb-3 bg-amber-100",children:e.jsx(us,{className:"h-6 w-6 text-amber-600 animate-pulse"})}),e.jsx("h1",{className:"text-xl font-bold text-slate-900 mb-2",children:"Profile Under Review"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Your profile is currently being reviewed by our administrators."})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("div",{className:"rounded-xl p-3 bg-amber-50 border border-amber-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(us,{className:"h-4 w-4 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold mb-1 text-amber-800",children:"Review Timeline"}),e.jsx("p",{className:"text-xs text-amber-700",children:"Our team typically reviews profiles within 2-4 business days."})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Current Access:"}),e.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-600 mt-0.5 text-xs",children:""}),e.jsx("span",{children:"You can access only your profile page"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-600 mt-0.5 text-xs",children:""}),e.jsx("span",{children:"Update your profile information"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-600 mt-0.5 text-xs",children:""}),e.jsx("span",{children:"Check your email regularly for updates"})]})]})]}),e.jsx("div",{className:"rounded-xl p-3 bg-slate-50 border border-slate-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ki,{className:"h-4 w-4 text-slate-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Need Help?"}),e.jsx("p",{className:"text-xs text-slate-700",children:"Contact our support team at support@alumconnect.com"})]})]})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:c,type:"button",className:"rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white shadow hover:bg-primary-dark transition-colors",children:"I Understand"})})]})]})}):null},B1=({user:a,onClose:n})=>{const r=Je(a?.profileApprovalStatus),o=r===ke.REJECTED||ub(r),c=p=>{p?.stopPropagation(),console.log("ProfileRejectedPopup: Close button clicked"),n&&typeof n=="function"&&n()},u=p=>{p.target===p.currentTarget&&(console.log("ProfileRejectedPopup: Backdrop clicked"),n&&typeof n=="function"&&n())};return o?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 px-4",onClick:u,children:e.jsxs("div",{className:"relative max-w-md w-full",onClick:p=>p.stopPropagation(),children:[e.jsx("button",{onClick:c,type:"button",className:"absolute -top-8 right-0 text-white/90 hover:text-white transition-colors z-10","aria-label":"Close popup",children:e.jsx(eo,{className:"h-6 w-6"})}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full mb-3 bg-rose-100",children:e.jsx(Ra,{className:"h-6 w-6 text-rose-600"})}),e.jsx("h1",{className:"text-xl font-bold text-slate-900 mb-2",children:"Profile Not Approved"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Your profile could not be approved at this time."})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("div",{className:"rounded-xl p-3 bg-rose-50 border border-rose-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ra,{className:"h-4 w-4 text-rose-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold mb-1 text-rose-800",children:"Review Status"}),e.jsxs("p",{className:"text-xs text-rose-700",children:["Your profile was reviewed but could not be approved. ",a?.profileRejectionReason?`Reason: ${a.profileRejectionReason}`:"Please contact support for more details."]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Current Access:"}),e.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-rose-600 mt-0.5 text-xs",children:""}),e.jsx("span",{children:"Contact your department coordinator for assistance"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-rose-600 mt-0.5 text-xs",children:""}),e.jsx("span",{children:"Update your profile information if needed"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-rose-600 mt-0.5 text-xs",children:""}),e.jsx("span",{children:"Check your email for further instructions"})]})]})]}),e.jsx("div",{className:"rounded-xl p-3 bg-rose-50 border border-rose-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ki,{className:"h-4 w-4 text-rose-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Contact Your Department Coordinator"}),e.jsx("p",{className:"text-xs text-slate-700",children:"Please contact your department coordinator for assistance with your profile approval."})]})]})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:c,type:"button",className:"rounded-full bg-rose-600 px-5 py-2 text-sm font-semibold text-white shadow hover:bg-rose-700 transition-colors",children:"I Understand"})})]})]})}):null},z1=[{key:"firstName",label:"First name",isComplete:a=>!!a?.firstName?.trim()},{key:"lastName",label:"Last name",isComplete:a=>!!a?.lastName?.trim()},{key:"department",label:"Department / Program",isComplete:a=>!!(a?.department?.trim()||a?.program?.trim())},{key:"location",label:"Location",isComplete:a=>!!a?.location?.trim()},{key:"about",label:"About summary",isComplete:a=>!!a?.about?.trim()},{key:"avatar",label:"Profile photo",isComplete:a=>!!a?.avatar?.trim()},{key:"cover",label:"Cover image",isComplete:a=>!!a?.cover?.trim()},{key:"skills",label:"Skills",isComplete:a=>Array.isArray(a?.skills)&&a.skills.length>0},{key:"experiences",label:"Experience details",isComplete:a=>Array.isArray(a?.experiences)&&a.experiences.length>0},{key:"education",label:"Education history",isComplete:a=>Array.isArray(a?.education)&&a.education.length>0},{key:"socials",label:"Social links",isComplete:a=>a?.socials?Array.isArray(a.socials)?a.socials.some(n=>!!n?.url?.trim()):Object.values(a.socials).some(n=>!!String(n).trim()):!1}],U1=a=>{const n=z1.map(u=>({key:u.key,label:u.label,complete:!!u.isComplete(a)})),r=n.length,o=n.filter(u=>u.complete).length;return{percentage:r===0?0:Math.round(o/r*100),missingFields:n.filter(u=>!u.complete).map(u=>u.label)}},P1=()=>{const[a,n]=x.useState(!0),[r,o]=x.useState(0),[c,u]=x.useState([]),[p,b]=x.useState(null),[y,f]=x.useState(null),g=x.useRef(null),h=x.useCallback(async({silent:C=!1}={})=>{C||(n(!0),f(null));try{const k=(await ce("/auth/profile/me"))?.data??null;b(k);const{percentage:j,missingFields:S}=U1(k);o(j),u(S),g.current=new Date}catch(N){console.error("useProfileCompletion refresh error:",N),f(N)}finally{n(!1)}},[]);x.useEffect(()=>{h()},[h]),x.useEffect(()=>{const C=()=>{document.hidden||h({silent:!0})};return document.addEventListener("visibilitychange",C),()=>document.removeEventListener("visibilitychange",C)},[h]),x.useEffect(()=>{const C=()=>h({silent:!0});return window.addEventListener("profile:updated",C),()=>window.removeEventListener("profile:updated",C)},[h]);const v=x.useMemo(()=>g.current,[p]);return{loading:a,error:y,percentage:r,missingFields:c,profile:p,lastUpdated:v,refresh:h}},Vn=()=>{const[a,n]=x.useState([]),[r,o]=x.useState(!0),[c,u]=x.useState(null),p=je(),b=x.useCallback(async()=>{o(!0),u(null);try{const f=await ce("/opportunities",{includeAuth:!1});n(Array.isArray(f?.data)?f.data:[])}catch(f){u(f),p?.({title:"Unable to load opportunities",description:f.message??"Please try again later.",tone:"error"})}finally{o(!1)}},[p]);x.useEffect(()=>{b()},[b]);const y=x.useCallback(async({title:f,company:g,type:h,location:v,description:C,skills:N,contactEmail:k,deadline:j,isRemote:S,postedBy:_})=>{try{const B=await _e("/opportunities",{title:f,company:g,type:h,location:v,description:C,skills:N,contactEmail:k,deadline:j,isRemote:S,postedBy:_});return B?.data&&n(D=>[B.data,...D]),p?.({title:"Opportunity posted",description:"Your opportunity is now live for students to discover.",tone:"success"}),B?.data??null}catch(B){throw p?.({title:"Unable to post opportunity",description:B.message??"Please try again later.",tone:"error"}),B}},[p]);return x.useMemo(()=>({items:a,loading:r,error:c,refresh:b,createOpportunity:y}),[a,r,c,b,y])},$1=a=>{const[n,r]=x.useState(null),[o,c]=x.useState(!0),[u,p]=x.useState(null),b=je();return x.useEffect(()=>{let y=!0;return a?((async()=>{c(!0),p(null);try{const g=await ce(`/opportunities/${a}`,{includeAuth:!1});if(!y)return;r(g?.data??null)}catch(g){if(!y)return;p(g),b?.({title:"Unable to load opportunity",description:g.message??"Please try again later.",tone:"error"})}finally{y&&c(!1)}})(),()=>{y=!1}):(c(!1),r(null),()=>{})},[a,b]),{data:n,loading:o,error:u}},Oi=a=>{if(!a)return"";const n=new Date(a);return Number.isNaN(n.getTime())?"":n.toISOString()},Y1=a=>a?{...a,contributedAt:Oi(a.contributedAt)}:null,Sl=a=>a?{...a,deadline:Oi(a.deadline),createdAt:Oi(a.createdAt),updatedAt:Oi(a.updatedAt),contributions:Array.isArray(a.contributions)?a.contributions.map(Y1).filter(Boolean):[],contributionCount:typeof a.contributionCount=="number"?a.contributionCount:Array.isArray(a.contributions)?a.contributions.length:0}:null,to=()=>{const[a,n]=x.useState([]),[r,o]=x.useState(!0),[c,u]=x.useState(null),p=je(),b=x.useCallback(async()=>{o(!0),u(null);try{const h=await ce("/donations",{includeAuth:!1}),v=Array.isArray(h?.data)?h.data:[];n(v.map(Sl).filter(Boolean))}catch(h){u(h),p?.({title:"Unable to load donations",description:h.message??"Please try again later.",tone:"error"})}finally{o(!1)}},[p]);x.useEffect(()=>{b()},[b]);const y=x.useCallback(async({title:h,description:v,goalAmount:C,coverImage:N,deadline:k})=>{try{const j=await _e("/donations",{title:h,description:v,goalAmount:C,coverImage:N,deadline:k}),S=Sl(j?.data);return S&&n(_=>[S,..._]),p?.({title:"Campaign published",description:"Your donation campaign is now live.",tone:"success"}),S}catch(j){throw p?.({title:"Unable to publish campaign",description:j.message??"Please try again later.",tone:"error"}),j}},[p]),f=x.useCallback(async(h,v)=>{try{const C=await Pt(`/donations/${h}`,v),N=Sl(C?.data);return N&&n(k=>k.some(S=>S.id===N.id)?k.map(S=>S.id===N.id?N:S):k),N}catch(C){throw console.error("useDonations: Unable to update donation:",C),C}},[]),g=x.useCallback(async(h,{amount:v,message:C})=>{try{const N=await _e(`/donations/${h}/contribute`,{amount:v,message:C}),k=Sl(N?.data);return k&&n(j=>j.some(_=>_.id===k.id)?j.map(_=>_.id===k.id?k:_):j),k}catch(N){throw p?.({title:"Contribution failed",description:N.message??"Please try again later.",tone:"error"}),N}},[p]);return x.useMemo(()=>({items:a,loading:r,error:c,refresh:b,createDonation:y,updateDonation:f,contribute:g}),[a,r,c,b,y,f,g])},q1=a=>{const[n,r]=x.useState(null),[o,c]=x.useState(!0),[u,p]=x.useState(null),b=je();x.useEffect(()=>{let f=!0;return a?((async()=>{c(!0),p(null);try{const h=await ce(`/donations/${a}`,{includeAuth:!1});if(!f)return;r(Sl(h?.data??null))}catch(h){if(!f)return;p(h),b?.({title:"Unable to load campaign",description:h.message??"Please try again later.",tone:"error"})}finally{f&&c(!1)}})(),()=>{f=!1}):(c(!1),r(null),()=>{})},[a,b]);const y=x.useCallback(async({amount:f,message:g})=>{if(!a)throw new Error("Campaign id is required to contribute");const h=await _e(`/donations/${a}/contribute`,{amount:f,message:g}),v=Sl(h?.data);return r(v),v},[a]);return{data:n,loading:o,error:u,contribute:y}},H1=()=>{const[a,n]=x.useState({availableJobs:0,upcomingEvents:0,applicationsApplied:0,activeDonations:0,jobsTrend:"+0 this week",eventsTrend:"+0 this month",applicationsTrend:"+0 this week",donationsTrend:"0 ending soon"}),[r,o]=x.useState([]),[c,u]=x.useState([]),[p,b]=x.useState(!0),[y,f]=x.useState(null),g=je(),{items:h,loading:v}=Vn(),{items:C,loading:N}=Ta(),{items:k,loading:j}=to(),S=x.useCallback(async()=>{b(!0),f(null);try{const E=await ce("/applications/mine"),P=Array.isArray(E?.data)?E.data:[],z=await ce("/event-registrations/mine"),$=Array.isArray(z?.data)?z.data:[],F={availableJobs:h.length,upcomingEvents:C.filter(H=>new Date(H.startAt)>new Date).length,applicationsApplied:P.length,activeDonations:k.filter(H=>new Date(H.deadline)>new Date&&H.isActive!==!1).length,jobsTrend:`+${Math.floor(Math.random()*10)} this week`,eventsTrend:`+${Math.floor(Math.random()*5)} this month`,applicationsTrend:`+${Math.floor(Math.random()*8)} this week`,donationsTrend:`${k.filter(H=>new Date(H.deadline)-new Date<10080*60*1e3).length} ending soon`};n(F),o(P),u($)}catch(E){f(E),g?.({title:"Unable to load dashboard data",description:E.message??"Please try again later.",tone:"error"})}finally{b(!1)}},[h,C,k,g]);x.useEffect(()=>{!v&&!N&&!j&&S()},[v,N,j,S]);const _=x.useMemo(()=>C.filter(E=>new Date(E.startAt)>new Date).slice(0,4).map(E=>({id:E.id,title:E.title,date:new Date(E.startAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),time:new Date(E.startAt).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),type:E.organization||"Event",description:E.description?.substring(0,100)+"..."||"Join this event",isRegistered:c.some(P=>P.eventId===E.id)})),[C,c]),B=x.useMemo(()=>r.slice(0,5).map(E=>({id:E.id,title:E.opportunity?.title||"Unknown Position",company:E.opportunity?.company||"Unknown Company",status:E.status||"Applied",date:new Date(E.appliedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),statusColor:E.status==="Applied"?"blue":E.status==="Reviewed"?"yellow":E.status==="Shortlisted"?"green":"purple"})),[r]),D=x.useMemo(()=>{const E=new Date().getMonth(),P=new Date().getFullYear(),z={};return C.forEach($=>{const F=new Date($.startAt);if(F.getMonth()===E&&F.getFullYear()===P){const H=F.getDate();z[H]||(z[H]=[]),z[H].push({type:"event",title:$.title})}}),r.forEach($=>{if($.opportunity?.deadline){const F=new Date($.opportunity.deadline);if(F.getMonth()===E&&F.getFullYear()===P){const H=F.getDate();z[H]||(z[H]=[]),z[H].push({type:"job",title:$.opportunity.title})}}}),z},[C,r]);return x.useMemo(()=>({overviewStats:a,events:_,applications:B,calendarData:D,loading:p||v||N||j,error:y,refresh:S}),[a,_,B,D,p,v,N,j,y,S])},Ma=[{name:"blue",bg:"bg-blue-100",text:"text-blue-700",border:"border-blue-300",dot:"bg-blue-500"},{name:"green",bg:"bg-green-100",text:"text-green-700",border:"border-green-300",dot:"bg-green-500"},{name:"purple",bg:"bg-purple-100",text:"text-purple-700",border:"border-purple-300",dot:"bg-purple-500"},{name:"orange",bg:"bg-orange-100",text:"text-orange-700",border:"border-orange-300",dot:"bg-orange-500"},{name:"red",bg:"bg-red-100",text:"text-red-700",border:"border-red-300",dot:"bg-red-500"}],Fu=({initialNotes:a=[],onNotesChange:n,readOnly:r=!1})=>{const{user:o}=ye(),[c,u]=x.useState(new Date),[p,b]=x.useState(null),[y,f]=x.useState(a),[g,h]=x.useState(!1),[v,C]=x.useState(""),[N,k]=x.useState(Ma[0]),[j,S]=x.useState(null),_=x.useCallback(T=>{const O=T.getFullYear(),Y=T.getMonth(),W=new Date(O,Y,1),A=new Date(O,Y+1,0).getDate(),R=W.getDay(),q=[];for(let J=0;J<R;J++)q.push(null);for(let J=1;J<=A;J++)q.push(J);return q},[]),B=x.useCallback((T,O,Y)=>`${T}-${String(O+1).padStart(2,"0")}-${String(Y).padStart(2,"0")}`,[]),D=x.useCallback(T=>{if(!T)return[];const O=B(c.getFullYear(),c.getMonth(),T);return y.filter(Y=>Y.dateKey===O)},[c,y,B]),E=x.useCallback(T=>{!T||r||(b(T),C(""),k(Ma[0]),h(!0))},[r]),P=x.useCallback(()=>{if(!v.trim()||!p)return;const T={id:Date.now().toString(),dateKey:B(c.getFullYear(),c.getMonth(),p),text:v.trim(),color:N.name,createdBy:o?.id||"anonymous",createdAt:new Date().toISOString()},O=[...y,T];f(O),n?.(O),C(""),h(!1)},[v,p,c,N,o,y,n,B]),z=x.useCallback(T=>{const O=y.filter(Y=>Y.id!==T);f(O),n?.(O)},[y,n]),$=x.useCallback(()=>{u(T=>new Date(T.getFullYear(),T.getMonth()-1))},[]),F=x.useCallback(()=>{u(T=>new Date(T.getFullYear(),T.getMonth()+1))},[]),H=_(c),U=c.toLocaleDateString("en-US",{month:"long",year:"numeric"});return e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:$,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Previous month",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:U}),e.jsx("button",{onClick:F,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Next month",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["S","M","T","W","T","F","S"].map((T,O)=>e.jsx("div",{className:"text-center text-xs font-medium text-slate-500 py-2",children:T},O))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:H.map((T,O)=>{const Y=D(T),W=Y.length>0,I=T===new Date().getDate()&&c.getMonth()===new Date().getMonth()&&c.getFullYear()===new Date().getFullYear();return e.jsxs("div",{className:`aspect-square flex flex-col items-center justify-center rounded-lg cursor-pointer relative group ${T?"hover:bg-slate-100":""} ${I?"bg-blue-50 font-bold":""}`,onClick:()=>E(T),onMouseEnter:()=>S(T),onMouseLeave:()=>S(null),children:[T&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:`text-sm ${I?"text-blue-600":"font-medium text-slate-900"}`,children:T}),W&&e.jsxs("div",{className:"flex gap-1 mt-1",children:[Y.slice(0,3).map((A,R)=>{const q=Ma.find(J=>J.name===A.color);return e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${q?.dot||"bg-gray-500"}`},R)}),Y.length>3&&e.jsxs("span",{className:"text-xs text-slate-400",children:["+",Y.length-3]})]})]}),j===T&&W&&e.jsxs("div",{className:"absolute z-50 bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-48 p-2 bg-slate-900 text-white text-xs rounded-lg shadow-lg",children:[e.jsxs("div",{className:"font-medium mb-1",children:["Notes for ",c.toLocaleDateString("en-US",{month:"short"})," ",T,":"]}),Y.map((A,R)=>e.jsxs("div",{className:"mb-1 last:mb-0",children:[e.jsx("div",{className:`inline-block w-2 h-2 rounded-full mr-1 ${Ma.find(q=>q.name===A.color)?.dot||"bg-gray-500"}`}),A.text.length>30?`${A.text.substring(0,30)}...`:A.text]},A.id)),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:e.jsx("div",{className:"border-4 border-transparent border-t-slate-900"})})]})]},O)})}),g&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Add Note for ",c.toLocaleDateString("en-US",{month:"short"})," ",p]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Note"}),e.jsx("textarea",{value:v,onChange:T=>C(T.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Enter your note..."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Color"}),e.jsx("div",{className:"flex gap-2",children:Ma.map(T=>e.jsx("button",{onClick:()=>k(T),className:`w-8 h-8 rounded-lg border-2 ${N.name===T.name?"border-slate-400":"border-transparent"} ${T.bg}`,title:T.name},T.name))})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:P,disabled:!v.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Add Note"})]})]})}),p&&!r&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsxs("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:["Notes for ",c.toLocaleDateString("en-US",{month:"short"})," ",p,":"]}),D(p).length>0?e.jsx("div",{className:"space-y-2",children:D(p).map(T=>{const O=Ma.find(Y=>Y.name===T.color);return e.jsxs("div",{className:`flex items-start justify-between p-2 rounded-lg ${O?.bg||"bg-gray-100"}`,children:[e.jsx("div",{className:`flex-1 text-sm ${O?.text||"text-gray-700"}`,children:T.text}),e.jsx("button",{onClick:()=>z(T.id),className:"ml-2 text-slate-400 hover:text-red-500 transition-colors",title:"Delete note",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},T.id)})}):e.jsx("p",{className:"text-sm text-slate-500",children:"No notes for this date"})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Legend"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Ma.map(T=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${T.dot}`}),e.jsx("span",{className:"text-xs text-slate-600 capitalize",children:T.name})]},T.name))})]})]})},Vu=()=>{const{user:a}=ye(),[n,r]=x.useState([]),[o,c]=x.useState(!1),[u,p]=x.useState(null),b=x.useCallback(async()=>{if(a?.id){c(!0),p(null);try{const C=await ce(`/calendar/notes/${a.id}`);C?.data&&r(C.data)}catch(C){C.status!==404&&(console.error("Failed to fetch calendar notes:",C),p(C.message||"Failed to load notes")),r([])}finally{c(!1)}}},[a?.id]),y=x.useCallback(async C=>{if(!a?.id)return null;c(!0),p(null);try{const N=await _e("/calendar/notes",{...C,userId:a.id});if(N?.data)return r(k=>[...k,N.data]),N.data}catch(N){console.error("Failed to add calendar note:",N),p(N.message||"Failed to add note");const k={id:Date.now().toString(),...C,userId:a.id,createdAt:new Date().toISOString()};return r(j=>[...j,k]),k}finally{c(!1)}},[a?.id]),f=x.useCallback(async(C,N)=>{if(!a?.id)return null;c(!0),p(null);try{const k=await _e(`/calendar/notes/${C}`,N);if(k?.data)return r(j=>j.map(S=>S.id===C?{...S,...k.data}:S)),k.data}catch(k){return console.error("Failed to update calendar note:",k),p(k.message||"Failed to update note"),null}finally{c(!1)}},[a?.id]),g=x.useCallback(async C=>{if(!a?.id)return!1;c(!0),p(null);try{return await Dl(`/calendar/notes/${C}`),r(N=>N.filter(k=>k.id!==C)),!0}catch(N){return console.error("Failed to delete calendar note:",N),p(N.message||"Failed to delete note"),r(k=>k.filter(j=>j.id!==C)),!0}finally{c(!1)}},[a?.id]),h=x.useCallback(C=>n.filter(N=>N.dateKey===C),[n]),v=x.useCallback((C,N)=>n.filter(k=>{const j=new Date(k.dateKey);return j>=C&&j<=N}),[n]);return x.useEffect(()=>{a?.id&&b()},[a?.id]),x.useEffect(()=>{if(!a?.id)return;const C=setInterval(()=>{b()},3e4);return()=>clearInterval(C)},[a?.id]),{notes:n,loading:o,error:u,fetchNotes:b,addNote:y,updateNote:f,deleteNote:g,getNotesForDate:h,getNotesForDateRange:v}},F1=()=>{const{user:a}=ye(),[n,r]=x.useState(null),{overviewStats:o,events:c,applications:u,calendarData:p,loading:b,error:y,refresh:f}=H1(),{notes:g}=Vu(),h={blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",purple:"bg-purple-50 text-purple-600 border-purple-200",orange:"bg-orange-50 text-orange-600 border-orange-200"},v={blue:"bg-blue-100 text-blue-700",yellow:"bg-yellow-100 text-yellow-700",green:"bg-green-100 text-green-700",purple:"bg-purple-100 text-purple-700"};return(()=>{const N=new Date,k=N.getFullYear(),j=N.getMonth(),S=new Date(k,j,1),B=new Date(k,j+1,0).getDate(),D=S.getDay(),E=[];for(let P=0;P<D;P++)E.push(null);for(let P=1;P<=B;P++)E.push(P);return E})(),new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"}),b?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-slate-600",children:"Loading dashboard..."})]})}):y?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Error loading dashboard data"}),e.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-slate-100",children:e.jsx("div",{className:"w-full px-4 py-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-slate-900",children:["Welcome back, ",a?.name?.split(" ")[0]||"Student","! "]}),e.jsxs("p",{className:"text-slate-600 mt-1",children:["Department: ",a?.profile?.department||"Computer Science","  Class of ",a?.profile?.graduationYear||"2025"]})]}),e.jsx("div",{className:"w-full lg:w-96",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search jobs and events...",className:"w-full px-4 py-3 pl-12 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})]})})}),e.jsxs("div",{className:"w-full px-4 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:`rounded-2xl border p-6 bg-white shadow-sm hover:shadow-md ${h.blue}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Available Job Opportunities"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:o.availableJobs}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.jobsTrend})]}),e.jsx("div",{className:"p-3 rounded-xl bg-white/50",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),e.jsx("div",{className:`rounded-2xl border p-6 bg-white shadow-sm hover:shadow-md ${h.purple}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Upcoming Events"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:o.upcomingEvents}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.eventsTrend})]}),e.jsx("div",{className:"p-3 rounded-xl bg-white/50",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})}),e.jsx("div",{className:`rounded-2xl border p-6 bg-white shadow-sm hover:shadow-md ${h.green}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Applications Applied"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:o.applicationsApplied}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.applicationsTrend})]}),e.jsx("div",{className:"p-3 rounded-xl bg-white/50",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),e.jsx("div",{className:`rounded-2xl border p-6 bg-white shadow-sm hover:shadow-md ${h.orange}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Active Donation Campaigns"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:o.activeDonations}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.donationsTrend})]}),e.jsx("div",{className:"p-3 rounded-xl bg-white/50",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Events & Activities"}),c.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(N=>e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 hover:shadow-md",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:N.title}),e.jsxs("p",{className:"text-sm text-slate-600",children:[N.date,"  ",N.time]})]}),e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-full",children:N.type})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-3 line-clamp-2",children:N.description}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-sm border border-slate-200 rounded-lg hover:bg-slate-50",children:"View Details"}),e.jsx("button",{className:`px-3 py-1 text-sm rounded-lg transition-colors ${N.isRegistered?"bg-green-600 text-white hover:bg-green-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:N.isRegistered?"Registered":"Register"})]})]},N.id))}):e.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-8 text-center",children:e.jsx("p",{className:"text-slate-600",children:"No upcoming events available"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Applications Applied"}),u.length>0?e.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Job Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Company"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Date Applied"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:u.map(N=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:N.title}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:N.company}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v[N.statusColor]}`,children:N.status})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:N.date})]},N.id))})]})}):e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-8 text-center",children:[e.jsx("p",{className:"text-slate-600",children:"No applications submitted yet"}),e.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Browse Opportunities"})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Interactive Calendar"}),e.jsx(Fu,{initialNotes:g,onNotesChange:N=>{console.log("Calendar notes updated:",N)}})]})})]})]})]})},V1=a=>{const[n,r]=x.useState({jobsPosted:0,eventsParticipated:0,activeDonations:0,mentorshipRequests:0,jobsTrend:"+0 this month",eventsTrend:"+0 this month",donationsTrend:"0 ending soon",mentorshipTrend:"+0 this week"}),[o,c]=x.useState([]),[u,p]=x.useState([]),[b,y]=x.useState([]),[f,g]=x.useState([]),[h,v]=x.useState(!0),[C,N]=x.useState(null),k=je(),{items:j,loading:S}=Vn(),{items:_,loading:B}=Ta(),{items:D,loading:E}=to(),P=x.useCallback(async()=>{v(!0),N(null);try{const O=await ce("/opportunities/mine"),Y=Array.isArray(O?.data)?O.data:[],W=await ce("/events/mine"),I=Array.isArray(W?.data)?W.data:[],A=await ce("/mentors/pending"),R=Array.isArray(A?.data)?A.data:[],q=await ce("/alumni/activity"),J=Array.isArray(q?.data)?q.data:[],M={jobsPosted:Y.length,eventsParticipated:I.length,activeDonations:D.filter(Q=>new Date(Q.deadline)>new Date&&Q.isActive!==!1).length,mentorshipRequests:R.length,jobsTrend:`+${Math.floor(Math.random()*5)} this month`,eventsTrend:`+${Math.floor(Math.random()*3)} this month`,donationsTrend:`${D.filter(Q=>new Date(Q.deadline)-new Date<10080*60*1e3).length} ending soon`,mentorshipTrend:`+${Math.floor(Math.random()*8)} this week`};r(M),c(Y),p(I),y(R),g(J)}catch(O){N(O),k?.({title:"Unable to load dashboard data",description:O.message??"Please try again later.",tone:"error"})}finally{v(!1)}},[j,_,D,k]);x.useEffect(()=>{!S&&!B&&!E&&P()},[S,B,E,P]);const z=x.useMemo(()=>b.slice(0,4).map(O=>({id:O.id,name:O.student?.name||"Unknown Student",department:O.student?.profile?.department||"Unknown",request:O.service?.name||"Mentorship request",status:O.status||"pending",studentId:O.student?.id,preferredDateTime:O.preferredDateTime,preferredMode:O.preferredMode,notes:O.notes})),[b]),$=x.useMemo(()=>u.filter(O=>new Date(O.startAt)>new Date).slice(0,4).map(O=>({id:O.id,title:O.title,date:new Date(O.startAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),time:new Date(O.startAt).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),type:O.organization||"Event",description:O.description?.substring(0,100)+"..."||"Join this event",isCreator:O.createdBy===a?.id})),[u,a?.id]),F=x.useMemo(()=>f.slice(0,5).map(O=>({id:O.id,type:O.type,title:O.title,time:U(O.createdAt||O.timestamp),icon:T(O.type)})),[f]),H=x.useMemo(()=>{const O=new Date().getMonth(),Y=new Date().getFullYear(),W={};return u.forEach(I=>{const A=new Date(I.startAt);if(A.getMonth()===O&&A.getFullYear()===Y){const R=A.getDate();W[R]||(W[R]=[]),W[R].push({type:"event",title:I.title})}}),o.forEach(I=>{if(I.deadline){const A=new Date(I.deadline);if(A.getMonth()===O&&A.getFullYear()===Y){const R=A.getDate();W[R]||(W[R]=[]),W[R].push({type:"job",title:I.title})}}}),W},[u,o]),U=O=>{if(!O)return"Unknown time";const Y=new Date,W=new Date(O),I=Y-W,A=Math.floor(I/6e4),R=Math.floor(I/36e5),q=Math.floor(I/864e5),J=Math.floor(q/7);return A<60?`${A} minutes ago`:R<24?`${R} hours ago`:q<7?`${q} days ago`:J<4?`${J} weeks ago`:W.toLocaleDateString()},T=O=>{switch(O){case"job":return"";case"event":return"";case"donation":return"";case"mentorship":return"";default:return""}};return x.useMemo(()=>({overviewStats:n,opportunities:o,events:$,mentorshipRequests:z,recentActivity:F,calendarData:H,loading:h||S||B||E,error:C,refresh:P}),[n,o,$,z,F,H,h,S,B,E,C,P])},I1=()=>{const{user:a}=ye(),[n,r]=x.useState(null),{overviewStats:o,opportunities:c,events:u,mentorshipRequests:p,recentActivity:b,calendarData:y,loading:f,error:g,refresh:h}=V1(a),{notes:v}=Vu(),C={blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",purple:"bg-purple-50 text-purple-600 border-purple-200",orange:"bg-orange-50 text-orange-600 border-orange-200"},N={pending:"bg-yellow-100 text-yellow-700",accepted:"bg-green-100 text-green-700",declined:"bg-red-100 text-red-700"};return(()=>{const j=new Date,S=j.getFullYear(),_=j.getMonth(),B=new Date(S,_,1),E=new Date(S,_+1,0).getDate(),P=B.getDay(),z=[];for(let $=0;$<P;$++)z.push(null);for(let $=1;$<=E;$++)z.push($);return z})(),new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"}),f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-slate-600",children:"Loading dashboard..."})]})}):g?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Error loading dashboard data"}),e.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50",children:[e.jsx("div",{className:"border-b border-slate-100",children:e.jsx("div",{className:"w-full px-4 py-6",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-slate-900",children:["Welcome back, ",a?.name?.split(" ")[0]||"Alumni","! "]}),e.jsxs("p",{className:"text-slate-600 mt-1",children:["Class of ",a?.profile?.graduationYear||"2020","  ",a?.profile?.department||"Computer Science"]})]})})})}),e.jsxs("div",{className:"w-full px-4 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:`rounded-2xl border p-6 bg-white shadow-sm hover:shadow-md ${C.blue}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Opportunities Posted"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:o.jobsPosted}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.jobsTrend})]}),e.jsx("div",{className:"p-3 rounded-xl bg-white/50",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),e.jsx("div",{className:`rounded-2xl border p-6 bg-white shadow-sm hover:shadow-md ${C.purple}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Events Created or Participated"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:o.eventsParticipated}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.eventsTrend})]}),e.jsx("div",{className:"p-3 rounded-xl bg-white/50",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})}),e.jsx("div",{className:`rounded-2xl border p-6 bg-white shadow-sm hover:shadow-md ${C.green}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Active Donation Campaigns"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:o.activeDonations}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.donationsTrend})]}),e.jsx("div",{className:"p-3 rounded-xl bg-white/50",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]})}),e.jsx("div",{className:`rounded-2xl border p-6 bg-white shadow-sm hover:shadow-md ${C.orange}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Mentorship Requests Received"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:o.mentorshipRequests}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.mentorshipTrend})]}),e.jsx("div",{className:"p-3 rounded-xl bg-white/50",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Your Contributions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 hover:shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})}),e.jsx("h3",{className:"font-semibold text-slate-900",children:"Post a Job or Referral"})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Share opportunities with students and fellow alumni"}),e.jsx("button",{onClick:()=>window.location.href="/dashboard/opportunities/post",className:"w-full px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Post Opportunity"})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 hover:shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("h3",{className:"font-semibold text-slate-900",children:"Create Alumni Events"})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Organize networking and professional events"}),e.jsx("button",{onClick:()=>window.location.href="/dashboard/events/post",className:"w-full px-3 py-2 bg-purple-600 text-white text-sm rounded-lg hover:bg-purple-700",children:"Create Event"})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 hover:shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),e.jsx("h3",{className:"font-semibold text-slate-900",children:"Support Campaigns"})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Contribute to institutional development"}),e.jsx("button",{onClick:()=>window.location.href="/dashboard/donations/create",className:"w-full px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700",children:"Donate"})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Mentorship Requests"}),p.length>0?e.jsx("div",{className:"space-y-3",children:p.map(j=>e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 hover:shadow-md",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:j.name}),e.jsx("p",{className:"text-sm text-slate-600",children:j.department})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N[j.status]}`,children:j.status})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:j.request}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Accept"}),e.jsx("button",{className:"px-3 py-1 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Decline"}),e.jsx("button",{className:"px-3 py-1 text-sm border border-slate-200 rounded-lg hover:bg-slate-50",children:"View Profile"})]})]},j.id))}):e.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-8 text-center",children:e.jsx("p",{className:"text-slate-600",children:"No mentorship requests at the moment"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Your Events"}),u.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(j=>e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 hover:shadow-md",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:j.title}),e.jsxs("p",{className:"text-sm text-slate-600",children:[j.date,"  ",j.time]})]}),e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-full",children:j.type})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-3 line-clamp-2",children:j.description}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{className:"px-3 py-1 text-sm border border-slate-200 rounded-lg hover:bg-slate-50",children:j.isCreator?"Manage":"View Details"})})]},j.id))}):e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-8 text-center",children:[e.jsx("p",{className:"text-slate-600",children:"No events created yet"}),e.jsx("button",{className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Your First Event"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Interactive Calendar"}),e.jsx(Fu,{initialNotes:v,onNotesChange:j=>{console.log("Calendar notes updated:",j)}})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Recent Activity"}),e.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:b.length>0?e.jsx("div",{className:"space-y-3",children:b.map(j=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg",children:j.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-slate-600",children:j.title}),e.jsx("p",{className:"text-xs text-slate-400",children:j.time})]})]},j.id))}):e.jsx("p",{className:"text-sm text-slate-500 text-center",children:"No recent activity"})})]})]})]})]})]})},G1=a=>{const[n,r]=x.useState({studentsUnderGuidance:0,alumniLinkedToDepartment:0,activeDepartmentEvents:0,pendingRequests:0,studentsTrend:"+0 this semester",alumniTrend:"+0 this year",eventsTrend:"+0 this month",requestsTrend:"0 urgent"}),[o,c]=x.useState([]),[u,p]=x.useState([]),[b,y]=x.useState([]),[f,g]=x.useState({studentEngagement:0,alumniParticipation:0,eventSuccess:0}),[h,v]=x.useState(!0),[C,N]=x.useState(null),k=je(),{items:j,loading:S}=Vn(),{items:_,loading:B}=Ta(),{items:D,loading:E}=to(),P=x.useCallback(async()=>{v(!0),N(null);try{const U=await ce("/faculty/students"),T=Array.isArray(U?.data)?U.data:[],O=await ce("/faculty/alumni"),Y=Array.isArray(O?.data)?O.data:[],W=await ce("/faculty/events/pending"),I=Array.isArray(W?.data)?W.data:[],A=await ce("/faculty/student-activities"),R=Array.isArray(A?.data)?A.data:[],J=(await ce("/faculty/engagement-metrics"))?.data||{studentEngagement:0,alumniParticipation:0,eventSuccess:0},M={studentsUnderGuidance:T.length,alumniLinkedToDepartment:Y.length,activeDepartmentEvents:_.filter(Q=>Q.createdBy===a?.id||Q.department===a?.profile?.department&&Q.status==="active").length,pendingRequests:I.length,studentsTrend:`+${Math.floor(Math.random()*5)} this semester`,alumniTrend:`+${Math.floor(Math.random()*15)} this year`,eventsTrend:`+${Math.floor(Math.random()*3)} this month`,requestsTrend:`${Math.floor(Math.random()*5)} urgent`};r(M),c(R),p(Y.slice(0,4)),y(I.slice(0,4)),g(J)}catch(U){N(U),k?.({title:"Unable to load dashboard data",description:U.message??"Please try again later.",tone:"error"})}finally{v(!1)}},[j,_,D,a,k]);x.useEffect(()=>{!S&&!B&&!E&&a&&P()},[S,B,E,a,P]);const z=x.useMemo(()=>o.slice(0,5).map(U=>({id:U.id,name:U.student?.name||U.name||"Unknown Student",activity:U.activity||U.type||"Student Activity",status:U.status||"pending",date:U.date||U.createdAt?new Date(U.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown Date",studentId:U.student?.id||U.studentId})),[o]),$=x.useMemo(()=>u.map(U=>({id:U.id,name:U.name||"Unknown Alumni",industry:U.profile?.industry||U.industry||"Unknown Industry",mentorship:U.mentorshipStatus||U.mentorship||"Available",events:U.eventsCount||U.events||"0 events",avatar:U.profile?.avatar||U.avatar,department:U.profile?.department||U.department})),[u]),F=x.useMemo(()=>b.map(U=>({id:U.id,name:U.title||U.name||"Event",date:U.date||U.startAt?new Date(U.startAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown Date",organizer:U.createdBy?.name||U.organizer||"Unknown",status:U.status||"pending",department:U.department||a?.profile?.department||"Unknown"})),[b,a]),H=x.useMemo(()=>{const U=new Date().getMonth(),T=new Date().getFullYear(),O={};return _.forEach(Y=>{const W=new Date(Y.startAt);if(W.getMonth()===U&&W.getFullYear()===T){const I=W.getDate();O[I]||(O[I]=[]),O[I].push({type:"event",title:Y.title})}}),j.forEach(Y=>{if(Y.deadline){const W=new Date(Y.deadline);if(W.getMonth()===U&&W.getFullYear()===T){const I=W.getDate();O[I]||(O[I]=[]),O[I].push({type:"job",title:Y.title})}}}),O},[_,j]);return x.useMemo(()=>({overviewStats:n,studentActivities:z,alumniCoordination:$,eventsApprovals:F,engagementMetrics:f,calendarData:H,loading:h||S||B||E,error:C,refresh:P}),[n,z,$,F,f,H,h,S,B,E,C,P])},X1=()=>{const{user:a}=ye(),[n,r]=x.useState(null),{overviewStats:o,studentActivities:c,alumniCoordination:u,eventsApprovals:p,engagementMetrics:b,calendarData:y,loading:f,error:g,refresh:h}=G1(a),{notes:v}=Vu(),C={blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",purple:"bg-purple-50 text-purple-600 border-purple-200",orange:"bg-orange-50 text-orange-600 border-orange-200"},N={pending:"bg-yellow-100 text-yellow-700",approved:"bg-green-100 text-green-700",completed:"bg-blue-100 text-blue-700",rejected:"bg-red-100 text-red-700",under_review:"bg-amber-100 text-amber-700"};return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-slate-600",children:"Loading dashboard..."})]})}):g?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Error loading dashboard data"}),e.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-slate-100",children:e.jsxs("div",{className:"w-full px-4 py-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-slate-900",children:["Welcome back, ",a?.name?.split(" ")[0]||"Faculty","! "]}),e.jsxs("p",{className:"text-slate-600 mt-1",children:[a?.profile?.role||"Professor","  ",a?.profile?.department||"Computer Science"]})]}),e.jsx("div",{className:"w-full lg:w-96",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search students, alumni, jobs, events...",className:"w-full px-4 py-3 pl-12 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[e.jsxs("button",{className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 17v1a1 1 0 001 1h4a1 1 0 001-1v-1m3-2V8a2 2 0 00-2-2H8a2 2 0 00-2 2v6m9 4h.01"})}),"View Reports"]}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Manage Events"]}),e.jsxs("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]})]})]})}),e.jsxs("div",{className:"w-full px-4 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:`rounded-2xl border p-6 bg-white shadow-sm hover:shadow-md transition-all ${C.blue}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Students Under Guidance"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:o.studentsUnderGuidance}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.studentsTrend})]}),e.jsx("div",{className:"p-3 rounded-xl bg-white/50",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),e.jsx("div",{className:`rounded-2xl border p-6 bg-white shadow-sm hover:shadow-md transition-all ${C.green}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Alumni Linked to Department"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:o.alumniLinkedToDepartment}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.alumniTrend})]}),e.jsx("div",{className:"p-3 rounded-xl bg-white/50",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),e.jsx("div",{className:`rounded-2xl border p-6 bg-white shadow-sm hover:shadow-md transition-all ${C.purple}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Active Department Events"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:o.activeDepartmentEvents}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.eventsTrend})]}),e.jsx("div",{className:"p-3 rounded-xl bg-white/50",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})}),e.jsx("div",{className:`rounded-2xl border p-6 bg-white shadow-sm hover:shadow-md transition-all ${C.orange}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Pending Requests / Approvals"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:o.pendingRequests}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.requestsTrend})]}),e.jsx("div",{className:"p-3 rounded-xl bg-white/50",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 17v1a1 1 0 001 1h4a1 1 0 001-1v-1m3-2V8a2 2 0 00-2-2H8a2 2 0 00-2 2v6m9 4h.01"})})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Student Activity & Monitoring"}),e.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Student Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Activity Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Last Updated"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:c.map((k,j)=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:k.name}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:k.activity}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N[k.status]}`,children:k.status})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:k.date})]},j))})]})})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Alumni Coordination"}),e.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Alumni Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Industry"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Mentorship"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Events"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:u.map((k,j)=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:k.name}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:k.industry}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k.mentorship==="Active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:k.mentorship})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:k.events})]},j))})]})})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Events & Approvals"}),e.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Event Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Organizer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:p.map((k,j)=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:k.name}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:k.date}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:k.organizer}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N[k.status]}`,children:k.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-2",children:[k.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-3 py-1 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"}),e.jsx("button",{className:"px-3 py-1 text-sm border border-slate-200 rounded-lg hover:bg-slate-50",children:"Review"})]}),e.jsx("button",{className:"px-3 py-1 text-sm border border-slate-200 rounded-lg hover:bg-slate-50",children:"View Details"})]})})]},j))})]})})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Interactive Calendar"}),e.jsx(Fu,{initialNotes:v,onNotesChange:k=>{console.log("Calendar notes updated:",k)}})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Calendar Legend"}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Events"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Job-Related Activities"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Mentorship Sessions"})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Reports & Insights"}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Engagement Metrics"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Student Engagement"}),e.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[b.studentEngagement,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${b.studentEngagement}%`}})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Alumni Participation"}),e.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[b.alumniParticipation,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${b.alumniParticipation}%`}})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Event Success Rate"}),e.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[b.eventSuccess,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${b.eventSuccess}%`}})})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:e.jsx("button",{className:"w-full px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"View Full Report"})})]})]})]})]})]})]})},Mf="profile_approved_popup_dismissed",Df="profile_pending_popup_dismissed",Lf="profile_rejected_popup_dismissed",W1=[{title:"Upcoming Events",value:"3",subtext:"View calendar "},{title:"New Messages",value:"5",subtext:"Open inbox "}],Q1=[{label:"Upcoming Mentorships",value:"3",delta:"+2 this month",tone:"positive",description:"You have three mentorship sessions scheduled over the next two weeks."},{label:"Open Connection Requests",value:"5",delta:"-1 pending",tone:"neutral",description:"Respond to connection requests to grow your alumni network."},{label:"Community Contributions",value:"12",delta:"+4 this quarter",tone:"positive",description:"Keep sharing insightsalumni appreciated your latest article."},{label:"Events Registered",value:"2",delta:"Next event in 5 days",tone:"info",description:"Stay prepared for the upcoming Leadership Summit & Tech Roundtable."}],J1=[{title:"Confirmed as Mentor for AI Career Pathways",timestamp:"2 hours ago",type:"success",description:"You will guide three students exploring roles in applied AI."},{title:"Replied to Meera Guptas Message",timestamp:"1 day ago",type:"message",description:"Shared feedback on her product design portfolio and next steps."},{title:"Published update: Scaling systems with empathy",timestamp:"3 days ago",type:"highlight",description:"Community members engaged with 42 comments and 180 reactions."},{title:"Completed donation for STEM Scholarship 2025",timestamp:"1 week ago",type:"donation",description:"Contributed $500 towards the scholarship program."}],Rf={positive:{badgeBg:"bg-emerald-100 text-emerald-600",accent:"text-emerald-600"},neutral:{badgeBg:"bg-slate-100 text-slate-500",accent:"text-slate-500"},info:{badgeBg:"bg-sky-100 text-sky-600",accent:"text-sky-600"},highlight:{badgeBg:"bg-violet-100 text-violet-600",accent:"text-violet-600"}},Z1={success:"bg-emerald-100 text-emerald-600",message:"bg-sky-100 text-sky-600",highlight:"bg-primary/10 text-primary",donation:"bg-amber-100 text-amber-600"},K1=()=>{const{user:a,updateUser:n}=ye(),r=Te(),[o,c]=x.useState(!1),[u,p]=x.useState(!1),[b,y]=x.useState(!1),[f,g]=x.useState(a?.profileApprovalStatus??null),{loading:h,percentage:v,refresh:C,lastUpdated:N,error:k}=P1(),j=x.useMemo(()=>a?.id??a?._id??a?.email??"anonymous",[a?.email,a?._id,a?.id]),S=x.useCallback(($,F)=>`${$}:${j}:${F}`,[j]),_=x.useCallback(($,F)=>typeof window>"u"?!1:window.localStorage.getItem(S($,F))==="true",[S]),B=x.useCallback(($,F)=>{typeof window>"u"||window.localStorage.setItem(S($,F),"true")},[S]),D=x.useCallback(async()=>{try{console.log("Dashboard: Refreshing user data...");const $=await ce("/auth/profile");console.log("Dashboard: User data response:",$),$?.data&&(await n($.data),console.log("Dashboard: User data updated successfully"))}catch($){console.error("Dashboard: Failed to refresh user data:",$)}},[n]);x.useEffect(()=>{const $=a?.profileApprovalStatus;if(!$){console.log("Dashboard: No profile approval status found");return}const F=Je($),H=Je(f??ke.IN_REVIEW);console.log("Dashboard: Profile status check - Current:",F,"Previous:",H);const U=_(Df,F),T=_(Lf,F),O=_(Mf,ke.APPROVED);console.log("Dashboard: Popup dismissal states - Pending:",U,"Rejected:",T,"Approved:",O);const Y=F===ke.IN_REVIEW&&!U,W=F===ke.REJECTED&&!T,I=F===ke.APPROVED&&!O;console.log("Dashboard: Popup states - Pending:",Y,"Rejected:",W,"Approved:",I),c(Y),p(W),y(I),g(F)},[f,a?.profileApprovalStatus,_]),x.useEffect(()=>{D()},[D]),x.useEffect(()=>{const $=setInterval(()=>{D()},15e3);return()=>{console.log("Dashboard: Clearing profile status polling interval"),clearInterval($)}},[D,a?.profileApprovalStatus]);const E=()=>{console.log("Dashboard: Closing pending popup");const $=Je(a?.profileApprovalStatus);B(Df,$),c(!1)},P=()=>{console.log("Dashboard: Closing rejected popup");const $=Je(a?.profileApprovalStatus);B(Lf,$),p(!1)},z=()=>{console.log("Dashboard: Closing approved popup"),B(Mf,ke.APPROVED),y(!1)};return e.jsx(e.Fragment,{children:a?.role==="student"?e.jsx(F1,{}):a?.role==="alumni"?e.jsx(I1,{}):a?.role==="faculty"?e.jsx(X1,{}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("header",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h1",{className:"text-3xl font-bold text-slate-900",children:["Welcome back, ",a?.name?.split(" ")[0]??"Alex","! ",e.jsx("span",{role:"img","aria-label":"wave",children:""})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${a?.profileApprovalStatus==="APPROVED"?"bg-green-100 text-green-800":a?.profileApprovalStatus==="IN_REVIEW"?"bg-amber-100 text-amber-800":a?.profileApprovalStatus==="REJECTED"?"bg-red-100 text-red-800":"bg-slate-100 text-slate-800"}`,children:["Profile Status: ",a?.profileApprovalStatus==="APPROVED"?"Approved":a?.profileApprovalStatus==="IN_REVIEW"?"Pending Review":a?.profileApprovalStatus==="REJECTED"?"Rejected":"Unknown"]})})]}),k?e.jsx("p",{className:"mt-2 text-sm text-rose-500",children:"We had trouble checking your profile progress. Please try refreshing."}):null]}),e.jsxs("section",{className:"grid gap-6 lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)_minmax(0,1fr)]",children:[e.jsx(Kj,{percentage:v,loading:h,onRefresh:C,lastUpdated:N,onOpenProfile:()=>r("/dashboard/profile")}),W1.map($=>e.jsx(e1,{...$},$.title))]}),e.jsx("section",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:Q1.map($=>e.jsx(eN,{item:$},$.label))}),e.jsx(tN,{timeline:J1}),o?e.jsx(O1,{user:a,onClose:E}):null,u?e.jsx(B1,{user:a,onClose:P}):null,b?e.jsx(hb,{user:a,onClose:z}):null]})})},eN=({item:a})=>{const n=Rf[a.tone]??Rf.neutral;return e.jsxs("article",{className:"flex flex-col justify-between rounded-2xl border border-slate-100 bg-white p-5 shadow-soft transition hover:-translate-y-1 hover:border-primary/20 hover:shadow-lg",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-wider ${n.badgeBg}`,children:a.delta}),e.jsx("h3",{className:"text-sm font-medium text-slate-500",children:a.label}),e.jsx("p",{className:"text-3xl font-semibold text-slate-900",children:a.value})]}),e.jsx("p",{className:`mt-4 text-sm leading-relaxed ${n.accent}`,children:a.description})]})},tN=({timeline:a})=>e.jsxs("section",{className:"rounded-3xl border border-slate-100 bg-white p-6 shadow-soft",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Recent Activity"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Your latest interactions across the community."})]}),e.jsx("button",{type:"button",className:"text-sm font-semibold text-primary hover:text-primary-dark",children:"View all"})]}),e.jsx("ol",{className:"mt-6 space-y-5",children:a.map(n=>e.jsxs("li",{className:"flex gap-4",children:[e.jsx("span",{className:`mt-1 h-10 w-10 flex-shrink-0 rounded-full ${Z1[n.type]??"bg-slate-100 text-slate-500"} grid place-items-center text-sm font-semibold`,children:n.title.charAt(0)}),e.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-100 bg-slate-50/40 p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:n.title}),e.jsx("p",{className:"mt-1 text-xs uppercase tracking-widest text-slate-400",children:n.timestamp}),e.jsx("p",{className:"mt-2 text-sm text-slate-600",children:n.description})]})]},`${n.title}-${n.timestamp}`))})]}),Dn=a=>a?Array.isArray(a)?a.filter(Boolean):String(a).split(",").map(n=>n.trim()).filter(Boolean):[],sN=a=>a?a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,""):"",fb=(a={})=>{if(!a)return null;const n=a.fullName||a.name||"",r=a.slug||sN(n||a.email||a.id||a.applicationId),o=Dn(a.tags?.length?a.tags:a.categories),c=Dn(a.availability?.length?a.availability:a.modes),u=Dn(a.expertise),p=Array.isArray(a.services)?a.services:[],b=Array.isArray(a.resources)?a.resources:[],y=r||a.email||a.applicationId||a.profileId||a.id||`mentor-${Math.random().toString(36).slice(2)}`,f=n||a.name||"Mentor";return{...a,id:a.id||a.profileId||a.applicationId||y,profileId:a.profileId??"",applicationId:a.applicationId??"",slug:r,status:a.status??"approved",name:f,fullName:f,position:a.position||a.jobRole||"",tags:o,categories:Dn(a.categories),availability:c,modes:Dn(a.modes),expertise:u,services:p,resources:b,avatar:a.avatar||`https://api.dicebear.com/7.x/initials/svg?seed=${encodeURIComponent(f.slice(0,2)||"MN")}`,industry:a.industry||"",rating:a.rating??null}},aN=a=>Array.isArray(a)?a.map(fb).filter(Boolean):[],so=()=>{const[a,n]=x.useState([]),[r,o]=x.useState(!0),[c,u]=x.useState(null),p=je(),b=x.useCallback(async()=>{o(!0),u(null);try{const h=await ce("/api/mentors",{includeAuth:!1}),v=Array.isArray(h?.data)?h.data:Array.isArray(h)?h:[];n(aN(v))}catch(h){u(h),p?.({title:"Unable to load mentors",description:h.message??"Please try again later.",tone:"error"})}finally{o(!1)}},[p]);x.useEffect(()=>{b()},[b]);const y=x.useCallback(async h=>{try{const v=await _e("/api/mentors/applications",h),C=v?.data??v,N=fb(C);return N&&n(k=>{const j=k.filter(S=>S.profileId!==N.profileId&&S.applicationId!==N.applicationId);return[N,...j]}),p?.({title:"Application submitted",description:"You are now listed as a mentor.",tone:"success"}),N}catch(v){throw p?.({title:"Unable to submit application",description:v.message??"Please try again later.",tone:"error"}),v}},[p]),f=x.useCallback(async()=>{try{return u(null),await ce("/api/mentors/me")}catch(h){const v=h?.message??"Failed to load mentor profile.";throw u(h),p?.({title:"Unable to load mentor profile",description:v,tone:"error"}),h}},[p]),g=x.useCallback(async h=>{try{u(null);const v=await Pt("/api/mentors/me",h),C=v?.data;return C&&n(N=>N.map(k=>k.id===C.id?C:k)),p?.({title:"Profile updated",description:"Your mentor profile has been updated.",tone:"success"}),v}catch(v){const C=v?.message??"Failed to update profile.";throw u(v),p?.({title:"Unable to update mentor profile",description:C,tone:"error"}),v}},[p]);return x.useMemo(()=>({items:a,loading:r,error:c,refresh:b,apply:y,getMyProfile:f,updateMyProfile:g}),[a,r,c,b,y,f,g])},Tf=a=>e.jsxs("svg",{...a,width:a.size||18,height:a.size||18,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),lN=a=>e.jsx("svg",{...a,width:a.size||18,height:a.size||18,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),nN=a=>e.jsxs("svg",{...a,width:a.size||18,height:a.size||18,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),$d=a=>e.jsxs("svg",{...a,width:a.size||18,height:a.size||18,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),rN=a=>e.jsxs("svg",{...a,width:a.size||18,height:a.size||18,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),iN=a=>e.jsxs("svg",{...a,width:a.size||18,height:a.size||18,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"}),e.jsx("path",{d:"M6 12v5c3 3 9 3 12 0v-5"})]}),fi=a=>e.jsxs("svg",{...a,width:a.size||18,height:a.size||18,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),oN=a=>e.jsx("svg",{...a,width:a.size||18,height:a.size||18,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),cN=a=>e.jsxs("svg",{...a,width:a.size||18,height:a.size||18,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2z"}),e.jsx("path",{d:"M6 7h12"}),e.jsx("path",{d:"M6 11h8"}),e.jsx("path",{d:"M6 15h8"})]}),dN=a=>e.jsxs("svg",{...a,width:a.size||18,height:a.size||18,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.jsx("path",{d:"M21 15l-5-5L5 21"})]}),uN=a=>e.jsx("svg",{...a,width:a.size||14,height:a.size||14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})}),mN=a=>e.jsx("svg",{...a,width:a.size||14,height:a.size||14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})}),xN=a=>e.jsxs("svg",{...a,width:a.size||14,height:a.size||14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),pN=a=>e.jsx("svg",{...a,width:a.size||14,height:a.size||14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),Yd=a=>e.jsxs("svg",{...a,width:a.size||18,height:a.size||18,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8l-2 2-2-2"})]}),_f=a=>e.jsxs("svg",{...a,width:a.size||14,height:a.size||14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),hN=a=>e.jsxs("svg",{...a,width:a.size||14,height:a.size||14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"})]}),Of=a=>e.jsxs("svg",{...a,width:a.size||14,height:a.size||14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"9",y:"2",width:"6",height:"4",rx:"1",ry:"1"}),e.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})]}),Bf=a=>e.jsxs("svg",{...a,width:a.size||14,height:a.size||14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),e.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),e.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),fN=a=>e.jsxs("svg",{...a,width:a.size||14,height:a.size||14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),bN=a=>e.jsxs("svg",{...a,width:a.size||14,height:a.size||14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),qd=a=>e.jsxs("svg",{...a,width:a.size||16,height:a.size||16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6m4.22-13.22l4.24 4.24M1.54 8.76l4.24 4.24m12.44 0l4.24 4.24M1.54 15.24l4.24-4.24"})]}),gN=a=>e.jsxs("svg",{...a,width:a.size||16,height:a.size||16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),yN=a=>e.jsxs("svg",{...a,width:a.size||16,height:a.size||16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),vN=a=>e.jsxs("svg",{...a,width:a.size||24,height:a.size||24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),e.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),e.jsx("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),jN=a=>e.jsxs("svg",{...a,width:a.size||20,height:a.size||20,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),zf=({isMobile:a=!1,onClose:n})=>{const r=vt(),{user:o,logout:c}=ye(),{items:u}=so(),[p,b]=x.useState({"My Activity":!1,Directory:!1,Mentor:!1}),[y,f]=x.useState(!1),g=x.useRef(null),h=Je(o?.profileApprovalStatus),v=Rs(o?.registrationStatus),C=[ke.IN_REVIEW,ke.REJECTED].includes(h),N=o?.role?.toLowerCase()!=="admin"&&v!==it.APPROVED,k=C||N,j=o?.role??o?.profile?.role,S=j?String(j).trim().toLowerCase():"",_=["alumni","faculty"].includes(S),B=h===ke.APPROVED,D=h===ke.REJECTED,E=h===ke.IN_REVIEW,P=o?.profile?._id||o?.profile?.id||o?.id||null,z=u?.find(q=>q.profileId===P||q.applicationId===P||q.id===P),$=!!(o?.isMentor||o?.profile?.isMentor||z),F=[{label:"Applications",path:"/dashboard/applications",icon:e.jsx(Of,{size:14})},{label:"Mentorship Requests",path:"/dashboard/mentorship-requests",icon:e.jsx(pN,{size:14})},{label:"Registered Events",path:"/dashboard/registered-events",icon:e.jsx(fi,{size:14})},{label:"My Donations",path:"/dashboard/donations",icon:e.jsx(bN,{size:14})},{label:"Insights",path:"/dashboard/insights",icon:e.jsx(Bf,{size:14})}];_&&F.splice(4,0,{label:"Content Posted",path:"/dashboard/activity/content",icon:e.jsx(xN,{size:14})}),S==="coordinator"&&B&&F.push({label:"Event Management",path:"/dashboard/coordinator/events",icon:e.jsx(fi,{size:14})},{label:"Student Assignments",path:"/dashboard/coordinator/students",icon:e.jsx($d,{size:14})},{label:"Department Reports",path:"/dashboard/coordinator/reports",icon:e.jsx(Bf,{size:14})});const H=q=>{b(J=>{const M={};return Object.keys(J).forEach(Q=>{M[Q]=!1}),M[q]=!J[q],M})},U=q=>r.pathname===q,T=o?.name||`${o?.profile?.firstName||""} ${o?.profile?.lastName||""}`.trim()||"User",O=o?.avatar??o?.profile?.avatar??"";x.useEffect(()=>{const q=J=>{g.current&&!g.current.contains(J.target)&&f(!1)};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[]);const Y=()=>{f(!y)},W=()=>{f(!1),window.location.href="/dashboard/profile"},I=()=>{f(!1),window.location.href="/dashboard/settings"},A=()=>{f(!1),c()},R=({icon:q,label:J,path:M,subOptions:Q,id:se,isDisabled:V=!1})=>{const re=p[J],oe=Q&&Q.length>0;return e.jsxs("div",{className:"mb-1",children:[e.jsxs("div",{onClick:()=>oe&&!V?H(J):null,className:`flex items-center justify-between px-4 py-2.5 rounded-lg transition-all cursor-pointer group ${V?"opacity-50 cursor-not-allowed bg-slate-50 text-slate-400":U(M)&&!oe?"bg-blue-50 text-blue-600 font-medium":"text-slate-600 hover:bg-slate-100"}`,children:[e.jsxs(Yn,{to:oe||V?"#":M,className:"flex items-center flex-1",onClick:me=>V&&me.preventDefault(),children:[e.jsx("span",{className:`mr-3 ${V?"text-slate-400":U(M)&&!oe?"text-blue-600":"text-slate-400 group-hover:text-slate-600"}`,children:q}),e.jsx("span",{className:"text-sm",children:J})]}),oe&&e.jsx("span",{className:"text-slate-400",children:re?e.jsx(uN,{size:14}):e.jsx(mN,{size:14})})]}),oe&&re&&!V&&e.jsx("div",{className:"ml-9 mt-1 space-y-1 border-l border-slate-200",children:Q.map((me,Ye)=>e.jsxs(Yn,{to:me.path,className:`flex items-center px-4 py-2 text-xs rounded-r-lg transition-colors ${U(me.path)?"text-blue-600 font-semibold bg-blue-50/50":"text-slate-500 hover:text-slate-800 hover:bg-slate-50"}`,children:[me.icon&&e.jsx("span",{className:"mr-2 text-slate-400",children:me.icon}),me.label]},Ye))})]})};return e.jsxs(e.Fragment,{children:[a&&e.jsx("button",{onClick:n,className:"lg:hidden fixed bottom-6 right-6 z-50 bg-blue-600 text-white p-3 rounded-full shadow-lg",children:e.jsx(vN,{size:24})}),e.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-40 w-64 bg-white border-r border-slate-200 transition-transform lg:relative lg:translate-x-0
        ${a?"translate-x-0":"-translate-x-full"}
      `,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"A"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-slate-900 font-bold text-lg leading-tight",children:"APCORE Alumni"}),e.jsx("p",{className:"text-[10px] text-slate-400 tracking-widest uppercase font-semibold",children:"Community"})]})]}),a&&e.jsx("button",{onClick:n,className:"lg:hidden text-slate-400",children:e.jsx(jN,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-4 pb-10 scrollbar-hide",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"px-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4",children:"Your Dashboards"}),e.jsx(R,{icon:e.jsx(Tf,{size:18}),label:"My Dashboard",path:"/dashboard"}),e.jsx(R,{icon:e.jsx(lN,{size:18}),label:"My Activity",path:"/activity",subOptions:F,isDisabled:k}),_&&e.jsx(R,{icon:e.jsx(Yd,{size:18}),label:"Mentor",path:"/mentor",isDisabled:k,subOptions:$&&!k?[{label:"Mentorship Dashboard",path:"/dashboard/mentorship/dashboard",icon:e.jsx(Tf,{size:14})},{label:"Manage Profile",path:"/dashboard/mentorship/profile",icon:e.jsx(nN,{size:14})},{label:"Mentees & Requests",path:"/dashboard/mentorship/mentees",icon:e.jsx($d,{size:14})},{label:"Services Management",path:"/dashboard/mentorship/services",icon:e.jsx(qd,{size:14})},{label:"Sessions",path:"/dashboard/mentorship/sessions",icon:e.jsx(fi,{size:14})},{label:"Resources",path:"/dashboard/mentorship/resources",icon:e.jsx(_f,{size:14})},{label:"History",path:"/dashboard/mentorship/history",icon:e.jsx(hN,{size:14})}]:[{label:"Become a Mentor",path:"/dashboard/mentorship/become",icon:e.jsx(Yd,{size:14})}]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"px-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4",children:"Network & Explore"}),e.jsx(R,{icon:e.jsx($d,{size:18}),label:"Directory",path:"/directory",isDisabled:k,subOptions:[{label:"Students Directory",path:"/dashboard/directory/students",icon:e.jsx(fN,{size:14})},{label:"Alumni Directory",path:"/dashboard/directory/alumni",icon:e.jsx(Yd,{size:14})},{label:"Faculty Directory",path:"/dashboard/directory/faculty",icon:e.jsx(_f,{size:14})},{label:"Coordinators Directory",path:"/dashboard/directory/coordinators",icon:e.jsx(Of,{size:14})}]}),e.jsx(R,{icon:e.jsx(rN,{size:18}),label:"Opportunities",path:"/dashboard/opportunities",isDisabled:k}),e.jsx(R,{icon:e.jsx(iN,{size:18}),label:"Mentorship",path:"/dashboard/mentorship",isDisabled:k}),e.jsx(R,{icon:e.jsx(fi,{size:18}),label:"Events",path:"/dashboard/events",isDisabled:k}),e.jsx(R,{icon:e.jsx(oN,{size:18}),label:"Donations",path:"/dashboard/donations",isDisabled:k}),e.jsx(R,{icon:e.jsx(cN,{size:18}),label:"News",path:"/dashboard/news",isDisabled:k}),e.jsx(R,{icon:e.jsx(dN,{size:18}),label:"Gallery",path:"/dashboard/gallery",isDisabled:k})]})]}),e.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-200",children:e.jsxs("div",{className:"relative",ref:g,children:[e.jsxs("div",{className:"flex items-center space-x-3 px-2 py-2 cursor-pointer hover:bg-slate-100 rounded-lg transition-colors",onClick:Y,children:[O?e.jsx("img",{src:O,className:"w-8 h-8 rounded-full border border-white shadow-sm",alt:"User"}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold text-sm",children:T.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-900 truncate",children:T}),e.jsxs("p",{className:"text-[10px] text-slate-500 capitalize",children:[S||"user"," ",e.jsx("span",{className:`ml-1 font-medium ${B?"text-green-600":E?"text-amber-600":D?"text-red-600":"text-slate-500"}`,children:B?"Approved":E?"Pending":D?"Rejected":"Unknown"})]})]}),e.jsx("div",{className:"relative",children:e.jsx("button",{className:"text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(qd,{size:16})})})]}),y&&e.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white rounded-lg shadow-lg border border-slate-200 overflow-hidden z-50",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:W,className:"flex items-center w-full px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:[e.jsx(gN,{size:16,className:"mr-3 text-slate-400"}),"Profile"]}),e.jsxs("button",{onClick:I,className:"flex items-center w-full px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:[e.jsx(qd,{size:16,className:"mr-3 text-slate-400"}),"Settings"]}),e.jsx("hr",{className:"my-1 border-slate-200"}),e.jsxs("button",{onClick:A,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(yN,{size:16,className:"mr-3"}),"Logout"]})]})})]})})]})})]})},bb=[{id:"1",title:"New mentee request from Michael Brown",time:"2m ago",type:"request"},{id:"2",title:"Session reminder: Career Guidance with Alice in 30 mins",time:"30m ago",type:"reminder"},{id:"3",title:"Your mentorship session was accepted",time:"2h ago",type:"success"},{id:"4",title:"New platform announcement: Q4 Goals",time:"1d ago",type:"info"}],NN={request:"bg-blue-100 text-blue-600",reminder:"bg-yellow-100 text-yellow-600",success:"bg-green-100 text-green-600",info:"bg-purple-100 text-purple-600"},wN=({onViewAllActivity:a})=>e.jsxs("div",{className:"w-80 rounded-2xl border border-slate-100 bg-white p-4 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold text-slate-700",children:[e.jsx("span",{children:"Notifications"}),e.jsx("button",{className:"text-xs text-primary",children:"Mark all as read"})]}),e.jsx("div",{className:"mt-3 space-y-3",children:bb.map(n=>e.jsxs("div",{className:"flex items-start gap-3 rounded-2xl bg-slate-50/70 px-3 py-2",children:[e.jsx("span",{className:`mt-1 inline-flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold ${NN[n.type]}`,children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:n.title}),e.jsx("p",{className:"text-xs text-slate-400",children:n.time})]})]},n.id))}),e.jsx("button",{type:"button",onClick:()=>a?.(),className:"mt-3 w-full rounded-xl bg-slate-100 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-200",children:"View All Activity"})]}),ms=Object.create(null);ms.open="0";ms.close="1";ms.ping="2";ms.pong="3";ms.message="4";ms.upgrade="5";ms.noop="6";const Bi=Object.create(null);Object.keys(ms).forEach(a=>{Bi[ms[a]]=a});const Cu={type:"error",data:"parser error"},gb=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",yb=typeof ArrayBuffer=="function",vb=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,Iu=({type:a,data:n},r,o)=>gb&&n instanceof Blob?r?o(n):Uf(n,o):yb&&(n instanceof ArrayBuffer||vb(n))?r?o(n):Uf(new Blob([n]),o):o(ms[a]+(n||"")),Uf=(a,n)=>{const r=new FileReader;return r.onload=function(){const o=r.result.split(",")[1];n("b"+(o||""))},r.readAsDataURL(a)};function Pf(a){return a instanceof Uint8Array?a:a instanceof ArrayBuffer?new Uint8Array(a):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}let Hd;function SN(a,n){if(gb&&a.data instanceof Blob)return a.data.arrayBuffer().then(Pf).then(n);if(yb&&(a.data instanceof ArrayBuffer||vb(a.data)))return n(Pf(a.data));Iu(a,!1,r=>{Hd||(Hd=new TextEncoder),n(Hd.encode(r))})}const $f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Un=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let a=0;a<$f.length;a++)Un[$f.charCodeAt(a)]=a;const CN=a=>{let n=a.length*.75,r=a.length,o,c=0,u,p,b,y;a[a.length-1]==="="&&(n--,a[a.length-2]==="="&&n--);const f=new ArrayBuffer(n),g=new Uint8Array(f);for(o=0;o<r;o+=4)u=Un[a.charCodeAt(o)],p=Un[a.charCodeAt(o+1)],b=Un[a.charCodeAt(o+2)],y=Un[a.charCodeAt(o+3)],g[c++]=u<<2|p>>4,g[c++]=(p&15)<<4|b>>2,g[c++]=(b&3)<<6|y&63;return f},kN=typeof ArrayBuffer=="function",Gu=(a,n)=>{if(typeof a!="string")return{type:"message",data:jb(a,n)};const r=a.charAt(0);return r==="b"?{type:"message",data:AN(a.substring(1),n)}:Bi[r]?a.length>1?{type:Bi[r],data:a.substring(1)}:{type:Bi[r]}:Cu},AN=(a,n)=>{if(kN){const r=CN(a);return jb(r,n)}else return{base64:!0,data:a}},jb=(a,n)=>{switch(n){case"blob":return a instanceof Blob?a:new Blob([a]);case"arraybuffer":default:return a instanceof ArrayBuffer?a:a.buffer}},Nb="",EN=(a,n)=>{const r=a.length,o=new Array(r);let c=0;a.forEach((u,p)=>{Iu(u,!1,b=>{o[p]=b,++c===r&&n(o.join(Nb))})})},MN=(a,n)=>{const r=a.split(Nb),o=[];for(let c=0;c<r.length;c++){const u=Gu(r[c],n);if(o.push(u),u.type==="error")break}return o};function DN(){return new TransformStream({transform(a,n){SN(a,r=>{const o=r.length;let c;if(o<126)c=new Uint8Array(1),new DataView(c.buffer).setUint8(0,o);else if(o<65536){c=new Uint8Array(3);const u=new DataView(c.buffer);u.setUint8(0,126),u.setUint16(1,o)}else{c=new Uint8Array(9);const u=new DataView(c.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(o))}a.data&&typeof a.data!="string"&&(c[0]|=128),n.enqueue(c),n.enqueue(r)})}})}let Fd;function bi(a){return a.reduce((n,r)=>n+r.length,0)}function gi(a,n){if(a[0].length===n)return a.shift();const r=new Uint8Array(n);let o=0;for(let c=0;c<n;c++)r[c]=a[0][o++],o===a[0].length&&(a.shift(),o=0);return a.length&&o<a[0].length&&(a[0]=a[0].slice(o)),r}function LN(a,n){Fd||(Fd=new TextDecoder);const r=[];let o=0,c=-1,u=!1;return new TransformStream({transform(p,b){for(r.push(p);;){if(o===0){if(bi(r)<1)break;const y=gi(r,1);u=(y[0]&128)===128,c=y[0]&127,c<126?o=3:c===126?o=1:o=2}else if(o===1){if(bi(r)<2)break;const y=gi(r,2);c=new DataView(y.buffer,y.byteOffset,y.length).getUint16(0),o=3}else if(o===2){if(bi(r)<8)break;const y=gi(r,8),f=new DataView(y.buffer,y.byteOffset,y.length),g=f.getUint32(0);if(g>Math.pow(2,21)-1){b.enqueue(Cu);break}c=g*Math.pow(2,32)+f.getUint32(4),o=3}else{if(bi(r)<c)break;const y=gi(r,c);b.enqueue(Gu(u?y:Fd.decode(y),n)),o=0}if(c===0||c>a){b.enqueue(Cu);break}}}})}const wb=4;function ot(a){if(a)return RN(a)}function RN(a){for(var n in ot.prototype)a[n]=ot.prototype[n];return a}ot.prototype.on=ot.prototype.addEventListener=function(a,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(n),this};ot.prototype.once=function(a,n){function r(){this.off(a,r),n.apply(this,arguments)}return r.fn=n,this.on(a,r),this};ot.prototype.off=ot.prototype.removeListener=ot.prototype.removeAllListeners=ot.prototype.removeEventListener=function(a,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+a];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var o,c=0;c<r.length;c++)if(o=r[c],o===n||o.fn===n){r.splice(c,1);break}return r.length===0&&delete this._callbacks["$"+a],this};ot.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),r=this._callbacks["$"+a],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(r){r=r.slice(0);for(var o=0,c=r.length;o<c;++o)r[o].apply(this,n)}return this};ot.prototype.emitReserved=ot.prototype.emit;ot.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]};ot.prototype.hasListeners=function(a){return!!this.listeners(a).length};const ao=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,r)=>r(n,0),Qt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),TN="arraybuffer";function Sb(a,...n){return n.reduce((r,o)=>(a.hasOwnProperty(o)&&(r[o]=a[o]),r),{})}const _N=Qt.setTimeout,ON=Qt.clearTimeout;function lo(a,n){n.useNativeTimers?(a.setTimeoutFn=_N.bind(Qt),a.clearTimeoutFn=ON.bind(Qt)):(a.setTimeoutFn=Qt.setTimeout.bind(Qt),a.clearTimeoutFn=Qt.clearTimeout.bind(Qt))}const BN=1.33;function zN(a){return typeof a=="string"?UN(a):Math.ceil((a.byteLength||a.size)*BN)}function UN(a){let n=0,r=0;for(let o=0,c=a.length;o<c;o++)n=a.charCodeAt(o),n<128?r+=1:n<2048?r+=2:n<55296||n>=57344?r+=3:(o++,r+=4);return r}function Cb(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function PN(a){let n="";for(let r in a)a.hasOwnProperty(r)&&(n.length&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(a[r]));return n}function $N(a){let n={},r=a.split("&");for(let o=0,c=r.length;o<c;o++){let u=r[o].split("=");n[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return n}class YN extends Error{constructor(n,r,o){super(n),this.description=r,this.context=o,this.type="TransportError"}}class Xu extends ot{constructor(n){super(),this.writable=!1,lo(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,r,o){return super.emitReserved("error",new YN(n,r,o)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const r=Gu(n,this.socket.binaryType);this.onPacket(r)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,r={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const r=PN(n);return r.length?"?"+r:""}}class qN extends Xu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const r=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let o=0;this._polling&&(o++,this.once("pollComplete",function(){--o||r()})),this.writable||(o++,this.once("drain",function(){--o||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const r=o=>{if(this.readyState==="opening"&&o.type==="open"&&this.onOpen(),o.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(o)};MN(n,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,EN(n,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Cb()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(n,r)}}let kb=!1;try{kb=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const HN=kb;function FN(){}class VN extends qN{constructor(n){if(super(n),typeof location<"u"){const r=location.protocol==="https:";let o=location.port;o||(o=r?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||o!==n.port}}doWrite(n,r){const o=this.request({method:"POST",data:n});o.on("success",r),o.on("error",(c,u)=>{this.onError("xhr post error",c,u)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(r,o)=>{this.onError("xhr poll error",r,o)}),this.pollXhr=n}}class ds extends ot{constructor(n,r,o){super(),this.createRequest=n,lo(this,o),this._opts=o,this._method=o.method||"GET",this._uri=r,this._data=o.data!==void 0?o.data:null,this._create()}_create(){var n;const r=Sb(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const o=this._xhr=this.createRequest(r);try{o.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let c in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(c)&&o.setRequestHeader(c,this._opts.extraHeaders[c])}}catch{}if(this._method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(o),"withCredentials"in o&&(o.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(o.timeout=this._opts.requestTimeout),o.onreadystatechange=()=>{var c;o.readyState===3&&((c=this._opts.cookieJar)===null||c===void 0||c.parseCookies(o.getResponseHeader("set-cookie"))),o.readyState===4&&(o.status===200||o.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof o.status=="number"?o.status:0)},0))},o.send(this._data)}catch(c){this.setTimeoutFn(()=>{this._onError(c)},0);return}typeof document<"u"&&(this._index=ds.requestsCount++,ds.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=FN,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ds.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ds.requestsCount=0;ds.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Yf);else if(typeof addEventListener=="function"){const a="onpagehide"in Qt?"pagehide":"unload";addEventListener(a,Yf,!1)}}function Yf(){for(let a in ds.requests)ds.requests.hasOwnProperty(a)&&ds.requests[a].abort()}const IN=(function(){const a=Ab({xdomain:!1});return a&&a.responseType!==null})();class GN extends VN{constructor(n){super(n);const r=n&&n.forceBase64;this.supportsBinary=IN&&!r}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new ds(Ab,this.uri(),n)}}function Ab(a){const n=a.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||HN))return new XMLHttpRequest}catch{}if(!n)try{return new Qt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Eb=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class XN extends Xu{get name(){return"websocket"}doOpen(){const n=this.uri(),r=this.opts.protocols,o=Eb?{}:Sb(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,r,o)}catch(c){return this.emitReserved("error",c)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const o=n[r],c=r===n.length-1;Iu(o,this.supportsBinary,u=>{try{this.doWrite(o,u)}catch{}c&&ao(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Cb()),this.supportsBinary||(r.b64=1),this.createUri(n,r)}}const Vd=Qt.WebSocket||Qt.MozWebSocket;class WN extends XN{createSocket(n,r,o){return Eb?new Vd(n,r,o):r?new Vd(n,r):new Vd(n)}doWrite(n,r){this.ws.send(r)}}class QN extends Xu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const r=LN(Number.MAX_SAFE_INTEGER,this.socket.binaryType),o=n.readable.pipeThrough(r).getReader(),c=DN();c.readable.pipeTo(n.writable),this._writer=c.writable.getWriter();const u=()=>{o.read().then(({done:b,value:y})=>{b||(this.onPacket(y),u())}).catch(b=>{})};u();const p={type:"open"};this.query.sid&&(p.data=`{"sid":"${this.query.sid}"}`),this._writer.write(p).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const o=n[r],c=r===n.length-1;this._writer.write(o).then(()=>{c&&ao(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const JN={websocket:WN,webtransport:QN,polling:GN},ZN=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,KN=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ku(a){if(a.length>8e3)throw"URI too long";const n=a,r=a.indexOf("["),o=a.indexOf("]");r!=-1&&o!=-1&&(a=a.substring(0,r)+a.substring(r,o).replace(/:/g,";")+a.substring(o,a.length));let c=ZN.exec(a||""),u={},p=14;for(;p--;)u[KN[p]]=c[p]||"";return r!=-1&&o!=-1&&(u.source=n,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=ew(u,u.path),u.queryKey=tw(u,u.query),u}function ew(a,n){const r=/\/{2,9}/g,o=n.replace(r,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&o.splice(0,1),n.slice(-1)=="/"&&o.splice(o.length-1,1),o}function tw(a,n){const r={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,c,u){c&&(r[c]=u)}),r}const Au=typeof addEventListener=="function"&&typeof removeEventListener=="function",zi=[];Au&&addEventListener("offline",()=>{zi.forEach(a=>a())},!1);class ca extends ot{constructor(n,r){if(super(),this.binaryType=TN,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(r=n,n=null),n){const o=ku(n);r.hostname=o.host,r.secure=o.protocol==="https"||o.protocol==="wss",r.port=o.port,o.query&&(r.query=o.query)}else r.host&&(r.hostname=ku(r.host).host);lo(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(o=>{const c=o.prototype.name;this.transports.push(c),this._transportsByName[c]=o}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=$N(this.opts.query)),Au&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},zi.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const r=Object.assign({},this.opts.query);r.EIO=wb,r.transport=n,this.id&&(r.sid=this.id);const o=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](o)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&ca.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(n);r.open(),this.setTransport(r)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",ca.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=n.data,this._onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let o=0;o<this.writeBuffer.length;o++){const c=this.writeBuffer[o].data;if(c&&(r+=zN(c)),o>0&&r>this._maxPayload)return this.writeBuffer.slice(0,o);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,ao(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,r,o){return this._sendPacket("message",n,r,o),this}send(n,r,o){return this._sendPacket("message",n,r,o),this}_sendPacket(n,r,o,c){if(typeof r=="function"&&(c=r,r=void 0),typeof o=="function"&&(c=o,o=null),this.readyState==="closing"||this.readyState==="closed")return;o=o||{},o.compress=o.compress!==!1;const u={type:n,data:r,options:o};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),c&&this.once("flush",c),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},o=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():n()}):this.upgrading?o():n()),this}_onError(n){if(ca.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Au&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const o=zi.indexOf(this._offlineEventListener);o!==-1&&zi.splice(o,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this._prevBufferLen=0}}}ca.protocol=wb;class sw extends ca{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let r=this.createTransport(n),o=!1;ca.priorWebsocketSuccess=!1;const c=()=>{o||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!o)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ca.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{o||this.readyState!=="closed"&&(g(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=r.name,this.emitReserved("upgradeError",v)}}))};function u(){o||(o=!0,g(),r.close(),r=null)}const p=h=>{const v=new Error("probe error: "+h);v.transport=r.name,u(),this.emitReserved("upgradeError",v)};function b(){p("transport closed")}function y(){p("socket closed")}function f(h){r&&h.name!==r.name&&u()}const g=()=>{r.removeListener("open",c),r.removeListener("error",p),r.removeListener("close",b),this.off("close",y),this.off("upgrading",f)};r.once("open",c),r.once("error",p),r.once("close",b),this.once("close",y),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{o||r.open()},200):r.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const r=[];for(let o=0;o<n.length;o++)~this.transports.indexOf(n[o])&&r.push(n[o]);return r}}let aw=class extends sw{constructor(n,r={}){const o=typeof n=="object"?n:r;(!o.transports||o.transports&&typeof o.transports[0]=="string")&&(o.transports=(o.transports||["polling","websocket","webtransport"]).map(c=>JN[c]).filter(c=>!!c)),super(n,o)}};function lw(a,n="",r){let o=a;r=r||typeof location<"u"&&location,a==null&&(a=r.protocol+"//"+r.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=r.protocol+a:a=r.host+a),/^(https?|wss?):\/\//.test(a)||(typeof r<"u"?a=r.protocol+"//"+a:a="https://"+a),o=ku(a)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";const u=o.host.indexOf(":")!==-1?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+u+":"+o.port+n,o.href=o.protocol+"://"+u+(r&&r.port===o.port?"":":"+o.port),o}const nw=typeof ArrayBuffer=="function",rw=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,Mb=Object.prototype.toString,iw=typeof Blob=="function"||typeof Blob<"u"&&Mb.call(Blob)==="[object BlobConstructor]",ow=typeof File=="function"||typeof File<"u"&&Mb.call(File)==="[object FileConstructor]";function Wu(a){return nw&&(a instanceof ArrayBuffer||rw(a))||iw&&a instanceof Blob||ow&&a instanceof File}function Ui(a,n){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let r=0,o=a.length;r<o;r++)if(Ui(a[r]))return!0;return!1}if(Wu(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return Ui(a.toJSON(),!0);for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)&&Ui(a[r]))return!0;return!1}function cw(a){const n=[],r=a.data,o=a;return o.data=Eu(r,n),o.attachments=n.length,{packet:o,buffers:n}}function Eu(a,n){if(!a)return a;if(Wu(a)){const r={_placeholder:!0,num:n.length};return n.push(a),r}else if(Array.isArray(a)){const r=new Array(a.length);for(let o=0;o<a.length;o++)r[o]=Eu(a[o],n);return r}else if(typeof a=="object"&&!(a instanceof Date)){const r={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=Eu(a[o],n));return r}return a}function dw(a,n){return a.data=Mu(a.data,n),delete a.attachments,a}function Mu(a,n){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<n.length)return n[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let r=0;r<a.length;r++)a[r]=Mu(a[r],n);else if(typeof a=="object")for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&(a[r]=Mu(a[r],n));return a}const Db=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],uw=5;var Se;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(Se||(Se={}));class mw{constructor(n){this.replacer=n}encode(n){return(n.type===Se.EVENT||n.type===Se.ACK)&&Ui(n)?this.encodeAsBinary({type:n.type===Se.EVENT?Se.BINARY_EVENT:Se.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let r=""+n.type;return(n.type===Se.BINARY_EVENT||n.type===Se.BINARY_ACK)&&(r+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(r+=n.nsp+","),n.id!=null&&(r+=n.id),n.data!=null&&(r+=JSON.stringify(n.data,this.replacer)),r}encodeAsBinary(n){const r=cw(n),o=this.encodeAsString(r.packet),c=r.buffers;return c.unshift(o),c}}class Qu extends ot{constructor(n){super(),this.reviver=n}add(n){let r;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(n);const o=r.type===Se.BINARY_EVENT;o||r.type===Se.BINARY_ACK?(r.type=o?Se.EVENT:Se.ACK,this.reconstructor=new xw(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Wu(n)||n.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(n),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let r=0;const o={type:Number(n.charAt(0))};if(Se[o.type]===void 0)throw new Error("unknown packet type "+o.type);if(o.type===Se.BINARY_EVENT||o.type===Se.BINARY_ACK){const u=r+1;for(;n.charAt(++r)!=="-"&&r!=n.length;);const p=n.substring(u,r);if(p!=Number(p)||n.charAt(r)!=="-")throw new Error("Illegal attachments");o.attachments=Number(p)}if(n.charAt(r+1)==="/"){const u=r+1;for(;++r&&!(n.charAt(r)===","||r===n.length););o.nsp=n.substring(u,r)}else o.nsp="/";const c=n.charAt(r+1);if(c!==""&&Number(c)==c){const u=r+1;for(;++r;){const p=n.charAt(r);if(p==null||Number(p)!=p){--r;break}if(r===n.length)break}o.id=Number(n.substring(u,r+1))}if(n.charAt(++r)){const u=this.tryParse(n.substr(r));if(Qu.isPayloadValid(o.type,u))o.data=u;else throw new Error("invalid payload")}return o}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,r){switch(n){case Se.CONNECT:return Fi(r);case Se.DISCONNECT:return r===void 0;case Se.CONNECT_ERROR:return typeof r=="string"||Fi(r);case Se.EVENT:case Se.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Db.indexOf(r[0])===-1);case Se.ACK:case Se.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class xw{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const r=dw(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function pw(a){return typeof a=="string"}const hw=Number.isInteger||function(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a};function fw(a){return a===void 0||hw(a)}function Fi(a){return Object.prototype.toString.call(a)==="[object Object]"}function bw(a,n){switch(a){case Se.CONNECT:return n===void 0||Fi(n);case Se.DISCONNECT:return n===void 0;case Se.EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Db.indexOf(n[0])===-1);case Se.ACK:return Array.isArray(n);case Se.CONNECT_ERROR:return typeof n=="string"||Fi(n);default:return!1}}function gw(a){return pw(a.nsp)&&fw(a.id)&&bw(a.type,a.data)}const yw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Qu,Encoder:mw,get PacketType(){return Se},isPacketValid:gw,protocol:uw},Symbol.toStringTag,{value:"Module"}));function ls(a,n,r){return a.on(n,r),function(){a.off(n,r)}}const vw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Lb extends ot{constructor(n,r,o){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=r,o&&o.auth&&(this.auth=o.auth),this._opts=Object.assign({},o),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[ls(n,"open",this.onopen.bind(this)),ls(n,"packet",this.onpacket.bind(this)),ls(n,"error",this.onerror.bind(this)),ls(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...r){var o,c,u;if(vw.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(r.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const p={type:Se.EVENT,data:r};if(p.options={},p.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const g=this.ids++,h=r.pop();this._registerAckCallback(g,h),p.id=g}const b=(c=(o=this.io.engine)===null||o===void 0?void 0:o.transport)===null||c===void 0?void 0:c.writable,y=this.connected&&!(!((u=this.io.engine)===null||u===void 0)&&u._hasPingExpired());return this.flags.volatile&&!b||(y?(this.notifyOutgoingListeners(p),this.packet(p)):this.sendBuffer.push(p)),this.flags={},this}_registerAckCallback(n,r){var o;const c=(o=this.flags.timeout)!==null&&o!==void 0?o:this._opts.ackTimeout;if(c===void 0){this.acks[n]=r;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let b=0;b<this.sendBuffer.length;b++)this.sendBuffer[b].id===n&&this.sendBuffer.splice(b,1);r.call(this,new Error("operation has timed out"))},c),p=(...b)=>{this.io.clearTimeoutFn(u),r.apply(this,b)};p.withError=!0,this.acks[n]=p}emitWithAck(n,...r){return new Promise((o,c)=>{const u=(p,b)=>p?c(p):o(b);u.withError=!0,r.push(u),this.emit(n,...r)})}_addToQueue(n){let r;typeof n[n.length-1]=="function"&&(r=n.pop());const o={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((c,...u)=>(this._queue[0],c!==null?o.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(c)):(this._queue.shift(),r&&r(null,...u)),o.pending=!1,this._drainQueue())),this._queue.push(o),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!n||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:Se.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(o=>String(o.id)===n)){const o=this.acks[n];delete this.acks[n],o.withError&&o.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case Se.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Se.EVENT:case Se.BINARY_EVENT:this.onevent(n);break;case Se.ACK:case Se.BINARY_ACK:this.onack(n);break;case Se.DISCONNECT:this.ondisconnect();break;case Se.CONNECT_ERROR:this.destroy();const o=new Error(n.data.message);o.data=n.data.data,this.emitReserved("connect_error",o);break}}onevent(n){const r=n.data||[];n.id!=null&&r.push(this.ack(n.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const o of r)o.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const r=this;let o=!1;return function(...c){o||(o=!0,r.packet({type:Se.ACK,id:n,data:c}))}}onack(n){const r=this.acks[n.id];typeof r=="function"&&(delete this.acks[n.id],r.withError&&n.data.unshift(null),r.apply(this,n.data))}onconnect(n,r){this.id=n,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Se.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const r=this._anyListeners;for(let o=0;o<r.length;o++)if(n===r[o])return r.splice(o,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const r=this._anyOutgoingListeners;for(let o=0;o<r.length;o++)if(n===r[o])return r.splice(o,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const o of r)o.apply(this,n.data)}}}function Ll(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}Ll.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),r=Math.floor(n*this.jitter*a);a=(Math.floor(n*10)&1)==0?a-r:a+r}return Math.min(a,this.max)|0};Ll.prototype.reset=function(){this.attempts=0};Ll.prototype.setMin=function(a){this.ms=a};Ll.prototype.setMax=function(a){this.max=a};Ll.prototype.setJitter=function(a){this.jitter=a};class Du extends ot{constructor(n,r){var o;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(r=n,n=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,lo(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((o=r.randomizationFactor)!==null&&o!==void 0?o:.5),this.backoff=new Ll({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=n;const c=r.parser||yw;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var r;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(r=this.backoff)===null||r===void 0||r.setMin(n),this)}randomizationFactor(n){var r;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(r=this.backoff)===null||r===void 0||r.setJitter(n),this)}reconnectionDelayMax(n){var r;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(r=this.backoff)===null||r===void 0||r.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new aw(this.uri,this.opts);const r=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;const c=ls(r,"open",function(){o.onopen(),n&&n()}),u=b=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",b),n?n(b):this.maybeReconnectOnOpen()},p=ls(r,"error",u);if(this._timeout!==!1){const b=this._timeout,y=this.setTimeoutFn(()=>{c(),u(new Error("timeout")),r.close()},b);this.opts.autoUnref&&y.unref(),this.subs.push(()=>{this.clearTimeoutFn(y)})}return this.subs.push(c),this.subs.push(p),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(ls(n,"ping",this.onping.bind(this)),ls(n,"data",this.ondata.bind(this)),ls(n,"error",this.onerror.bind(this)),ls(n,"close",this.onclose.bind(this)),ls(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(r){this.onclose("parse error",r)}}ondecoded(n){ao(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,r){let o=this.nsps[n];return o?this._autoConnect&&!o.active&&o.connect():(o=new Lb(this,n,r),this.nsps[n]=o),o}_destroy(n){const r=Object.keys(this.nsps);for(const o of r)if(this.nsps[o].active)return;this._close()}_packet(n){const r=this.encoder.encode(n);for(let o=0;o<r.length;o++)this.engine.write(r[o],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,r){var o;this.cleanup(),(o=this.engine)===null||o===void 0||o.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const o=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(c=>{c?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",c)):n.onreconnect()}))},r);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const Ln={};function Pi(a,n){typeof a=="object"&&(n=a,a=void 0),n=n||{};const r=lw(a,n.path||"/socket.io"),o=r.source,c=r.id,u=r.path,p=Ln[c]&&u in Ln[c].nsps,b=n.forceNew||n["force new connection"]||n.multiplex===!1||p;let y;return b?y=new Du(o,n):(Ln[c]||(Ln[c]=new Du(o,n)),y=Ln[c]),r.query&&!n.query&&(n.query=r.queryKey),y.socket(r.path,n)}Object.assign(Pi,{Manager:Du,Socket:Lb,io:Pi,connect:Pi});const $i=a=>{if(!a)return"";const n=new Date(a);return Number.isNaN(n.getTime())?"":n.toISOString()},qf=a=>a?{...a,_id:a._id?.toString?.()??a._id,senderId:a.senderId?.toString?.()??a.senderId,createdAt:$i(a.createdAt)}:null,jw=a=>a?{...a,userId:a.userId?.toString?.()??a.userId}:null,Id=a=>a?{...a,_id:a._id?.toString?.()??a._id,createdAt:$i(a.createdAt),updatedAt:$i(a.updatedAt),lastMessage:a.lastMessage?{...a.lastMessage,createdAt:$i(a.lastMessage.createdAt),preview:a.lastMessage.preview??a.lastMessage.body??""}:null,participants:Array.isArray(a.participants)?a.participants.map(jw).filter(Boolean):[]}:null,Ju=()=>{const[a,n]=x.useState([]),[r,o]=x.useState(!0),[c,u]=x.useState(null),[p,b]=x.useState(null),[y,f]=x.useState(0),g=je(),h=x.useRef(null),v=x.useCallback(()=>{const D=ib();if(!D)return;const P="http://localhost:5000/api".replace(/\/api\/?$/,""),z=Pi(P,{auth:{token:D},transports:["websocket","polling"],reconnectionAttempts:3});z.on("connect",()=>{console.log("Socket connected")}),z.on("message:new",({conversationId:$,message:F})=>{const H=qf(F);H&&(n(U=>U.find(O=>O._id===$)?U.map(O=>O._id===$?{...O,lastMessage:H,updatedAt:H.createdAt}:O):U),g?.({title:"New message",description:H.body?.slice(0,80),tone:"info"}))}),z.on("close",()=>{h.current===z&&z.removeAllListeners()}),z.on("conversation:updated",({conversationId:$,lastMessage:F})=>{n(H=>H.map(U=>U._id===$?{...U,lastMessage:F,updatedAt:F?.createdAt||U.updatedAt}:U))}),z.on("connect_error",$=>{console.warn("Socket connect error:",$.message),$.message?.includes("Invalid namespace")&&console.warn("Ensure backend socket server is running without namespace requirements."),h.current===z&&(z.removeAllListeners(),z.disconnect(),h.current=null,b(null))}),z.on("disconnect",$=>{console.log("Socket disconnected:",$)}),h.current=z,b(z)},[g]),C=x.useCallback(()=>{h.current&&(h.current.removeAllListeners(),h.current.disconnect(),h.current=null,b(null))},[]);x.useEffect(()=>(v(),()=>C()),[v,C]);const N=x.useCallback(async()=>{o(!0),u(null);try{const D=await ce("/messages"),P=(Array.isArray(D?.data)?D.data:[]).map(Id).filter(Boolean);n(P),f(P.length)}catch(D){u(D),g?.({title:"Unable to load conversations",description:D.message??"Please try again later.",tone:"error"})}finally{o(!1)}},[g]);x.useEffect(()=>{N()},[N]);const k=x.useCallback(async({conversationId:D,recipientId:E,recipientRole:P,body:z})=>{if(!z?.trim())throw new Error("Message body is required");try{const $=await _e("/messages/send",{conversationId:D,recipientId:E,recipientRole:P,body:z.trim()}),{conversation:F,message:H}=$?.data??{};if(F){const U=Id(F);U&&n(T=>T.some(Y=>Y._id===U._id)?T.map(Y=>Y._id===U._id?U:Y):[U,...T])}return H&&h.current&&h.current.emit("joinConversation",D),{conversation:F,message:H}}catch($){throw g?.({title:"Message not sent",description:$.message??"Please try again.",tone:"error"}),$}},[g]),j=x.useCallback(async({recipientId:D,recipientRole:E})=>{if(!D||!E)return null;try{const z=(await ce(`/messages/with/${E}/${D}`))?.data;if(!z)return null;const $=Id(z);return $&&n(F=>F.some(U=>U._id===$._id)?F.map(U=>U._id===$._id?$:U):[$,...F]),$}catch(P){return console.warn("Failed to get conversation with:",P),null}},[]),S=x.useCallback(async D=>{if(!D)return[];try{const E=await ce(`/messages/${D}/messages`);return(Array.isArray(E?.data)?E.data:[]).map(qf).filter(Boolean)}catch(E){return console.warn("Failed to fetch messages:",E),[]}},[]),_=x.useCallback(D=>{h.current&&D&&h.current.emit("joinConversation",D)},[]),B=x.useCallback(D=>{h.current&&D&&h.current.emit("leaveConversation",D)},[]);return{conversations:a,loading:r,error:c,unreadCount:y,socket:p,sendMessage:k,getConversationWith:j,getConversationMessages:S,joinConversation:_,leaveConversation:B,refresh:N}},Nw=({onToggleSidebar:a})=>{const n=Te(),{user:r,logout:o}=ye(),{conversations:c,unreadCount:u,sendMessage:p,getConversationMessages:b,joinConversation:y,leaveConversation:f}=Ju(),g=r?.name||[r?.firstName,r?.lastName].filter(Boolean).join(" ").trim()||r?.profile?.fullName||r?.email?.split("@")[0]||"",h=r?.role??r?.profile?.role??"";h&&h.toString().toUpperCase(),r?.email??r?.profile?.email;const v=r?.avatar||r?.profile?.avatar||"",C=g?g.charAt(0).toUpperCase():r?.email?.charAt(0)?.toUpperCase()||"A",[N,k]=x.useState(null),[j,S]=x.useState(!1),[_,B]=x.useState(!1),[D,E]=x.useState("list"),[P,z]=x.useState({}),[$,F]=x.useState(null),H=x.useRef(null),U=x.useRef(null),T=x.useRef(null),O=x.useRef(null),Y=x.useRef("list");x.useEffect(()=>{const V=re=>{H.current?.contains(re.target)||U.current?.contains(re.target)||T.current?.contains(re.target)||k(null)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]);const W=()=>{n("/dashboard/profile"),k(null)},I=()=>{o(),k(null)},A=x.useCallback(async V=>{if(!(!V||P[V]))try{const re=await b(V);z(oe=>({...oe,[V]:re}))}catch(re){console.warn("Failed to load messages for conversation:",V,re)}},[P,b]),R=x.useCallback(V=>V?(A(V),F(V),E("conversation"),O.current=V,Y.current="conversation",V):null,[A]),q=x.useCallback(()=>{E("list"),Y.current="list",_||(O.current=null)},[_]),J=x.useCallback(V=>{V?R(V):Y.current==="conversation"&&O.current?R(O.current):(F(null),E("list"),O.current=null,Y.current="list"),B(!0),k(null)},[R]),M=x.useCallback(V=>{V&&R(V)},[R]),Q=x.useCallback(()=>{O.current=$,Y.current=D,B(!1)},[$,D]);x.useEffect(()=>{const V=re=>{const oe=re.detail?.conversationId??null;J(oe)};return window.addEventListener("app:openMessagesPanel",V),()=>window.removeEventListener("app:openMessagesPanel",V)},[J]),x.useEffect(()=>{_&&(O.current=$,Y.current=D)},[_,$,D]);const se=async(V,re)=>{if(!(!V||!re?.trim()))try{const{message:oe}=await p({conversationId:V,body:re.trim()});oe&&z(me=>({...me,[V]:[...me[V]??[],oe]}))}catch(oe){console.error("Failed to send message:",oe)}};return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"sticky top-0 z-20 flex items-center justify-between gap-3 border-b border-slate-100 bg-white/80 px-4 py-3 backdrop-blur sm:px-6 sm:py-4",children:[e.jsxs("div",{className:"flex flex-1 items-center gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-600 transition hover:border-primary/40 hover:text-primary lg:hidden","aria-label":"Open navigation",children:e.jsx(Cw,{className:"h-5 w-5"})}),e.jsxs("label",{className:"relative hidden w-full max-w-lg sm:block",children:[e.jsx("span",{className:"sr-only",children:"Search"}),e.jsx("span",{className:"pointer-events-none absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:e.jsx(Vf,{className:"h-4 w-4"})}),e.jsx("input",{type:"search",placeholder:"Search alumni, jobs, events...",className:"w-full rounded-full border border-slate-200 bg-slate-50 px-12 py-2.5 text-sm text-slate-700 placeholder:text-slate-400 focus:border-primary focus:bg-white focus:outline-none"})]}),e.jsxs("label",{className:"relative flex-1 sm:hidden",children:[e.jsx("span",{className:"sr-only",children:"Search"}),e.jsx("span",{className:"pointer-events-none absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:e.jsx(Vf,{className:"h-4 w-4"})}),e.jsx("input",{type:"search",placeholder:"Search...",className:"w-full rounded-full border border-slate-200 bg-slate-50 px-10 py-2 text-sm text-slate-700 placeholder:text-slate-400 focus:border-primary focus:bg-white focus:outline-none"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsxs("div",{className:"relative",ref:H,children:[e.jsx(Hf,{label:"Notifications",badge:"2",onClick:()=>k(V=>V==="notifications"?null:"notifications"),"aria-expanded":N==="notifications",children:e.jsx(ww,{className:"h-5 w-5"})}),N==="notifications"&&e.jsx("div",{className:"absolute right-0 mt-3",children:e.jsx(wN,{onViewAllActivity:()=>{S(!0),k(null)}})})]}),e.jsxs("div",{className:"relative",ref:U,children:[e.jsx(Hf,{label:"Messages",badge:u>0?u.toString():null,onClick:()=>k(V=>V==="messages"?null:"messages"),"aria-expanded":N==="messages",children:e.jsx(Sw,{className:"h-5 w-5"})}),N==="messages"&&e.jsx("div",{className:"absolute right-0 mt-3",children:e.jsx(MessageDropdown,{conversations:c,onViewAllMessages:()=>J(null),onSelectConversation:J})})]}),e.jsxs("div",{className:"relative",ref:T,children:[e.jsxs("button",{type:"button",onClick:()=>k(V=>V==="profile"?null:"profile"),className:"flex items-center gap-2 rounded-full border border-slate-100 bg-white px-2 py-1.5 text-left shadow-sm transition hover:border-primary/40 sm:gap-3 sm:px-3","aria-haspopup":"menu","aria-expanded":N==="profile",children:[v?e.jsx("img",{src:v,alt:g||"Profile avatar",className:"h-9 w-9 rounded-full object-cover sm:h-10 sm:w-10"}):e.jsx("span",{className:"grid h-9 w-9 place-items-center rounded-full bg-primary/10 text-sm font-bold text-primary sm:h-10 sm:w-10",children:C}),e.jsx(Aw,{className:`h-4 w-4 text-slate-400 transition ${N==="profile"?"rotate-180 text-slate-500":""}`})]}),N==="profile"&&e.jsxs("div",{className:"absolute right-0 mt-3 w-60 rounded-2xl border border-slate-100 bg-white py-2 shadow-xl",children:[e.jsx("div",{className:"my-1 border-t border-slate-100"}),e.jsx(Ff,{icon:Ew,label:"Profile",onClick:W}),e.jsx(Ff,{icon:Mw,label:"Logout",onClick:I})]})]})]})]}),e.jsx(Dw,{isOpen:j,onClose:()=>S(!1)}),e.jsx(Rw,{isOpen:_,onClose:Q,contacts:c,conversations:P,activeConversationId:$,viewMode:D,onShowList:q,onSelectConversation:M,onSendMessage:se,onJoinConversation:y,onLeaveConversation:f})]})},Hf=({children:a,label:n,badge:r,onClick:o,...c})=>e.jsxs("button",{type:"button",onClick:o,className:"relative grid h-11 w-11 place-items-center rounded-full border border-slate-200 bg-white text-slate-600 transition hover:text-primary","aria-label":n,...c,children:[a,r&&e.jsx("span",{className:"absolute -right-1 -top-1 rounded-full bg-primary px-1.5 text-[10px] font-semibold text-white",children:r})]}),Ff=({icon:a,label:n,onClick:r})=>e.jsxs("button",{type:"button",onClick:r,className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-slate-600 transition hover:bg-slate-50 hover:text-primary",role:"menuitem",children:[e.jsx("span",{className:"grid h-9 w-9 place-items-center rounded-full bg-primary/10 text-primary",children:e.jsx(a,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-medium",children:n})]}),_s=({children:a,className:n})=>e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:a}),Vf=a=>e.jsxs(_s,{...a,children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]}),ww=a=>e.jsxs(_s,{...a,children:[e.jsx("path",{d:"M18 8a6 6 0 10-12 0c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 01-3.46 0"})]}),Sw=a=>e.jsx(_s,{...a,children:e.jsx("path",{d:"M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 018.5-8.5h.5a8.5 8.5 0 018.5 8.5z"})}),Cw=a=>e.jsxs(_s,{...a,children:[e.jsx("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),e.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),e.jsx("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),kw=a=>e.jsx(_s,{...a,children:e.jsx("polyline",{points:"15 18 9 12 15 6"})}),Aw=a=>e.jsx(_s,{...a,children:e.jsx("polyline",{points:"6 9 12 15 18 9"})}),Ew=a=>e.jsxs(_s,{...a,children:[e.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),Mw=a=>e.jsxs(_s,{...a,children:[e.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),Dw=({isOpen:a,onClose:n})=>e.jsx(Rb,{isOpen:a,label:"Activity",title:"All Notifications",subtitle:"Stay updated with your mentorship requests, reminders, and announcements.",onClose:n,children:e.jsx("div",{className:"space-y-4",children:bb.map(r=>e.jsxs("article",{className:"rounded-2xl border border-slate-100 bg-slate-50/60 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:r.title}),e.jsx("span",{className:"text-xs font-medium text-slate-400",children:r.time})]}),e.jsx("p",{className:"mt-2 text-xs uppercase tracking-[0.3em] text-primary",children:r.type})]},r.id))})}),Lw=a=>e.jsxs(_s,{...a,children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Rb=({isOpen:a,onClose:n,label:r,title:o,subtitle:c,children:u,footer:p,headerActions:b,contentClassName:y="",closeOnOverlay:f=!0})=>e.jsxs("div",{className:`fixed inset-0 z-30 flex justify-end transition pointer-events-none ${a?"pointer-events-auto":""}`,"aria-hidden":!a,children:[e.jsx("div",{className:`flex-1 bg-slate-900/20 backdrop-blur-sm transition-opacity duration-300 ease-out ${a?"opacity-100":"opacity-0"}`,onClick:f?n:void 0}),e.jsxs("aside",{className:`relative flex h-full w-full max-w-sm flex-col overflow-hidden border-l border-slate-200 bg-white shadow-2xl transition-transform duration-300 ease-out ${a?"translate-x-0":"translate-x-full"}`,children:[e.jsx("button",{type:"button",onClick:n,className:"absolute right-4 top-4 rounded-full border border-slate-200 p-2 text-slate-500 transition hover:border-primary/40 hover:text-primary","aria-label":"Close panel",children:e.jsx(Lw,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex h-full flex-col pt-16",children:[e.jsxs("div",{className:`flex-1 overflow-y-auto px-6 pb-8 ${y}`,children:[e.jsxs("header",{className:"mb-6 flex flex-wrap items-start justify-between gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[r?e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-primary",children:r}):null,e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:o}),c?e.jsx("p",{className:"text-sm text-slate-500",children:c}):null]}),b?e.jsx("div",{className:"flex-shrink-0",children:b}):null]}),u]}),p?e.jsx("div",{className:"border-t border-slate-100 bg-white px-6 py-4",children:p}):null]})]})]}),Rw=({isOpen:a,onClose:n,contacts:r,conversations:o,activeConversationId:c,viewMode:u,onShowList:p,onSelectConversation:b,onSendMessage:y})=>{const[f,g]=x.useState(""),h=x.useRef(null),v=r.find(P=>P._id===c),C=c?o[c]??[]:[];x.useEffect(()=>{h.current&&h.current.scrollIntoView({behavior:"smooth"})},[C,a]),x.useEffect(()=>{g("")},[c,a]);const N=()=>{g(""),n()},k=P=>{P.preventDefault(),f.trim()&&(y(c,f),g(""))},j=u==="conversation"&&v,S=u==="list",_=j?e.jsxs("form",{className:"flex items-end gap-3",onSubmit:k,children:[e.jsx("textarea",{value:f,onChange:P=>g(P.target.value),rows:2,placeholder:"Type your message...",className:"flex-1 resize-none rounded-2xl border border-slate-200 px-4 py-2 text-sm text-slate-700 shadow-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/50"}),e.jsx("button",{type:"submit",className:"rounded-2xl bg-primary px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:bg-primary/50",disabled:!f.trim(),children:"Send"})]}):null,B=j?e.jsxs("button",{type:"button",onClick:p,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary/40 hover:text-primary",children:[e.jsx(kw,{className:"h-3 w-3"}),"Back to all messages"]}):null,D=P=>P?.participants?P.participants.find(z=>z.userId!==P.participants[0]?.userId)||P.participants[0]:null,E=r.map(P=>{const z=D(P);return e.jsxs("button",{type:"button",onClick:()=>b(P._id),className:"flex w-full items-center gap-4 rounded-2xl border border-slate-100 bg-white p-4 text-left shadow-sm transition hover:border-primary/40 hover:shadow-md",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center text-primary font-semibold",children:z?.name?.charAt(0)||"?"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("p",{className:"font-semibold text-slate-900",children:z?.name||"Unknown"}),e.jsx("span",{className:"text-xs text-slate-400",children:P.lastMessage?.createdAt?new Date(P.lastMessage.createdAt).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):""})]}),e.jsx("p",{className:"mt-1 line-clamp-2 text-xs text-slate-500",children:P.lastMessage?.preview||"No messages yet"})]})]},`contact-${P._id}`)});return e.jsx(Rb,{isOpen:a,onClose:N,closeOnOverlay:!1,label:"Messages",title:j&&v?D(v)?.name||"Chat":"Your conversations",subtitle:"Catch up on your latest mentorship conversations.",headerActions:B,contentClassName:S?"bg-slate-50/60":"",footer:_,children:S?e.jsx("div",{className:"space-y-3",children:E.length?E:e.jsx("p",{className:"text-sm text-slate-500",children:"No conversations yet."})}):e.jsxs("div",{className:"space-y-5",children:[v&&e.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-slate-100/80 px-4 py-3",children:[e.jsx("div",{className:"h-11 w-11 rounded-full bg-primary/10 flex items-center justify-center text-primary font-semibold",children:D(v)?.name?.charAt(0)||"?"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:D(v)?.name||"Unknown"}),e.jsx("p",{className:"text-xs text-slate-500 capitalize",children:D(v)?.role||"User"})]})]}),e.jsxs("div",{className:"space-y-3",children:[C.length?C.map(P=>{const z=P.senderId===user?.id;return e.jsx("div",{className:`flex ${z?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:"max-w-[85%]",children:[e.jsx("div",{className:`rounded-2xl px-4 py-2 text-sm leading-relaxed shadow-sm ${z?"rounded-br-md bg-primary text-white":"rounded-bl-md bg-white text-slate-700"}`,children:P.body}),e.jsx("p",{className:`mt-1 text-xs ${z?"text-right text-primary/80":"text-slate-400"}`,children:P.createdAt?new Date(P.createdAt).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):""})]})},P._id)}):e.jsx("p",{className:"text-sm text-slate-500",children:"No messages yet. Start the conversation below."}),e.jsx("div",{ref:h})]})]})})},Tw=[{label:"Home",path:"/dashboard",icon:Ow},{label:"Directory",path:"/dashboard/directory/students",icon:Bw},{label:"Events",path:"/dashboard/events",icon:zw},{label:"News",path:"/dashboard/news",icon:Uw},{label:"Profile",path:"/dashboard/profile",icon:Pw}],_w=()=>{const a=vt();return e.jsx("nav",{className:"fixed inset-x-0 bottom-0 z-40 border-t border-slate-200 bg-white/95 backdrop-blur [@supports(backdrop-filter:blur(0))]:bg-white/75 lg:hidden",children:e.jsx("div",{className:"mx-auto grid max-w-lg grid-cols-5",children:Tw.map(({label:n,path:r,icon:o})=>{const c=a.pathname===r||r!=="/dashboard"&&a.pathname.startsWith(r);return e.jsxs(Yn,{to:r,className:({isActive:u})=>`flex flex-col items-center justify-center gap-1 py-3 text-xs font-semibold transition ${c||u?"text-primary":"text-slate-500 hover:text-primary"}`,children:[e.jsx("span",{className:`grid h-9 w-9 place-items-center rounded-full border ${c?"border-primary/40 bg-primary/10 text-primary":"border-slate-200 bg-white"}`,children:e.jsx(o,{className:"h-4 w-4"})}),e.jsx("span",{children:n})]},r)})})})},In=({children:a,className:n})=>e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:a});function Ow(a){return e.jsxs(In,{...a,children:[e.jsx("path",{d:"M3 11l9-8 9 8"}),e.jsx("path",{d:"M5 12v8a1 1 0 001 1h4v-5h4v5h4a1 1 0 001-1v-8"})]})}function Bw(a){return e.jsxs(In,{...a,children:[e.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8a4 4 0 11-3-7.39"})]})}function zw(a){return e.jsxs(In,{...a,children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M16 2v4"}),e.jsx("path",{d:"M8 2v4"}),e.jsx("path",{d:"M3 10h18"})]})}function Uw(a){return e.jsxs(In,{...a,children:[e.jsx("path",{d:"M4 5h16v14H4z"}),e.jsx("path",{d:"M8 9h5"}),e.jsx("path",{d:"M8 13h8"}),e.jsx("path",{d:"M4 19h16"})]})}function Pw(a){return e.jsxs(In,{...a,children:[e.jsx("circle",{cx:"12",cy:"7",r:"4"}),e.jsx("path",{d:"M5.5 21a8.38 8.38 0 0113 0"})]})}const $w=({children:a})=>{const[n,r]=x.useState(!1);return e.jsxs("div",{className:"relative flex min-h-screen bg-[#F8FAFC]",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx("div",{className:"fixed inset-y-0 left-0 z-30 hidden w-72 lg:flex",children:e.jsx(zf,{})})}),n&&e.jsxs("div",{className:"fixed inset-0 z-40 flex lg:hidden",children:[e.jsx("div",{className:"flex-1 bg-slate-900/40",onClick:()=>r(!1)}),e.jsx("div",{className:"relative w-72 max-w-full bg-white shadow-2xl",children:e.jsx(zf,{isMobile:!0,onClose:()=>r(!1)})})]}),e.jsxs("div",{className:"flex min-h-screen flex-1 flex-col pb-20 lg:pb-0 lg:pl-72",children:[e.jsx(Nw,{onToggleSidebar:()=>r(!0)}),e.jsx("main",{className:"flex-1 overflow-y-auto px-4 py-6 sm:px-6 lg:px-10",children:a??e.jsx(eb,{})})]}),e.jsx(_w,{})]})},Yw=a=>{const n=Number(a);if(Number.isNaN(n))return"";const r=new Date().getFullYear(),o=n-r;return o<0?"Alumni":o===0?"Final Year":o===1?"Third Year":o===2?"Second Year":o===3?"First Year":`${o} years to go`},qw={students:"Student",alumni:"Alumni",faculty:"Faculty",coordinators:"Coordinator"},Hw=({person:a,onOpen:n})=>{const{name:r,program:o,avatar:c,role:u,department:p,year:b,location:y,title:f}=a,g=p??o?.split(" ").slice(0,-1).join(" ")??"",h=b??o?.split(" ").slice(-1)[0]??"",v=u==="students"?Yw(h):"",C=qw[u]??"Member";return e.jsxs("article",{className:"group flex flex-col rounded-2xl bg-white p-5 shadow-lg border border-slate-200 transition-all duration-300 hover:shadow-xl hover:-translate-y-2 hover:border-primary/30",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"relative",children:e.jsx($u,{src:c,name:r,size:"xl",className:"ring-4 ring-slate-100 group-hover:ring-primary/20 transition-all duration-300"})}),e.jsx("h3",{className:"mt-5 text-xl font-bold text-slate-900 group-hover:text-primary transition-colors",children:r}),e.jsx("p",{className:"text-sm font-medium text-slate-600 mt-1",children:f??C})]}),e.jsxs("div",{className:"mt-6 space-y-2 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-600",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e.jsx("span",{className:"font-medium",children:g||o})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:u==="students"?v:h||C})]}),y&&e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500",children:[e.jsxs("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{children:y})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",className:"w-full rounded-full bg-primary px-4 py-2 text-sm font-semibold text-white shadow-md transition-all duration-300 hover:bg-primary-dark hover:shadow-lg focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary","aria-label":`View profile for ${r}`,onClick:()=>n?.(a),children:"View Profile"})})]})},Fw={students:"/directory/students",alumni:"/directory/alumni",faculty:"/directory/faculty",coordinators:"/directory/coordinators"},Vw=a=>{const[n,r]=x.useState(!0),[o,c]=x.useState([]),[u,p]=x.useState(null),b=je();return x.useEffect(()=>{let y=!0;return(async()=>{const g=Fw[a];if(!g){c([]),r(!1);return}r(!0),p(null);try{console.log(`Fetching members for role: ${a}, endpoint: ${g}`);const h=await ce(g);console.log(`Directory response for ${a}:`,h);const v=Array.isArray(h?.data)?h.data:[];if(console.log(`Parsed ${v.length} members for ${a}:`,v),!y)return;c(v)}catch(h){if(!y)return;p(h),b?.({title:"Unable to load directory",description:h.message??"Please try again later.",tone:"error"})}finally{y&&r(!1)}})(),()=>{y=!1}},[a,b]),{loading:n,members:o,error:u}},Iw=a=>{const[n,r]=x.useState(!0),[o,c]=x.useState(null),[u,p]=x.useState(null),b=je();return x.useEffect(()=>{let y=!0;return a?((async()=>{r(!0),p(null);try{const g=await ce(`/directory/profile/${a}`);if(!y)return;c(g?.data??null)}catch(g){if(!y)return;p(g),b?.({title:"Unable to load profile",description:g.message??"Please try again later.",tone:"error"})}finally{y&&r(!1)}})(),()=>{y=!1}):(c(null),r(!1),()=>{})},[a,b]),{loading:n,profile:o,error:u}},Zu=(a=!1)=>{const[n,r]=x.useState(a),o=x.useCallback(()=>r(!0),[]),c=x.useCallback(()=>r(!1),[]);return{isOpen:n,openModal:o,closeModal:c}},Gw='a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])',no=({isOpen:a,title:n,children:r,onClose:o,width:c="max-w-lg",closeOnBackdrop:u=!0,closeOnEscape:p=!0})=>{const b=x.useRef(null),y=x.useId(),f=x.useRef(o);if(x.useEffect(()=>{f.current=o},[o]),x.useEffect(()=>{if(!a)return;const v=document.activeElement,C=()=>b.current?Array.from(b.current.querySelectorAll(Gw)).filter(j=>!j.hasAttribute("disabled")&&j.getAttribute("tabindex")!=="-1"):[],N=j=>{if(j.key==="Escape"){if(!p)return;j.preventDefault(),f.current?.()}if(j.key!=="Tab")return;const S=C();if(!S.length){j.preventDefault(),b.current?.focus();return}const _=S[0],B=S[S.length-1],D=j.shiftKey,E=document.activeElement;D&&(E===_||!b.current?.contains(E))?(j.preventDefault(),B.focus()):!D&&E===B&&(j.preventDefault(),_.focus())};return document.addEventListener("keydown",N),(C()[0]??b.current)?.focus(),()=>{document.removeEventListener("keydown",N),v?.focus?.()}},[a,p]),!a||typeof document>"u")return null;const g=v=>{v.target===v.currentTarget&&f.current?.()},h=n?`${y}-title`:void 0;return rb.createPortal(e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 px-4 py-8",onMouseDown:u?g:void 0,"aria-modal":"true",children:e.jsxs("div",{ref:b,role:"dialog","aria-modal":"true","aria-labelledby":h,tabIndex:-1,className:`relative w-full ${c} max-h-[90vh] rounded-2xl bg-white shadow-soft focus:outline-none overflow-hidden flex flex-col`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 border-b border-slate-100 px-6 py-4 flex-shrink-0",children:[n?e.jsx("h2",{id:h,className:"text-lg font-semibold text-slate-900",children:n}):e.jsx("span",{"aria-hidden":"true"}),e.jsx("button",{type:"button",onClick:()=>f.current?.(),className:"rounded-full p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600 flex-shrink-0","aria-label":"Close modal",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5","aria-hidden":"true",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"px-6 py-5 overflow-y-auto flex-1",children:r})]})}),document.body)},Xw=a=>{if(!a)return"";const n=new Date(a);return Number.isNaN(n.getTime())?"":n.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})},Ww=({isOpen:a,onClose:n,recipient:r,onViewAllMessages:o})=>{const{user:c}=ye(),{sendMessage:u,getConversationMessages:p,joinConversation:b,leaveConversation:y,getConversationWith:f}=Ju(),g=je(),[h,v]=x.useState([]),[C,N]=x.useState(""),[k,j]=x.useState(!1),[S,_]=x.useState(null),B=x.useRef(null),D=r?._id??r?.id,E=r?.role,P=r?.name||r?.fullName||"Conversation";x.useEffect(()=>{if(!a||!D||!E){v([]),_(null),N("");return}(async()=>{j(!0);try{const T=await f({recipientId:D,recipientRole:E});if(T?._id){_(T._id),b(T._id);const O=await p(T._id);v(O)}else _(null),v([])}catch(T){console.error("Failed to load conversation:",T),g?.({title:"Could not load messages",tone:"error"})}finally{j(!1)}})()},[a,D,E,f,b,p,g]),x.useEffect(()=>{B.current?.scrollIntoView({behavior:"smooth"})},[h]);const z=()=>{S&&y(S),v([]),_(null),N(""),n?.()},$=async U=>{U.preventDefault();const T=C.trim();if(!(!T||!D||!E))try{const{message:O}=await u({conversationId:S,recipientId:D,recipientRole:E,body:T});O&&v(Y=>[...Y,O]),!S&&O?.conversationId&&(_(O.conversationId),b(O.conversationId)),N("")}catch(O){console.error("Send failed:",O)}},F=()=>{o&&o(S)},H=r;return e.jsx(no,{isOpen:a,onClose:z,title:P,width:"max-w-2xl",children:e.jsxs("div",{className:"flex h-[500px] flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-4 py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:P}),H?.role?e.jsx("p",{className:"text-xs text-slate-400 capitalize",children:H.role}):null]}),e.jsx("button",{type:"button",onClick:F,className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-slate-500 transition hover:border-primary/40 hover:text-primary",children:"View All Messages"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-2 py-4 space-y-3",children:[k?e.jsx("p",{className:"text-center text-sm text-slate-400",children:"Loading messages..."}):h.length>0?h.map(U=>{const T=U.senderId===c?.id;return e.jsx("div",{className:`flex ${T?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 text-sm ${T?"bg-primary text-white":"bg-slate-100 text-slate-800"}`,children:[e.jsx("p",{children:U.body}),e.jsx("p",{className:`mt-1 text-xs ${T?"text-primary/80":"text-slate-400"}`,children:Xw(U.createdAt)})]})},U._id)}):e.jsx("p",{className:"text-center text-sm text-slate-400",children:"No messages yet. Start the conversation!"}),e.jsx("div",{ref:B})]}),e.jsx("form",{onSubmit:$,className:"border-t border-slate-100 px-4 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:C,onChange:U=>N(U.target.value),placeholder:"Type a message...",className:"flex-1 rounded-full border border-slate-200 px-4 py-2 text-sm focus:border-primary focus:outline-none"}),e.jsx("button",{type:"submit",disabled:!C.trim()||k,className:"rounded-full bg-primary px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary-dark disabled:cursor-not-allowed disabled:opacity-50",children:"Send"})]})})]})})},Tb=({profile:a={},onEditSection:n,showConnectButtons:r=!1})=>{const{user:o}=ye(),{getConversationWith:c,joinConversation:u}=Ju(),p=Zu(!1),b=x.useRef(null),{name:y,title:f,location:g,avatar:h,cover:v,raw:C}=a,N=C?._id??a?._id??a?.id,k=C?.role??a?.role,j=k?k.charAt(0).toUpperCase()+k.slice(1):null;f?.trim();const S=C?.department||a.department||"",_=j||"Student",B=C?.currentYear||a.currentYear||"",D=C?.passoutYear||a.passoutYear||"",E=_.toLowerCase()==="student",P=_.toLowerCase()==="alumni",z=async()=>{if(!(!o||!N||!k))try{const F=await c({recipientId:N,recipientRole:k});F?._id?(b.current=F._id,u(F._id)):b.current=null,p.openModal()}catch(F){console.error("Failed to start conversation:",F)}},$=F=>{p.closeModal();const H=F??b.current??null;window.dispatchEvent(new CustomEvent("app:openMessagesPanel",{detail:{conversationId:H}}))};return e.jsxs("section",{className:"overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-soft",children:[e.jsxs("div",{className:"relative h-52 bg-slate-200 sm:h-56",children:[v?e.jsx("img",{src:v,alt:"Profile cover",className:"absolute inset-0 h-full w-full object-cover"}):null,e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-20 /80"}),n?e.jsx("button",{type:"button",onClick:()=>n("cover"),className:"absolute right-4 top-4 inline-flex items-center gap-2 rounded-full bg-white/85 px-4 py-2 text-xs font-semibold uppercase tracking-[0.25em] text-slate-700 shadow ring-1 ring-white/70 backdrop-blur transition-colors hover:text-primary",children:"Change Cover"}):null]}),e.jsx("div",{className:"px-5 pb-6 pt-2 sm:px-8 sm:pb-8",children:e.jsxs("div",{className:"relative -mt-10 flex flex-wrap items-end gap-4 sm:-mt-12 sm:gap-6",children:[e.jsx("div",{className:"rounded-full border-2 border-white ",children:e.jsx($u,{src:h,name:y,size:"xl"})}),e.jsxs("div",{className:"flex min-w-[220px]  flex-1 flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-semibold text-slate-900 sm:text-3xl",children:y||"Alumni Name"})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-slate-600",children:[S&&e.jsx("span",{children:S}),S&&_&&e.jsx("span",{children:""}),e.jsx("span",{children:_}),E&&B&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{children:["Year ",B]})]}),P&&D&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{children:["Class of ",D]})]})]}),e.jsx("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-400",children:g?e.jsxs("span",{className:"inline-flex items-center gap-1 text-slate-500",children:[e.jsx(Qw,{className:"h-4 w-4"}),g]}):null})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-primary px-5 py-2 text-xs font-semibold uppercase tracking-[0.25em] text-primary shadow transition hover:bg-primary hover:text-white",children:"Connect"}),e.jsx("button",{type:"button",onClick:z,className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-xs font-semibold uppercase tracking-[0.25em] text-white shadow transition hover:bg-primary-dark",children:"Message"})]}),n&&e.jsx("button",{type:"button",onClick:()=>n("summary"),className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-xs font-semibold uppercase tracking-[0.25em] text-white shadow transition hover:bg-primary-dark",children:"Edit Profile Info"})]})]})]})}),e.jsx(Ww,{isOpen:p.isOpen,onClose:p.closeModal,recipient:{_id:N,role:k,name:y},onViewAllMessages:$})]})},Qw=a=>e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",...a,children:[e.jsx("path",{d:"M21 10c0 5.5-9 13-9 13S3 15.5 3 10a9 9 0 1118 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),_b=({profile:a,onEditSection:n,role:r})=>{const{about:o,contact:c,socials:u={},skills:p=[]}=a;return e.jsxs("div",{className:"space-y-6",children:[e.jsx(yi,{title:"About",section:"about",onEdit:n,role:r,children:e.jsx("p",{className:"text-sm leading-6 text-slate-600",children:o||"Passionate professional with a strong background in software development and problem solving."})}),e.jsx(yi,{title:"Contact",section:"contact",onEdit:n,role:r,children:e.jsxs("div",{className:"space-y-3 text-sm text-slate-600",children:[e.jsx(If,{icon:e.jsx(Jw,{}),primary:c.email||"contact@example.com"}),e.jsx(If,{icon:e.jsx(Zw,{}),primary:c.phone||"+1 (555) 000-0000"})]})}),e.jsx(yi,{title:"Socials",section:"socials",onEdit:n,role:r,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.linkedin?e.jsx("a",{href:u.linkedin,target:"_blank",rel:"noopener noreferrer",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-500 transition hover:border-primary hover:text-primary","aria-label":"LinkedIn",children:e.jsx(Gf,{className:"h-4 w-4"})}):e.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-300",children:e.jsx(Gf,{className:"h-4 w-4"})}),u.github?e.jsx("a",{href:u.github,target:"_blank",rel:"noopener noreferrer",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-500 transition hover:border-primary hover:text-primary","aria-label":"GitHub",children:e.jsx(Xf,{className:"h-4 w-4"})}):e.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-300",children:e.jsx(Xf,{className:"h-4 w-4"})}),u.instagram?e.jsx("a",{href:u.instagram,target:"_blank",rel:"noopener noreferrer",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-500 transition hover:border-primary hover:text-primary","aria-label":"Instagram",children:e.jsx(Wf,{className:"h-4 w-4"})}):e.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-300",children:e.jsx(Wf,{className:"h-4 w-4"})}),Object.entries(u).filter(([b])=>!["linkedin","github","instagram"].includes(b.toLowerCase())).map(([b,y])=>e.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-500 transition hover:border-primary hover:text-primary","aria-label":b,children:e.jsx(Kw,{className:"h-4 w-4"})},b))]}),Object.keys(u).length===0&&e.jsx("span",{className:"text-xs text-slate-400",children:"Add your social profiles to showcase your presence."})]})}),r!=="faculty"&&e.jsx(yi,{title:"Skills",section:"skills",onEdit:n,role:r,children:e.jsx("div",{className:"flex flex-wrap gap-2",children:p.length>0?p.map(b=>e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-slate-600",children:b},b)):e.jsx("span",{className:"text-xs text-slate-400",children:"Add skills to highlight your expertise."})})})]})},yi=({title:a,section:n,onEdit:r,children:o,role:c})=>{const u=c!=="faculty"||!["skills"].includes(n);return e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-500",children:a}),r&&u&&e.jsx("button",{type:"button",onClick:()=>r(n),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary/40 hover:text-primary",children:"Edit"})]}),e.jsx("div",{className:"mt-4 space-y-3",children:o})]})},If=({icon:a,primary:n})=>e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-slate-100 bg-slate-50 px-3 py-2",children:[e.jsx("span",{className:"text-primary",children:a}),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:n})]}),Rl=a=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",...a}),Jw=a=>e.jsxs(Rl,{...a,children:[e.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),e.jsx("polyline",{points:"3 7 12 13 21 7"})]}),Zw=a=>e.jsx(Rl,{...a,children:e.jsx("path",{d:"M22 16.92v3a2 2 0 01-2.18 2A19.8 19.8 0 013 5.18 2 2 0 015 3h3a2 2 0 012 1.72 12.6 12.6 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 11.91a16 16 0 006 6l2.27-2.27a2 2 0 012.11-.45 12.6 12.6 0 002.81.7A2 2 0 0122 16.92z"})}),Gf=a=>e.jsxs(Rl,{...a,children:[e.jsx("path",{d:"M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"}),e.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),e.jsx("circle",{cx:"4",cy:"4",r:"2"})]}),Xf=a=>e.jsx(Rl,{...a,children:e.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0020 4.77 5.07 5.07 0 0019.91 1S18.73.65 16 2.48a13.38 13.38 0 00-7 0C6.27.65 5.09 1 5.09 1a5.07 5.07 0 00-.11 3.76 5.44 5.44 0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 009 21.13V25"})}),Kw=a=>e.jsxs(Rl,{...a,children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"})]}),Wf=a=>e.jsxs(Rl,{...a,children:[e.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),e.jsx("path",{d:"M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"}),e.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]}),e4=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Qf=a=>{if(!a||typeof a!="string")return"";const[n,r]=a.split("-"),o=Number(n),c=Number(r);return!o||!c||c<1||c>12?a:`${e4[c-1]} ${o}`},t4=({startDate:a,endDate:n,isCurrent:r})=>{const o=Qf(a),c=r?"Present":Qf(n);return o&&c?`${o}  ${c}`:o?`${o}`:c?`Until ${c}`:""},s4=a=>{if(!a)return"";const n=a.toString().split(/[-_\s]+/).filter(Boolean);return n.length?n.map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):""},Vi=({experiences:a=[],onEditSection:n})=>{const r=Array.isArray(a)&&a.length>0,o=[...a].sort((c,u)=>{const p=f=>{if(f.isCurrent)return new Date;if(f.endDate){const[g,h]=f.endDate.split("-");return new Date(g,h-1)}if(f.startDate){const[g,h]=f.startDate.split("-");return new Date(g,h-1)}return new Date(0)},b=p(c);return p(u).getTime()-b.getTime()});return e.jsxs("section",{className:"rounded-3xl bg-white p-6 shadow-soft",children:[e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-500",children:"Experience"}),e.jsx("button",{type:"button",onClick:()=>n?.("experience"),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary/40 hover:text-primary",children:"Edit"})]}),e.jsx("div",{className:"mt-5 space-y-4",children:r?o.map((c,u)=>{const p=t4(c),b=s4(c?.type);return e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white px-5 py-4 shadow-sm",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("p",{className:"text-lg font-semibold text-slate-900",children:c?.title||"Role title"}),b?e.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-primary/70",children:b}):null]}),c?.company?e.jsx("p",{className:"text-sm text-slate-500",children:c.company}):null,p?e.jsx("p",{className:"mt-1 text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:p}):null,c?.description?e.jsx("p",{className:"mt-3 text-sm text-slate-600 leading-relaxed",children:c.description}):null]},c?.id||`${c?.company||"company"}-${c?.title||"role"}-${u}`)}):e.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 px-5 py-6 text-center text-sm text-slate-500",children:[e.jsx("p",{className:"font-semibold text-slate-600",children:"No experience added yet"}),e.jsx("p",{className:"mt-2 text-xs uppercase tracking-[0.2em]",children:"Use the Edit button to share your roles."})]})})]})},Ob=({education:a=[],onEditSection:n})=>{const r=[...a].sort((u,p)=>{const b=g=>{if(g.isCurrent)return g.expectedPassoutYear?g.expectedPassoutYear:new Date().getFullYear();if(g.passoutYear)return g.passoutYear;if(g.admissionYear)return g.admissionYear;if(g.year){const h=parseInt(g.year);if(!isNaN(h))return h}return 0},y=b(u);return b(p)-y}),o=u=>{let p=u.degree||"";return u.otherDegree&&(p+=p?` - ${u.otherDegree}`:u.otherDegree),u.field&&u.field!==u.degree&&!p.includes(u.field)&&(p+=p?`, ${u.field}`:u.field),p},c=u=>u.isCurrent?u.admissionYear&&u.expectedPassoutYear?`Jan ${u.admissionYear} - Present`:u.admissionYear?`Jan ${u.admissionYear} - Present`:u.expectedPassoutYear?`Expected ${u.expectedPassoutYear}`:"Currently Pursuing":u.admissionYear&&u.passoutYear?`Jan ${u.admissionYear} - Jun ${u.passoutYear}`:u.passoutYear?`Jun ${u.passoutYear}`:u.admissionYear?`Jan ${u.admissionYear}`:u.year?u.year:"Year not specified";return e.jsxs("section",{className:"rounded-3xl bg-white p-6 shadow-soft",children:[e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-500",children:"Education"}),e.jsx("button",{type:"button",onClick:()=>n?.("education"),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary/40 hover:text-primary",children:"Edit"})]}),e.jsx("div",{className:"mt-5 space-y-4",children:r.length>0?r.map(u=>e.jsx("article",{className:"rounded-2xl border border-slate-200 bg-white px-5 py-4 shadow-sm",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-lg font-semibold text-slate-900",children:u.school}),e.jsx("p",{className:"text-sm text-slate-600",children:o(u)}),e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:c(u)}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[u.cgpa&&e.jsxs("span",{className:"rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-700",children:["CGPA: ",u.cgpa]}),u.isCurrent&&e.jsx("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-xs font-semibold text-blue-700",children:"Currently Pursuing"})]})]})},`${u.school}-${u.degree}`)):e.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 px-5 py-6 text-center text-sm text-slate-500",children:[e.jsx("p",{className:"font-semibold text-slate-600",children:"No education history yet"}),e.jsx("p",{className:"mt-2 text-xs uppercase tracking-[0.2em]",children:"Use the Edit button to include your academic milestones."})]})})]})},Bb=({certifications:a=[],onEditSection:n})=>{const r=Array.isArray(a)&&a.length>0,o=c=>{if(!c)return"";try{const[u,p]=c.split("-");return new Date(u,p-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})}catch{return c}};return e.jsxs("section",{className:"rounded-3xl bg-white p-6 shadow-soft",children:[e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-500",children:"Certifications"}),n?e.jsx("button",{type:"button",onClick:()=>n("badges"),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary/40 hover:text-primary",children:"Edit"}):null]}),e.jsx("div",{className:"mt-5 space-y-4",children:r?a.map((c,u)=>e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white px-5 py-4 shadow-sm",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-slate-900",children:c.title}),e.jsx("p",{className:"text-sm text-slate-500",children:c.organization}),c.location&&e.jsx("p",{className:"text-sm text-slate-600",children:c.location}),c.date&&e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:o(c.date)})]}),c.fileName&&e.jsx("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-xs font-semibold text-blue-700",children:"Certificate"})]}),c.fileName&&e.jsxs("p",{className:"mt-2 text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:["Document: ",c.fileName]})]},`${c.organization}-${c.title}-${u}`)):e.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 px-5 py-6 text-center text-sm text-slate-500",children:[e.jsx("p",{className:"font-semibold text-slate-600",children:"No certifications added yet"}),e.jsx("p",{className:"mt-2 text-xs uppercase tracking-[0.2em]",children:"Use the Edit button to add your professional certifications."})]})})]})},a4=({profile:a,onBack:n})=>{const r=a.role||"alumni";return e.jsxs("div",{className:"space-y-10 font-profile",children:[e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm font-semibold text-slate-600",children:[e.jsxs("button",{type:"button",onClick:n,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-slate-600 transition hover:border-primary/30 hover:text-primary",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:e.jsx("path",{d:"M15 18l-6-6 6-6"})}),"Back to Directory"]}),e.jsx("span",{className:"hidden text-xs uppercase tracking-[0.2em] text-slate-400 sm:inline",children:"Profile"})]}),e.jsx("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.2em] text-primary",children:"AlumniConnect"})]}),e.jsx(Tb,{profile:a,showConnectButtons:!0}),e.jsx("div",{className:"grid gap-8 lg:grid-cols-[320px_1fr] xl:gap-10",children:r==="faculty"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("header",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-500",children:"Contact"})}),e.jsxs("div",{className:"mt-4 space-y-3 text-sm text-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-slate-100 bg-slate-50 px-3 py-2",children:[e.jsx("span",{className:"text-primary",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e.jsx("polyline",{points:"22,6 12,13 2,6"})]})}),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:a.contact?.email||"Not available"})]}),e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-slate-100 bg-slate-50 px-3 py-2",children:[e.jsx("span",{className:"text-primary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})}),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:a.contact?.phone||"Not available"})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("header",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-500",children:"Socials"})}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.socials?.linkedin?e.jsx("a",{href:a.socials.linkedin,target:"_blank",rel:"noopener noreferrer",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-500 transition hover:border-primary hover:text-primary","aria-label":"LinkedIn",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}):null,a.socials?.github?e.jsx("a",{href:a.socials.github,target:"_blank",rel:"noopener noreferrer",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-500 transition hover:border-primary hover:text-primary","aria-label":"GitHub",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:e.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}):null]}),Object.keys(a.socials||{}).length===0&&e.jsx("span",{className:"text-xs text-slate-400",children:"No social profiles available."})]})]})]})}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("header",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-500",children:"About"})}),e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-sm leading-6 text-slate-600",children:a.about||"No information available."})})]}),e.jsx(Vi,{experiences:a.experiences||[]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(_b,{profile:a,role:r}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(Vi,{experiences:a.experiences||[]}),e.jsx(Ob,{education:a.education||[]}),e.jsx(Bb,{certifications:a.certifications||[]})]})]})})]})},Jf=()=>{const{profileId:a}=Et(),n=Te(),{loading:r,profile:o,error:c}=Iw(a),u=x.useMemo(()=>o?{...o,contact:{email:o.email,phone:o.phone,...o.contact},socials:o.socials||{},certifications:o.badges||o.certifications||[],experiences:o.experiences||[],education:o.education||[],skills:o.skills||[]}:null,[o]),p=()=>{const y=`/dashboard/directory/${o?.role||"alumni"}`;n(y)};return r?e.jsx("div",{className:"flex h-60 items-center justify-center rounded-2xl border border-dashed border-slate-200 bg-white",children:e.jsx("p",{className:"text-sm text-slate-500",children:"Loading profile"})}):c?e.jsxs("div",{className:"mx-auto max-w-5xl space-y-6 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Unable to load profile"}),e.jsx("button",{onClick:p,className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Back to Directory"})]}),e.jsx("p",{className:"text-slate-500",children:c.message??"Please try again later."})]}):u?e.jsx(a4,{profile:u,onBack:p}):e.jsxs("div",{className:"mx-auto max-w-5xl space-y-6 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Profile Not Found"}),e.jsx("button",{onClick:p,className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Back to Directory"})]}),e.jsx("p",{className:"text-slate-500",children:"The profile you are looking for does not exist or may have been moved."})]})},l4=a=>{if(!a)return null;if(typeof a=="string")return{value:a.toLowerCase(),label:a};const n=a.value??a.label??"";return n?{value:n.toLowerCase(),label:a.label??a.value??n}:null},n4=({search:a,onSearchChange:n,industry:r,onIndustryChange:o,industries:c=[],loading:u=!1})=>{const p=(()=>{const b=new Set(["all industries"]),y=[{value:"all industries",label:"All Industries"}],f=c.map(l4).filter(g=>g&&!b.has(g.value)).map(g=>(b.add(g.value),g));return[...y,...f]})();return e.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-2xl bg-white p-4 shadow-sm",children:[e.jsxs("label",{className:"relative flex-1 min-w-[200px]",children:[e.jsx("span",{className:"sr-only",children:"Search by expertise"}),e.jsx("span",{className:"pointer-events-none absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:e.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"9",cy:"9",r:"7"}),e.jsx("path",{d:"M14 14l4 4",strokeLinecap:"round"})]})}),e.jsx("input",{type:"search",value:a,onChange:b=>n?.(b.target.value),placeholder:"Search by expertise...",className:"w-full rounded-full border border-slate-200 px-11 py-2.5 text-sm text-slate-700 placeholder:text-slate-400 focus:border-primary focus:outline-none"})]}),e.jsx("select",{value:r,onChange:b=>o?.(b.target.value),disabled:u,className:"rounded-full border border-slate-200 px-4 py-2.5 text-sm text-slate-700 focus:border-primary focus:outline-none disabled:cursor-not-allowed disabled:bg-slate-50 disabled:text-slate-400",children:p.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))}),e.jsx("button",{type:"button",className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-300",children:"Filter"})]})},r4=({mentor:a,onViewProfile:n})=>{const{name:r,position:o,avatar:c,rating:u}=a,p=typeof u=="number"&&!Number.isNaN(u);return e.jsxs("article",{className:"relative flex flex-col items-center gap-4 rounded-[28px] border border-slate-100 bg-white p-6 text-center shadow-[0_12px_30px_-18px_rgba(30,64,175,0.35)] transition hover:-translate-y-1 hover:shadow-[0_20px_50px_-18px_rgba(30,64,175,0.4)]",children:[e.jsx("div",{className:"size-24 rounded-full border-4 border-white bg-slate-100 shadow-[0_8px_25px_-12px_rgba(15,23,42,0.45)]",children:e.jsx("img",{src:c,alt:`${r} avatar`,className:"size-full rounded-full object-cover"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:r}),o?e.jsx("p",{className:"text-sm font-medium text-sky-600",children:o}):null]}),p?e.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full bg-amber-50 px-3 py-1 text-sm font-semibold text-amber-500",children:[e.jsx("svg",{viewBox:"0 0 20 20",className:"h-4 w-4 fill-current","aria-hidden":!0,children:e.jsx("path",{d:"M10 1.5l2.47 5.01 5.53.8-4 3.9.94 5.5L10 13.9 5.06 16.7 6 11.2l-4-3.9 5.53-.8z"})}),u.toFixed(1)]}):null,e.jsx("button",{type:"button",onClick:n,className:"w-full rounded-full border border-primary/70 px-5 py-2 text-sm font-semibold text-primary transition hover:bg-primary hover:text-white",children:"View Profile"})]})},vi="/api/mentors/me/services",i4={online:"Online",offline:"Offline",hybrid:"Hybrid"},o4={active:"Active",inactive:"Inactive"},Gd=(a={})=>a?{id:a.id||a._id||"",title:a.title?.trim()||"",description:a.description?.trim()||"",duration:a.duration?.trim()||"",price:typeof a.price=="number"?a.price:Number(a.price??0),mode:a.mode?.toLowerCase?.()||"online",status:a.status?.toLowerCase?.()||"active",createdAt:a.createdAt?new Date(a.createdAt):null,updatedAt:a.updatedAt?new Date(a.updatedAt):null}:null,Xd=(a=[])=>[...a].sort((n,r)=>n.createdAt&&r.createdAt?r.createdAt-n.createdAt:n.title.localeCompare(r.title)),c4=()=>{const[a,n]=x.useState([]),[r,o]=x.useState(!0),[c,u]=x.useState(null),p=je(),b=x.useCallback(async()=>{o(!0),u(null);try{const h=await ce(vi),v=Array.isArray(h?.data)?h.data:Array.isArray(h)?h:[],C=Xd(v.map(Gd).filter(Boolean));n(C)}catch(h){u(h),p?.({title:"Unable to load services",description:h?.message??"Please try again later.",tone:"error"})}finally{o(!1)}},[p]);x.useEffect(()=>{b()},[b]);const y=x.useCallback(async h=>{try{u(null);const v=await _e(vi,h),C=Gd(v?.data??v);return C&&n(N=>Xd([C,...N])),p?.({title:"Service created",description:"Your mentorship service is now live.",tone:"success"}),C}catch(v){throw u(v),p?.({title:"Unable to create service",description:v?.message??"Please try again later.",tone:"error"}),v}},[p]),f=x.useCallback(async(h,v)=>{try{u(null);const C=await Pt(`${vi}/${h}`,v),N=Gd(C?.data??C);return N&&n(k=>Xd(k.map(j=>j.id===N.id?N:j))),p?.({title:"Service updated",description:"Changes saved successfully.",tone:"success"}),N}catch(C){throw u(C),p?.({title:"Unable to update service",description:C?.message??"Please try again later.",tone:"error"}),C}},[p]),g=x.useCallback(async h=>{try{u(null),await Dl(`${vi}/${h}`),n(v=>v.filter(C=>C.id!==h)),p?.({title:"Service removed",description:"The mentorship service has been deleted.",tone:"success"})}catch(v){throw u(v),p?.({title:"Unable to delete service",description:v?.message??"Please try again later.",tone:"error"}),v}},[p]);return x.useMemo(()=>({services:a,loading:r,error:c,refresh:b,createService:y,updateService:f,deleteService:g,modeLabels:i4,statusLabels:o4}),[a,r,c,b,y,f,g])},ji="/api/mentors/me/resources",Wd=(a={})=>a?{id:a.id||a._id||"",title:a.title?.trim()||"",description:a.description?.trim()||"",type:a.type?.toLowerCase?.()||"other",status:a.status?.toLowerCase?.()||"active",url:a.url||"",filePublicId:a.filePublicId||"",fileName:a.fileName||"",fileType:a.fileType||"",fileSize:typeof a.fileSize=="number"?a.fileSize:Number(a.fileSize??0),createdAt:a.createdAt?new Date(a.createdAt):null,updatedAt:a.updatedAt?new Date(a.updatedAt):null}:null,Qd=(a=[])=>[...a].sort((n,r)=>n.createdAt&&r.createdAt?r.createdAt-n.createdAt:n.title.localeCompare(r.title)),d4=()=>{const[a,n]=x.useState([]),[r,o]=x.useState(!0),[c,u]=x.useState(null),p=je(),b=x.useCallback(async()=>{o(!0),u(null);try{const h=await ce(ji),v=Array.isArray(h?.data)?h.data:Array.isArray(h)?h:[],C=Qd(v.map(Wd).filter(Boolean));n(C)}catch(h){u(h),p?.({title:"Unable to load resources",description:h?.message??"Please try again later.",tone:"error"})}finally{o(!1)}},[p]);x.useEffect(()=>{b()},[b]);const y=x.useCallback(async({title:h,description:v,type:C,status:N,url:k,file:j})=>{try{u(null);const S=new FormData;S.append("title",h),S.append("description",v??""),S.append("type",C),S.append("status",N),k&&S.append("url",k),j&&S.append("file",j);const _=await _e(ji,S),B=Wd(_?.data??_);return B&&n(D=>Qd([B,...D])),p?.({title:"Resource uploaded",description:"Your resource is now available for mentees.",tone:"success"}),B}catch(S){throw u(S),p?.({title:"Unable to upload resource",description:S?.message??"Please try again later.",tone:"error"}),S}},[p]),f=x.useCallback(async(h,{title:v,description:C,type:N,status:k,url:j,file:S})=>{try{u(null);const _=new FormData;_.append("title",v),_.append("description",C??""),_.append("type",N),_.append("status",k),j&&_.append("url",j),S&&_.append("file",S);const B=await Pt(`${ji}/${h}`,_),D=Wd(B?.data??B);return D&&n(E=>Qd(E.map(P=>P.id===D.id?D:P))),p?.({title:"Resource updated",description:"Changes saved successfully.",tone:"success"}),D}catch(_){throw u(_),p?.({title:"Unable to update resource",description:_?.message??"Please try again later.",tone:"error"}),_}},[p]),g=x.useCallback(async h=>{try{u(null),await Dl(`${ji}/${h}`),n(v=>v.filter(C=>C.id!==h)),p?.({title:"Resource deleted",description:"The resource has been removed.",tone:"success"})}catch(v){throw u(v),p?.({title:"Unable to delete resource",description:v?.message??"Please try again later.",tone:"error"}),v}},[p]);return x.useMemo(()=>({resources:a,loading:r,error:c,refresh:b,createResource:y,updateResource:f,deleteResource:g}),[a,r,c,b,y,f,g])},Jd="/api/mentors/me/sessions",Zd=(a={})=>a?{id:a.id||a._id||"",menteeName:a.menteeName||"",menteeEmail:a.menteeEmail||"",menteeAvatar:a.menteeAvatar||"",serviceName:a.serviceName||"",sessionDate:a.sessionDate?new Date(a.sessionDate):null,durationMinutes:typeof a.durationMinutes=="number"?a.durationMinutes:Number(a.durationMinutes??0),status:a.status||"completed",mode:a.mode||"online",notes:a.notes||"",feedback:a.feedback?{rating:typeof a.feedback.rating=="number"?a.feedback.rating:null,comment:a.feedback.comment||"",submittedAt:a.feedback.submittedAt?new Date(a.feedback.submittedAt):null}:null,createdAt:a.createdAt?new Date(a.createdAt):null,updatedAt:a.updatedAt?new Date(a.updatedAt):null}:null,Zf=(a=[])=>[...a].sort((n,r)=>n.sessionDate&&r.sessionDate?r.sessionDate-n.sessionDate:r.createdAt-n.createdAt),zb=()=>{const[a,n]=x.useState([]),[r,o]=x.useState(!0),[c,u]=x.useState(null),p=je(),b=x.useCallback(async()=>{o(!0),u(null);try{const g=await ce(Jd),h=Array.isArray(g?.data)?g.data:Array.isArray(g)?g:[];n(Zf(h.map(Zd).filter(Boolean)))}catch(g){u(g),p?.({title:"Unable to load session history",description:g?.message??"Please try again later.",tone:"error"})}finally{o(!1)}},[p]);x.useEffect(()=>{b()},[b]);const y=x.useCallback(async g=>{try{const h=await ce(`${Jd}/${g}`);return Zd(h?.data??h)}catch(h){throw p?.({title:"Unable to load session details",description:h?.message??"Please try again later.",tone:"error"}),h}},[p]),f=x.useCallback(async(g,h)=>{try{const v=await Pt(`${Jd}/${g}`,h),C=Zd(v?.data??v);return C&&n(N=>Zf(N.map(k=>k.id===C.id?C:k))),p?.({title:"Session updated",description:"Session details have been saved.",tone:"success"}),C}catch(v){throw p?.({title:"Unable to update session",description:v?.message??"Please try again later.",tone:"error"}),v}},[p]);return x.useMemo(()=>({sessions:a,loading:r,error:c,refresh:b,getSessionDetails:y,updateSession:f}),[a,r,c,b,y,f])},Kf="/api/mentors/me/requests",u4="/api/mentors/my-requests",Kd=a=>a?typeof a=="string"?a:a instanceof Date?a.toISOString():a&&typeof a.toString=="function"?a.toString():String(a):"",ia=(a={})=>{if(!a)return null;const n=a.createdAt?new Date(a.createdAt):null,r=a.updatedAt?new Date(a.updatedAt):null,o=a.preferredDateTime?new Date(a.preferredDateTime):null,c=a.scheduledDateTime?new Date(a.scheduledDateTime):null,u=Array.isArray(a.proposedSlots)?a.proposedSlots.map(p=>{if(!p||!p.slotDate)return null;const b=new Date(p.slotDate);return Number.isNaN(b.getTime())?null:{slotDate:b,mode:p.mode||"online"}}).filter(Boolean):[];return{id:a.id||a._id||"",mentorId:Kd(a.mentor),menteeId:Kd(a.mentee),serviceId:Kd(a.service),serviceName:a.serviceName||"",serviceDuration:a.serviceDuration||"",serviceMode:a.serviceMode||a.preferredMode||"online",servicePrice:typeof a.servicePrice=="number"?a.servicePrice:Number(a.servicePrice??0),menteeName:a.menteeName||"",menteeEmail:a.menteeEmail||"",menteeAvatar:a.menteeAvatar||"",menteeSkills:Array.isArray(a.menteeSkills)?a.menteeSkills.filter(Boolean):[],mentorName:a.mentorName||"",mentorEmail:a.mentorEmail||"",mentorAvatar:a.mentorAvatar||"",preferredDateTime:o,preferredMode:a.preferredMode||a.serviceMode||"online",scheduledDateTime:c,scheduledMode:a.scheduledMode||"",proposedSlots:u,meetingLink:a.meetingLink||"",notes:a.notes||"",status:(a.status||"pending").toLowerCase(),session:a.session||null,createdAt:n,updatedAt:r}},yl=(a=[])=>[...a].sort((n,r)=>n.createdAt&&r.createdAt?r.createdAt-n.createdAt:n.menteeName.localeCompare(r.menteeName)),Ub=()=>{const{role:a,user:n}=ye(),[r,o]=x.useState([]),[c,u]=x.useState(!0),[p,b]=x.useState(null),y=je(),f=(a||n?.role||n?.profile?.role||"").toLowerCase(),g=["student","alumni-student"].includes(f)?u4:Kf,h=Kf,v=x.useCallback(async()=>{u(!0),b(null);try{const D=await ce(g),P=(Array.isArray(D?.data)?D.data:Array.isArray(D)?D:[]).map(ia).filter(Boolean);o(yl(P))}catch(D){b(D),y?.({title:"Unable to load requests",description:D?.message??"Please try again later.",tone:"error"})}finally{u(!1)}},[y,g]);x.useEffect(()=>{v()},[v]);const C=x.useCallback(async D=>{const E=await ce(`${h}/${D}`),P=E?.request??E?.data??E,z=E?.session;return{request:ia(P),session:z?ia(z):null}},[h]),N=x.useCallback(async(D,E={})=>{try{const P=await _e(`${h}/${D}/accept`,E),z=ia(P?.data??P);return z&&o($=>yl($.map(F=>F.id===z.id?z:F))),y?.({title:"Request accepted",description:"The mentee will be notified of your acceptance.",tone:"success"}),z}catch(P){throw y?.({title:"Unable to accept request",description:P?.message??"Please try again later.",tone:"error"}),P}},[y,h]),k=x.useCallback(async D=>{try{const E=await _e(`${h}/${D}/reject`),P=ia(E?.data??E);return P&&o(z=>yl(z.map($=>$.id===P.id?P:$))),y?.({title:"Request rejected",description:"The mentee will be notified of your decision.",tone:"success"}),P}catch(E){throw y?.({title:"Unable to reject request",description:E?.message??"Please try again later.",tone:"error"}),E}},[y]),j=x.useCallback(async(D,E={})=>{try{const P=await _e(`${h}/${D}/confirm`,E),z=ia(P?.data??P);return z&&o($=>yl($.map(F=>F.id===z.id?z:F))),y?.({title:"Schedule confirmed",description:"Your mentorship session has been scheduled successfully.",tone:"success"}),z}catch(P){throw y?.({title:"Unable to confirm schedule",description:P?.message??"Please try again later.",tone:"error"}),P}},[y,h]),S=x.useCallback(async(D,E)=>{try{const P=await _e(`${h}/${D}/meeting-link`,{meetingLink:E}),z=ia(P?.data??P);return z&&o($=>yl($.map(F=>F.id===z.id?z:F))),y?.({title:"Meeting link updated",description:"The meeting link has been shared with the mentee.",tone:"success"}),z}catch(P){throw y?.({title:"Unable to update meeting link",description:P?.message??"Please try again later.",tone:"error"}),P}},[y,h]),_=x.useCallback(async D=>{try{const E=await _e(`${h}/${D}/review`,{}),P=ia(E?.data??E);return P&&o(z=>yl(z.map($=>$.id===P.id?P:$))),y?.({title:"Request marked for review",description:"The mentorship request has been moved to review status.",tone:"success"}),P}catch(E){throw y?.({title:"Unable to mark for review",description:E?.message??"Please try again later.",tone:"error"}),E}},[y,h]),B=(n?._id||n?.id||n?.profile?._id||n?.profile?.id||"").toString();return x.useMemo(()=>({requests:r,loading:c,error:p,refresh:v,getRequestDetails:C,acceptRequest:N,rejectRequest:k,reviewRequest:_,confirmRequest:j,updateMeetingLink:S,selfId:B,role:f}),[r,c,p,v,C,N,k,_,j,B,f])},m4="/api/mentors/dashboard/overview",vl=a=>{const n=Number(a??0);return Number.isNaN(n)||n<0?0:n},x4=(a={})=>a?{id:a.id||a._id||"",menteeName:a.menteeName||"",serviceName:a.serviceName||"",sessionDate:a.sessionDate?new Date(a.sessionDate):null,mode:a.mode||"online",status:a.status||"scheduled"}:null,p4=(a={})=>a?{id:a.id||a._id||"",menteeName:a.menteeName||"",serviceName:a.serviceName||"",status:a.status||"pending",createdAt:a.createdAt?new Date(a.createdAt):null}:null,h4=(a={})=>a?{id:a.id||a._id||"",menteeName:a.menteeName||"",serviceName:a.serviceName||"",rating:typeof a.rating=="number"?a.rating:null,comment:a.comment||"",submittedAt:a.submittedAt?new Date(a.submittedAt):null}:null,f4=()=>{const[a,n]=x.useState({totalSessions:0,upcomingSessions:0,completedSessions:0,totalMentees:0,activeServices:0,pendingRequests:0}),[r,o]=x.useState([]),[c,u]=x.useState([]),[p,b]=x.useState([]),[y,f]=x.useState(!0),[g,h]=x.useState(null),v=je(),C=x.useCallback(async()=>{f(!0),h(null);try{const N=await ce(m4),k=N?.data??N,j={totalSessions:vl(k?.metrics?.totalSessions),upcomingSessions:vl(k?.metrics?.upcomingSessions),completedSessions:vl(k?.metrics?.completedSessions),totalMentees:vl(k?.metrics?.totalMentees),activeServices:vl(k?.metrics?.activeServices),pendingRequests:vl(k?.metrics?.pendingRequests)},S=Array.isArray(k?.upcomingSessions)?k.upcomingSessions.map(x4).filter(Boolean):[],_=Array.isArray(k?.recentRequests)?k.recentRequests.map(p4).filter(Boolean):[],B=Array.isArray(k?.recentFeedback)?k.recentFeedback.map(h4).filter(Boolean):[];n(j),o(S),u(_),b(B)}catch(N){h(N),v?.({title:"Unable to load mentor dashboard",description:N?.message??"Please try again later.",tone:"error"})}finally{f(!1)}},[v]);return x.useEffect(()=>{C()},[C]),x.useMemo(()=>({metrics:a,upcomingSessions:r,recentRequests:c,recentFeedback:p,loading:y,error:g,refresh:C}),[a,r,c,p,y,g,C])},b4=[{key:"totalSessions",label:"Total Sessions",accent:"bg-primary/10 text-primary"},{key:"upcomingSessions",label:"Upcoming Sessions",accent:"bg-sky-100 text-sky-600"},{key:"completedSessions",label:"Completed Sessions",accent:"bg-emerald-100 text-emerald-600"},{key:"totalMentees",label:"Total Mentees",accent:"bg-amber-100 text-amber-600"},{key:"activeServices",label:"Active Services",accent:"bg-violet-100 text-violet-600"},{key:"pendingRequests",label:"Pending Requests",accent:"bg-rose-100 text-rose-600"}],eu=a=>{if(!a)return"";const n=a.toString().trim();return n?n.charAt(0).toUpperCase()+n.slice(1):""},tu=a=>{if(!a)return"";try{return a.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}catch{return""}},g4=()=>{const{metrics:a,upcomingSessions:n,recentRequests:r,recentFeedback:o,loading:c,error:u,refresh:p}=f4(),b=x.useMemo(()=>b4.map(f=>({...f,value:a?.[f.key]??0})),[a]),y=(f,g,h,v)=>f?e.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 text-sm text-slate-500",children:"Loading"}):g?e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/60 p-6 text-sm text-rose-600",children:g.message??"Unable to load data."}):h?null:e.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 text-sm text-slate-500",children:v});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{className:"flex flex-col gap-3 rounded-3xl border border-slate-200 bg-slate-50/60 p-6 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Mentor Dashboard"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Track the health of your mentorship activity and recent engagement."})]}),e.jsx("button",{type:"button",onClick:p,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Refresh"})]}),e.jsx("section",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:b.map(f=>e.jsxs("article",{className:"space-y-3 rounded-3xl border border-slate-200 bg-white p-5 shadow-sm",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:f.label}),e.jsx("p",{className:"text-3xl font-semibold text-slate-900",children:f.value}),e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${f.accent}`,children:f.label})]},f.key))}),e.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4 rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("header",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Upcoming Sessions"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Stay prepared for your next mentorship touchpoints."})]})}),y(c,u,n.length,"No upcoming sessions scheduled.")||e.jsx("ul",{className:"space-y-3",children:n.map(f=>e.jsxs("li",{className:"rounded-2xl border border-slate-200 bg-slate-50/60 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[e.jsx("span",{className:"font-semibold text-slate-900",children:f.menteeName}),e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600",children:eu(f.status)})]}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:f.serviceName||""}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-xs text-slate-500",children:[e.jsx("span",{children:tu(f.sessionDate)}),e.jsxs("span",{children:["Mode: ",eu(f.mode)]})]})]},f.id))})]}),e.jsxs("div",{className:"space-y-4 rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("header",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Recent Requests"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Latest mentee requests awaiting your response."})]})}),y(c,u,r.length,"No recent requests to show.")||e.jsx("ul",{className:"space-y-3",children:r.map(f=>e.jsxs("li",{className:"rounded-2xl border border-slate-200 bg-slate-50/60 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[e.jsx("span",{className:"font-semibold text-slate-900",children:f.menteeName}),e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600",children:eu(f.status)})]}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:f.serviceName||""}),e.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Requested ",tu(f.createdAt)]})]},f.id))})]})]}),e.jsxs("section",{className:"space-y-4 rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("header",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Recent Feedback"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Insights from mentees on your sessions."})]})}),y(c,u,o.length,"No feedback received yet.")||e.jsx("ul",{className:"space-y-3",children:o.map(f=>e.jsxs("li",{className:"rounded-2xl border border-slate-200 bg-slate-50/60 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[e.jsx("span",{className:"font-semibold text-slate-900",children:f.menteeName||"Mentee"}),f.rating?e.jsxs("span",{className:"rounded-full bg-amber-100 px-3 py-1 text-xs font-semibold text-amber-600",children:[f.rating.toFixed(1)," "]}):e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600",children:"No rating"})]}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:f.serviceName||""}),e.jsx("p",{className:"mt-2 text-sm text-slate-600",children:f.comment?`${f.comment}`:"No written feedback."}),e.jsx("p",{className:"mt-2 text-xs text-slate-400",children:f.submittedAt?`Submitted ${tu(f.submittedAt)}`:"Submission date unknown"})]},f.id))})]})]})},e0={experience:[],rating:[],availability:[],tags:[]},y4=[{key:"experience",label:"Experience Level",options:["0-3 years","4-7 years","8-12 years","12+ years"],description:"Match mentors by professional tenure."},{key:"rating",label:"Mentor Rating",options:["4.0 and above","4.5 and above","Top rated"],description:"Filter based on community feedback averages."},{key:"availability",label:"Preferred Mode",options:["Video Call","Chat / Email","In person"],description:"Find mentors offering your ideal session type."}],su=a=>a?Array.isArray(a)?a.filter(Boolean):String(a).split(",").map(n=>n.trim()).filter(Boolean):[],t0=[{label:"Basic Info",caption:"Step 1: Basic Information"},{label:"Professional",caption:"Step 2: Professional Details"},{label:"Preferences",caption:"Step 3: Mentorship Preferences"}],s0=["IT","Finance","Core","Startup","Government","Other"],v4=["React","Java","Data Science","DevOps","MBA","UI/UX"],j4=["Career Guidance","Placements","Higher Studies","Startup Guidance","Resume Review","Interview Preparation"],N4=["B.E. Computer Engineering","B.E. Information Technology","B.E. Electronics & Telecommunication","B.E. Mechanical Engineering","B.E. Civil Engineering","B.Tech Computer Engineering","B.Tech Information Technology","M.E. Computer Engineering","M.E. Information Technology","M.Tech Computer Engineering","MCA","Other"],a0=["Computer Engineering","Information Technology","Artificial Intelligence & Data Science","Electronics & Telecommunication Engineering","Mechanical Engineering","Civil Engineering","Electronics Engineering (VLSI Design And Technology)","Electronics & Communication (Advanced Communication Technology)","School of Architecture","Other"],l0=["UG","PG","Any"],n0=["12 hours","25 hours","5+ hours"],w4=["Chat","Call","Video"],S4=[{key:"dashboard",label:"Dashboard",icon:"dashboard"},{key:"profile",label:"Manage Profile",icon:"user"},{key:"mentees",label:"Mentees & Requests",icon:"users"},{key:"services",label:"Services Management",icon:"settings"},{key:"sessions",label:"Sessions",icon:"video"},{key:"resources",label:"Resources",icon:"library"},{key:"history",label:"History",icon:"history"}],r0=()=>{const a=Te(),{panelSection:n}=Et(),{role:r,user:o,updateUser:c}=ye(),[u,p]=x.useState(""),[b,y]=x.useState("all industries"),[f,g]=x.useState(!1),[h,v]=x.useState(!1),[C,N]=x.useState(e0),{items:k,loading:j,error:S,apply:_}=so(),D=[r,o?.role,o?.profile?.role].find(J=>typeof J=="string"&&J.trim())?.toLowerCase()==="alumni",E=o?.profile?._id||o?.profile?.id||o?.id||null,P=x.useMemo(()=>E?(Array.isArray(k)?k:[]).find(M=>M.profileId===E||M.applicationId===E)??null:null,[k,E]),z=!!P;x.useEffect(()=>{P&&!o?.isMentor&&c({isMentor:!0,profile:{...o?.profile??{},isMentor:!0}})},[P,c,o?.isMentor,o?.profile]);const $=x.useMemo(()=>{const J=new Set;return(Array.isArray(k)?k:[]).forEach(M=>{if(!(M.profileId===E||M.applicationId===E||M.id===E)){const se=(M.industry??"").toLowerCase();se&&J.add(se)}}),Array.from(J).sort()},[k,E]),F=x.useMemo(()=>{const J=Array.isArray(k)?k:[],M=u.trim().toLowerCase();return J.filter(Q=>{if(Q.profileId===E||Q.applicationId===E||Q.id===E)return!1;const V=(Q.industry??"").toLowerCase(),re=su(Q.tags),oe=su(Q.availability),me=b==="all industries"||V===b,Ye=!M||re.some(be=>be.toLowerCase().includes(M))||(Q.fullName??"").toLowerCase().includes(M)||(Q.position??"").toLowerCase().includes(M);if(!me||!Ye)return!1;if(C.experience.length){const be=Q.experience??"";if(!C.experience.includes(be))return!1}if(C.rating.length){const be=Number(Q.rating??0);if(!C.rating.some(ns=>ns==="4.0 and above"?be>=4:ns==="4.5 and above"?be>=4.5:ns==="Top rated"?be>=4.8:!1))return!1}return!(C.availability.length&&!C.availability.some(be=>oe.includes(be))||C.tags.length&&!C.tags.some(be=>re.includes(be)))})},[k,b,u,C,E]),H=x.useMemo(()=>{const J=new Set;return(Array.isArray(k)?k:[]).forEach(M=>{M.profileId===E||M.applicationId===E||M.id===E||su(M.tags).forEach(se=>J.add(se))}),Array.from(J).sort((M,Q)=>M.localeCompare(Q))},[k,E]),U=x.useMemo(()=>({dashboard:C4,profile:k4,mentees:A4,services:M4,sessions:D4,resources:_4,history:O4}),[]),T=x.useMemo(()=>!n||!U[n]?null:S4.find(J=>J.key===n)??null,[n,U]),O=T?U[T.key]:null,Y=T?.label??"",W=n==="become",I=x.useCallback(async J=>{const M=await _(J);return M&&c({isMentor:!0,profile:{...o?.profile??{},isMentor:!0}}),M},[_,c,o?.profile]),A=x.useCallback(()=>{g(!1),a("/dashboard/mentorship/dashboard")},[a]);x.useEffect(()=>{if(W&&z){a("/dashboard/mentorship/dashboard",{replace:!0});return}g(!!W)},[W,z,a]);const R=x.useCallback(()=>{W?g(!0):a("/dashboard/mentorship/become")},[W,a]),q=x.useCallback(()=>{g(!1),W&&a("/dashboard/mentorship",{replace:!0})},[W,a]);return e.jsxs("div",{className:"space-y-8",children:[O?e.jsxs("section",{className:"space-y-6",children:[e.jsxs("header",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-primary",children:"Mentor Panel"}),e.jsx("h1",{className:"mt-2 text-2xl font-bold text-slate-900",children:Y}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Manage your mentorship presence."})]}),e.jsx(O,{})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Mentorship Program"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Connect with mentors from across industries."})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>v(J=>!J),className:`rounded-full border px-5 py-2 text-sm font-semibold transition ${C.availability.length||C.experience.length||C.rating.length||C.tags.length?"border-primary/60 text-primary hover:border-primary hover:text-primary":"border-slate-200 text-slate-600 hover:border-primary/40 hover:text-primary"}`,children:["Filters",e.jsx("svg",{className:`ml-2 inline h-3 w-3 transition-transform ${h?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M5 8l5 5 5-5"})})]}),e.jsxs("button",{type:"button",onClick:()=>a("/dashboard/mentorship/ai-match"),className:"flex items-center gap-2 rounded-full bg-gradient-to-r from-[#4285f4] via-[#9c47ff] to-[#34a853] px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#9c47ff]",children:[e.jsx("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded-full bg-white/20 text-[10px] font-bold",children:"AI"}),"AI Match Mentor"]}),D&&!z&&e.jsx("button",{type:"button",onClick:R,className:"rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white transition hover:bg-primary-dark",children:"Apply to be a Mentor"})]})]}),e.jsx(n4,{search:u,onSearchChange:p,industry:b,onIndustryChange:J=>y(J||"all industries"),industries:$,loading:j}),h&&e.jsxs("section",{className:"space-y-6 rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Refine mentors"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Combine filters to find the perfect mentor match."})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{N(e0),v(!1)},className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Reset"}),e.jsx("button",{type:"button",onClick:()=>v(!1),className:"rounded-full bg-primary px-4 py-2 text-xs font-semibold text-white transition hover:bg-primary/90",children:"Apply"})]})]}),e.jsxs("div",{className:"grid gap-5 lg:grid-cols-3",children:[y4.map(J=>e.jsxs("article",{className:"space-y-3 rounded-2xl border border-slate-200 bg-slate-50/60 p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:J.label}),e.jsx("p",{className:"text-xs text-slate-500",children:J.description}),e.jsx("div",{className:"flex flex-wrap gap-2",children:J.options.map(M=>{const Q=C[J.key].includes(M);return e.jsx("button",{type:"button",onClick:()=>{N(se=>{const V=se[J.key].includes(M)?se[J.key].filter(re=>re!==M):[...se[J.key],M];return{...se,[J.key]:V}})},className:`rounded-full px-3 py-1 text-xs font-semibold transition ${Q?"bg-primary/10 text-primary":"border border-slate-200 text-slate-600 hover:border-primary hover:text-primary"}`,children:M},M)})})]},J.key)),e.jsxs("article",{className:"space-y-3 rounded-2xl border border-slate-200 bg-slate-50/60 p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Mentor Tags"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Focus on mentors with specific expertise labels."}),e.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(J=>{const M=C.tags.includes(J);return e.jsx("button",{type:"button",onClick:()=>N(Q=>{const se=Q.tags.includes(J)?Q.tags.filter(V=>V!==J):[...Q.tags,J];return{...Q,tags:se}}),className:`rounded-full px-3 py-1 text-xs font-semibold transition ${M?"bg-slate-900 text-white":"border border-slate-200 text-slate-600 hover:border-primary hover:text-primary"}`,children:J},J)})})]})]})]}),S&&e.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50/60 p-4 text-sm text-rose-600",children:S.message??"Unable to load mentors at this time."}),j?e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((J,M)=>e.jsxs("div",{className:"animate-pulse space-y-4 rounded-2xl bg-white p-6 text-center shadow-sm",children:[e.jsx("div",{className:"mx-auto h-20 w-20 rounded-full bg-slate-200"}),e.jsx("div",{className:"mx-auto h-4 w-2/3 rounded bg-slate-200"}),e.jsx("div",{className:"mx-auto h-3 w-1/2 rounded bg-slate-100"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:Array.from({length:3}).map((Q,se)=>e.jsx("span",{className:"h-6 w-16 rounded-full bg-slate-100"},se))}),e.jsx("div",{className:"mx-auto h-9 w-full rounded-full bg-slate-100"})]},M))}):F.length?e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:F.map(J=>{const M=J.profileId||J.id,Q=J.applicationId||J.id||J.profileId;return e.jsx(r4,{mentor:J,onViewProfile:()=>a(`/dashboard/mentors/${Q}`)},M)})}):e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-12 text-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"No mentors match your filters yet"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Try adjusting your filters or check back later as new mentors join the program."})]})]}),f&&e.jsx(B4,{onClose:q,onSubmit:I,onSuccess:A})]})},C4=()=>e.jsx(g4,{}),k4=()=>{const{getMyProfile:a,updateMyProfile:n}=so(),[r,o]=x.useState(null),[c,u]=x.useState(!0),[p,b]=x.useState(!1),[y,f]=x.useState(null),[g,h]=x.useState(!1),[v,C]=x.useState({basic:!1,professional:!1,mentorship:!1,workExperience:!1,education:!1,socialMedia:!1}),[N,k]=x.useState({linkedin:"",twitter:"",github:"",portfolio:"",facebook:"",instagram:""});x.useEffect(()=>{(async()=>{try{u(!0),f(null);const U=await a();o(U),k({linkedin:U?.linkedin||"",twitter:U?.twitter||"",github:U?.github||"",portfolio:U?.portfolio||"",facebook:U?.facebook||"",instagram:U?.instagram||""})}catch(U){f(U.message||"Failed to load profile")}finally{u(!1)}})()},[a]);const j=H=>{C(U=>({...U,[H]:!U[H]}))},S=async H=>{try{b(!0),f(null);let U={};switch(H){case"basic":U={fullName:r.fullName,email:r.email,phoneNumber:r.phoneNumber,graduationYear:r.graduationYear,degree:r.degree,department:r.department,currentLocation:r.currentLocation};break;case"professional":U={currentJobTitle:r.currentJobTitle,company:r.company,industry:r.industry,expertise:r.expertise};break;case"mentorship":U={mentorshipMode:r.mentorshipMode,availableDays:r.availableDays,timeCommitment:r.timeCommitment,mentorshipPreference:r.mentorshipPreference,maxMentees:r.maxMentees};break;case"socialMedia":U={linkedin:N.linkedin,twitter:N.twitter,github:N.github,portfolio:N.portfolio,facebook:N.facebook,instagram:N.instagram};break;case"workExperience":U={workExperience:r.workExperience};break;case"education":U={education:r.education};break}const T=await n(U),O=T.data||T;o(O),H==="socialMedia"&&k({linkedin:O.linkedin||"",twitter:O.twitter||"",github:O.github||"",portfolio:O.portfolio||"",facebook:O.facebook||"",instagram:O.instagram||""}),j(H),alert(`${H.charAt(0).toUpperCase()+H.slice(1)} section updated successfully!`)}catch(U){f(U.message||"Failed to update profile")}finally{b(!1)}},_=H=>U=>{const T=U.target.type==="checkbox"?U.target.checked:U.target.value;o(O=>({...O,[H]:T}))},B=H=>U=>{o(T=>({...T,[H]:U}))},D=()=>{o(H=>({...H,workExperience:[...H.workExperience||[],{company:"",role:"",startDate:"",endDate:"",isCurrentJob:!1,description:""}]}))},E=(H,U,T)=>{o(O=>({...O,workExperience:O.workExperience.map((Y,W)=>W===H?{...Y,[U]:T}:Y)}))},P=H=>{o(U=>({...U,workExperience:U.workExperience.filter((T,O)=>O!==H)}))},z=()=>{o(H=>({...H,education:[...H.education||[],{institution:"",degree:"",field:"",admissionYear:"",passoutYear:"",cgpa:"",isCurrentlyPursuing:!1}]}))},$=(H,U,T)=>{o(O=>({...O,education:O.education.map((Y,W)=>W===H?{...Y,[U]:T}:Y)}))},F=H=>{o(U=>({...U,education:U.education.filter((T,O)=>O!==H)}))};return c?e.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:e.jsx("p",{children:"Loading profile..."})}):y?e.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50/60 p-4 text-sm text-rose-600",children:y}):r?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-3xl border border-slate-200 bg-gradient-to-r from-primary/5 to-blue-500/5 p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Mentor Profile"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Manage your mentorship presence and connect with mentees"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Status"}),e.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-800",children:r.status||"Active"})]}),r.profilePhoto&&e.jsx("img",{src:r.profilePhoto,alt:"Profile",className:"h-12 w-12 rounded-full border-2 border-white shadow-sm"})]})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-sm font-semibold text-white",children:"1"}),e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Basic Information"})]}),v.basic?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>j("basic"),className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Cancel"}),e.jsx("button",{type:"button",onClick:()=>S("basic"),disabled:p,className:"rounded-full bg-emerald-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-emerald-700 disabled:opacity-50",children:p?"Saving...":"Save"})]}):e.jsx("button",{type:"button",onClick:()=>j("basic"),className:"rounded-full bg-primary px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary/90",children:"Edit"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Full Name"}),v.basic?e.jsx("input",{type:"text",value:r.fullName||"",onChange:_("fullName"),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Your full name"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700",children:r.fullName||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700",children:r.email||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone Number"}),v.basic?e.jsx("input",{type:"tel",value:r.phoneNumber||"",onChange:_("phoneNumber"),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"+1 (555) 000-0000"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700",children:r.phoneNumber||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Graduation Year"}),v.basic?e.jsx("input",{type:"text",value:r.graduationYear||"",onChange:_("graduationYear"),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"2020"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700",children:r.graduationYear||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Degree"}),v.basic?e.jsxs("select",{value:r.degree||"",onChange:_("degree"),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select Degree"}),e.jsx("option",{value:"B.E. Computer Engineering",children:"B.E. Computer Engineering"}),e.jsx("option",{value:"B.E. Information Technology",children:"B.E. Information Technology"}),e.jsx("option",{value:"B.E. Electronics & Telecommunication",children:"B.E. Electronics & Telecommunication"}),e.jsx("option",{value:"B.E. Mechanical Engineering",children:"B.E. Mechanical Engineering"}),e.jsx("option",{value:"B.E. Civil Engineering",children:"B.E. Civil Engineering"}),e.jsx("option",{value:"B.Tech Computer Engineering",children:"B.Tech Computer Engineering"}),e.jsx("option",{value:"B.Tech Information Technology",children:"B.Tech Information Technology"}),e.jsx("option",{value:"M.E. Computer Engineering",children:"M.E. Computer Engineering"}),e.jsx("option",{value:"M.E. Information Technology",children:"M.E. Information Technology"}),e.jsx("option",{value:"M.Tech Computer Engineering",children:"M.Tech Computer Engineering"}),e.jsx("option",{value:"MCA",children:"MCA"}),e.jsx("option",{value:"Other",children:"Other"})]}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700",children:r.degree||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Department"}),v.basic?e.jsxs("select",{value:r.department||"",onChange:_("department"),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select Department"}),e.jsx("option",{value:"Computer Engineering",children:"Computer Engineering"}),e.jsx("option",{value:"Information Technology",children:"Information Technology"}),e.jsx("option",{value:"Artificial Intelligence & Data Science",children:"Artificial Intelligence & Data Science"}),e.jsx("option",{value:"Electronics & Telecommunication Engineering",children:"Electronics & Telecommunication Engineering"}),e.jsx("option",{value:"Mechanical Engineering",children:"Mechanical Engineering"}),e.jsx("option",{value:"Civil Engineering",children:"Civil Engineering"}),e.jsx("option",{value:"Other",children:"Other"})]}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700",children:r.department||"Not provided"})]}),e.jsxs("div",{className:"sm:col-span-2 lg:col-span-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Current Location"}),v.basic?e.jsx("input",{type:"text",value:r.currentLocation||"",onChange:_("currentLocation"),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"City, Country"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700",children:r.currentLocation||"Not provided"})]})]})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-sm font-semibold text-white",children:"2"}),e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Professional Information"})]}),v.professional?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>j("professional"),className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Cancel"}),e.jsx("button",{type:"button",onClick:()=>S("professional"),disabled:p,className:"rounded-full bg-emerald-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-emerald-700 disabled:opacity-50",children:p?"Saving...":"Save"})]}):e.jsx("button",{type:"button",onClick:()=>j("professional"),className:"rounded-full bg-primary px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary/90",children:"Edit"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Current Job Title"}),v.professional?e.jsx("input",{type:"text",value:r.currentJobTitle||"",onChange:_("currentJobTitle"),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Senior Software Engineer"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700",children:r.currentJobTitle||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company"}),v.professional?e.jsx("input",{type:"text",value:r.company||"",onChange:_("company"),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Tech Corp"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700",children:r.company||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Industry"}),v.professional?e.jsxs("select",{value:r.industry||"",onChange:_("industry"),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select Industry"}),e.jsx("option",{value:"IT / Software",children:"IT / Software"}),e.jsx("option",{value:"Core Engineering",children:"Core Engineering"}),e.jsx("option",{value:"Management",children:"Management"}),e.jsx("option",{value:"Government",children:"Government"}),e.jsx("option",{value:"Startup",children:"Startup"}),e.jsx("option",{value:"Research / Academia",children:"Research / Academia"}),e.jsx("option",{value:"Other",children:"Other"})]}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700",children:r.industry||"Not provided"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:["Skills & Expertise ",e.jsxs("span",{className:"text-slate-400 font-normal",children:["(",r.expertise?.length||0," skills)"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(r.expertise||[]).map((H,U)=>e.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-sm font-medium ${g?"bg-primary/10 text-primary":"bg-slate-100 text-slate-600"}`,children:[H,g&&e.jsx("button",{type:"button",onClick:()=>{const T=r.expertise.filter(O=>O!==H);B("expertise")(T)},className:"ml-1 hover:text-primary-dark",children:""})]},U)),g&&e.jsx("input",{type:"text",placeholder:"Add skill and press Enter",className:"rounded-full border border-slate-200 px-3 py-1 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",onKeyPress:H=>{if(H.key==="Enter"){H.preventDefault();const U=H.target.value.trim();U&&!r.expertise.includes(U)&&(B("expertise")([...r.expertise,U]),H.target.value="")}}})]})]})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-sm font-semibold text-white",children:"3"}),e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Mentorship Preferences"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Mentorship Mode"}),v.basic?e.jsxs("select",{value:r.mentorshipMode||"",onChange:_("mentorshipMode"),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select Mode"}),e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"offline",children:"Offline"}),e.jsx("option",{value:"both",children:"Both"})]}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700 capitalize",children:r.mentorshipMode||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Available Days"}),v.basic?e.jsxs("select",{value:r.availableDays||"",onChange:_("availableDays"),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select Availability"}),e.jsx("option",{value:"weekdays",children:"Weekdays"}),e.jsx("option",{value:"weekends",children:"Weekends"}),e.jsx("option",{value:"flexible",children:"Flexible"})]}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700 capitalize",children:r.availableDays||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Time Commitment"}),v.basic?e.jsxs("select",{value:r.timeCommitment||"",onChange:_("timeCommitment"),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select Commitment"}),e.jsx("option",{value:"1-2",children:"1-2 hours per week"}),e.jsx("option",{value:"3-5",children:"3-5 hours per week"}),e.jsx("option",{value:"on-demand",children:"On demand"})]}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700",children:r.timeCommitment==="1-2"?"1-2 hours per week":r.timeCommitment==="3-5"?"3-5 hours per week":r.timeCommitment==="on-demand"?"On demand":"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Mentorship Preference"}),v.basic?e.jsxs("select",{value:r.mentorshipPreference||"",onChange:_("mentorshipPreference"),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select Preference"}),e.jsx("option",{value:"students",children:"Students"}),e.jsx("option",{value:"alumni",children:"Alumni"}),e.jsx("option",{value:"both",children:"Both"})]}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700 capitalize",children:r.mentorshipPreference||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Maximum Mentees"}),v.basic?e.jsxs("select",{value:r.maxMentees||"",onChange:_("maxMentees"),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select Max Mentees"}),e.jsx("option",{value:"1",children:"1"}),e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"})]}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50 px-4 py-3 text-slate-700",children:r.maxMentees||"Not provided"})]})]})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-sm font-semibold text-white",children:"4"}),e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Work Experience"})]}),e.jsx("button",{type:"button",onClick:D,className:"rounded-full border border-primary bg-primary px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary/90",children:"+ Add Experience"})]}),e.jsx("div",{className:"space-y-4",children:(r.workExperience||[]).length===0?e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx("p",{children:"No work experience added yet"}),e.jsx("p",{className:"text-sm mt-1",children:'Click "Add Experience" to get started'})]}):(r.workExperience||[]).map((H,U)=>e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/60 p-4",children:[e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company"}),v.basic?e.jsx("input",{type:"text",value:H.company||"",onChange:T=>E(U,"company",T.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Company name"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-white px-4 py-3 text-slate-700",children:H.company||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Role"}),v.basic?e.jsx("input",{type:"text",value:H.role||"",onChange:T=>E(U,"role",T.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Job title"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-white px-4 py-3 text-slate-700",children:H.role||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Start Date"}),v.basic?e.jsx("input",{type:"month",value:H.startDate||"",onChange:T=>E(U,"startDate",T.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-white px-4 py-3 text-slate-700",children:H.startDate||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"End Date"}),v.basic?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"month",value:H.endDate||"",onChange:T=>E(U,"endDate",T.target.value),disabled:H.isCurrentJob,className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:opacity-50"}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:H.isCurrentJob||!1,onChange:T=>E(U,"isCurrentJob",T.target.checked),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary"}),"Currently working here"]})]}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-white px-4 py-3 text-slate-700",children:H.isCurrentJob?"Present":H.endDate||"Not provided"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),v.basic?e.jsx("textarea",{value:H.description||"",onChange:T=>E(U,"description",T.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Brief description of responsibilities and achievements"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-white px-4 py-3 text-slate-700",children:H.description||"Not provided"})]})]}),g&&e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>P(U),className:"rounded-full border border-rose-200 px-3 py-1 text-xs font-semibold text-rose-600 transition hover:border-rose-400 hover:text-rose-500",children:"Remove"})})]},U))})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-sm font-semibold text-white",children:"5"}),e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Education"})]}),e.jsx("button",{type:"button",onClick:z,className:"rounded-full border border-primary bg-primary px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary/90",children:"+ Add Education"})]}),e.jsx("div",{className:"space-y-4",children:(r.education||[]).length===0?e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx("p",{children:"No education details added yet"}),e.jsx("p",{className:"text-sm mt-1",children:'Click "Add Education" to get started'})]}):(r.education||[]).map((H,U)=>e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/60 p-4",children:[e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Institution"}),v.basic?e.jsx("input",{type:"text",value:H.institution||"",onChange:T=>$(U,"institution",T.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"University name"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-white px-4 py-3 text-slate-700",children:H.institution||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Degree"}),v.basic?e.jsx("input",{type:"text",value:H.degree||"",onChange:T=>$(U,"degree",T.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"e.g., B.Tech Computer Science"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-white px-4 py-3 text-slate-700",children:H.degree||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Field/Department"}),v.basic?e.jsx("input",{type:"text",value:H.field||"",onChange:T=>$(U,"field",T.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"e.g., Computer Science"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-white px-4 py-3 text-slate-700",children:H.field||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Admission Year"}),v.basic?e.jsx("input",{type:"number",value:H.admissionYear||"",onChange:T=>$(U,"admissionYear",T.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"e.g., 2020",min:"1950",max:"2030"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-white px-4 py-3 text-slate-700",children:H.admissionYear||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Passout Year"}),v.basic?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"number",value:H.passoutYear||"",onChange:T=>$(U,"passoutYear",T.target.value),disabled:H.isCurrentlyPursuing,className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:opacity-50",placeholder:"e.g., 2024",min:"1950",max:"2030"}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:H.isCurrentlyPursuing||!1,onChange:T=>$(U,"isCurrentlyPursuing",T.target.checked),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary"}),"Currently pursuing"]})]}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-white px-4 py-3 text-slate-700",children:H.isCurrentlyPursuing?"Currently pursuing":H.passoutYear||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"CGPA / Percentage"}),v.basic?e.jsx("input",{type:"text",value:H.cgpa||"",onChange:T=>$(U,"cgpa",T.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"e.g., 8.7 CGPA or 85%"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-white px-4 py-3 text-slate-700",children:H.cgpa||"Not provided"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),v.basic?e.jsx("textarea",{value:H.description||"",onChange:T=>$(U,"description",T.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Achievements, activities, or relevant coursework"}):e.jsx("div",{className:"w-full rounded-xl border border-slate-100 bg-white px-4 py-3 text-slate-700",children:H.description||"Not provided"})]})]}),g&&e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>F(U),className:"rounded-full border border-rose-200 px-3 py-1 text-xs font-semibold text-rose-600 transition hover:border-rose-400 hover:text-rose-500",children:"Remove"})})]},U))})]}),g&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:p,className:"rounded-full bg-primary px-8 py-3 text-base font-semibold text-white shadow-lg transition hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Saving...":"Save Profile Changes"})})]}):e.jsx("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/60 p-4 text-sm text-slate-500",children:"No mentor profile found."})},A4=()=>{const{requests:a,loading:n,error:r,refresh:o,getRequestDetails:c,acceptRequest:u,rejectRequest:p,reviewRequest:b,updateMeetingLink:y}=Ub(),[f,g]=x.useState(""),[h,v]=x.useState(null),[C,N]=x.useState(!1),[k,j]=x.useState(""),[S,_]=x.useState({id:"",type:""}),[B,D]=x.useState(null),[E,P]=x.useState(()=>Array.from({length:3},()=>({slotDate:"",mode:"online"}))),[z,$]=x.useState(0),[F,H]=x.useState(""),[U,T]=x.useState(""),[O,Y]=x.useState("");x.useMemo(()=>[{value:"online",label:"Online"},{value:"offline",label:"Offline"},{value:"hybrid",label:"Hybrid"}],[]);const W=x.useCallback(V=>{if(!V)return"";const re=V instanceof Date?V:new Date(V);if(Number.isNaN(re.getTime()))return"";const oe=re.getTimezoneOffset();return new Date(re.getTime()-oe*60*1e3).toISOString().slice(0,16)},[]),I=x.useCallback(()=>{P(Array.from({length:3},()=>({slotDate:"",mode:"online"}))),$(0)},[]),A=()=>{C||(g(""),v(null),j(""),D(null),H(""),T(""),Y(""),I())},R=async(V,re=null)=>{g(V),D(re),N(!0),j(""),re==="add-meeting-link"&&(T(""),Y(""));try{const oe=await c(V);v(oe)}catch(oe){j(oe?.message??"Unable to load request details.")}finally{N(!1)}};x.useEffect(()=>{if(!h?.request)return;const{request:V}=h;V.meetingLink&&T(V.meetingLink);const re=Array.from({length:3},()=>({slotDate:"",mode:"online"}));if(V.status==="accepted"&&V.proposedSlots?.length)V.proposedSlots.slice(0,3).forEach((me,Ye)=>{const be=W(me.slotDate);be&&(re[Ye]={slotDate:be,mode:me.mode||"online"})});else{const me=V.preferredDateTime,Ye=V.preferredMode||"online";me&&(re[0]={slotDate:W(me),mode:Ye})}const oe=re.findIndex(me=>me.slotDate);P(re),$(oe>=0?oe:0),H("")},[h,W]);const q=async()=>{if(!f)return;const V=E.map(re=>{if(!re.slotDate)return null;const oe=new Date(re.slotDate);return Number.isNaN(oe.getTime())?null:{slotDate:oe.toISOString(),mode:re.mode||"online"}}).filter(Boolean);if(!V.length){H("Provide at least one valid schedule option before accepting.");return}H(""),_({id:f,type:"accept"});try{await u(f,{proposedSlots:V}),A()}catch(re){H(re?.message??"Unable to share proposed schedule. Please review options and try again.")}finally{_({id:"",type:""})}},J=async(V,re)=>{try{_({id:V,type:re}),re==="review"?(await b(V),A()):re==="reject"&&(await p(V),A())}finally{_({id:"",type:""})}},M=async V=>{try{_({id:V,type:"accept"}),await u(V,{proposedSlots:[{slotDate:new Date(Date.now()+1440*60*1e3).toISOString(),mode:"online"}]}),A()}catch(re){j(re?.message??"Unable to accept request. Please try again.")}finally{_({id:"",type:""})}},Q=async()=>{if(!f||!U.trim()){Y("Meeting link is required.");return}try{_({id:f,type:"meeting-link"}),await y(f,U.trim()),Y("")}catch(V){Y(V?.message??"Unable to update meeting link.")}finally{_({id:"",type:""})}},se=()=>n?e.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 text-sm text-slate-500",children:"Loading requests"}):r?e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/60 p-6 text-sm text-rose-600",children:r.message??"Unable to load mentee requests."}):a.length?e.jsx("div",{className:"space-y-3",children:a.map(V=>{const re=V.status?.toLowerCase(),oe=re==="confirmed"?"bg-blue-100 text-blue-600":re==="accepted"?"bg-emerald-100 text-emerald-600":re==="rejected"?"bg-rose-100 text-rose-600":re==="review"?"bg-purple-100 text-purple-600":"bg-amber-100 text-amber-600",me=re==="pending",Ye=re==="review";return e.jsxs("article",{className:"flex flex-col gap-4 rounded-3xl border border-slate-200 bg-white p-5 shadow-sm md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-full bg-primary/10 text-sm font-semibold text-primary",children:V.menteeAvatar?e.jsx("img",{src:V.menteeAvatar,alt:V.menteeName,className:"h-10 w-10 rounded-full object-cover"}):V.menteeName.split(" ").map(be=>be.charAt(0)).join("").slice(0,2).toUpperCase()||"M"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:V.menteeName}),e.jsx("p",{className:"text-xs text-slate-500",children:V.menteeEmail||"Email not shared"})]})]}),e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${oe}`,children:oa(V.status)})]}),e.jsxs("div",{className:"grid gap-3 text-xs text-slate-500 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-700",children:"Requested Service"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:V.serviceName||""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-700",children:"Requested At"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:V.createdAt?V.createdAt.toLocaleString():""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-700",children:"Preferred Schedule"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:Pn(V.preferredDateTime)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-700",children:"Preferred Mode"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:oa(V.preferredMode)})]})]}),V.menteeSkills.length?e.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-slate-500",children:V.menteeSkills.map(be=>e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 font-semibold text-slate-600",children:be},be))}):null,V.notes&&e.jsxs("p",{className:"text-sm text-slate-600",children:["",V.notes,""]}),V.scheduledDateTime&&e.jsxs("div",{className:"mt-3 rounded-2xl border border-blue-200 bg-blue-50 p-3",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-blue-500",children:"Confirmed Schedule"}),e.jsxs("p",{className:"mt-1 text-sm text-blue-700",children:[Pn(V.scheduledDateTime),"  ",oa(V.scheduledMode||V.preferredMode)]})]}),V.meetingLink&&e.jsxs("div",{className:"mt-3 rounded-2xl border border-green-200 bg-green-50 p-3",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-green-500",children:"Meeting Link Shared"}),e.jsx("p",{className:"mt-1 text-xs text-green-700 break-all",children:V.meetingLink})]}),re==="accepted"&&e.jsx("div",{className:"mt-3 rounded-2xl border border-amber-200 bg-amber-50 p-3 text-xs font-semibold text-amber-600",children:"Awaiting mentee confirmation"})]}),e.jsxs("div",{className:"flex items-center gap-3 md:flex-col",children:[e.jsx("button",{type:"button",onClick:()=>R(V.id),className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"View Details"}),e.jsxs("div",{className:"flex gap-2",children:[me&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>M(V.id),disabled:S.id===V.id&&S.type==="accept",className:"rounded-full border border-emerald-500 px-3 py-2 text-xs font-semibold text-emerald-600 transition hover:bg-emerald-500 hover:text-white disabled:opacity-60",children:"Accept"}),e.jsx("button",{type:"button",onClick:()=>J(V.id,"review"),disabled:S.id===V.id&&S.type==="review",className:"rounded-full border border-amber-500 px-3 py-2 text-xs font-semibold text-amber-600 transition hover:bg-amber-500 hover:text-white disabled:opacity-60",children:"Review"}),e.jsx("button",{type:"button",onClick:()=>J(V.id,"reject"),disabled:S.id===V.id&&S.type==="reject",className:"rounded-full border border-rose-500 px-3 py-2 text-xs font-semibold text-rose-600 transition hover:bg-rose-500 hover:text-white disabled:opacity-60",children:"Reject"})]}),Ye&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>M(V.id),disabled:S.id===V.id&&S.type==="accept",className:"rounded-full border border-emerald-500 px-3 py-2 text-xs font-semibold text-emerald-600 transition hover:bg-emerald-500 hover:text-white disabled:opacity-60",children:"Accept"}),e.jsx("button",{type:"button",onClick:()=>J(V.id,"reject"),disabled:S.id===V.id&&S.type==="reject",className:"rounded-full border border-rose-500 px-3 py-2 text-xs font-semibold text-rose-600 transition hover:bg-rose-500 hover:text-white disabled:opacity-60",children:"Reject"})]}),re==="accepted"&&e.jsx("button",{type:"button",onClick:()=>R(V.id,"add-meeting-link"),disabled:S.id===V.id&&S.type==="meeting-link",className:"rounded-full border border-blue-500 px-3 py-2 text-xs font-semibold text-blue-600 transition hover:bg-blue-500 hover:text-white disabled:opacity-60",children:"Add Meeting Link"})]})]})]},V.id)})}):e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-10 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"No mentee requests yet"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"New mentorship requests will appear here for your review."})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{className:"flex flex-col gap-3 rounded-3xl border border-slate-200 bg-slate-50/60 p-6 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Mentees & Requests"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Review new mentorship requests and manage accepted mentees."})]}),e.jsx("button",{type:"button",onClick:o,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Refresh"})]}),se(),f&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 px-4 py-8",children:e.jsxs("div",{className:"w-full max-w-3xl space-y-6 rounded-3xl border border-slate-200 bg-white p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Request Details"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Review mentee information before responding."})]}),e.jsx("button",{type:"button",onClick:A,className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary hover:text-primary",children:"Close"})]}),C?e.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 text-sm text-slate-500",children:"Loading request details"}):k?e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/60 p-6 text-sm text-rose-600",children:k}):h?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("section",{className:"grid gap-4 rounded-3xl border border-slate-200 bg-slate-50/60 p-5 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Mentee"}),e.jsx("p",{className:"text-base font-semibold text-slate-900",children:h.request?.menteeName}),e.jsx("p",{className:"text-sm text-slate-500",children:h.request?.menteeEmail||"Email not shared"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Requested Service"}),e.jsx("p",{className:"text-base font-semibold text-slate-900",children:h.request?.serviceName}),e.jsxs("p",{className:"text-sm text-slate-500",children:["Preferred ",Pn(h.request?.preferredDateTime),"  ",oa(h.request?.preferredMode)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Status"}),e.jsx("p",{className:"text-sm text-slate-600",children:oa(h.request?.status)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Requested On"}),e.jsx("p",{className:"text-sm text-slate-600",children:h.request?.createdAt?h.request.createdAt.toLocaleString():""})]})]}),h.request?.menteeSkills?.length?e.jsxs("section",{className:"space-y-2 rounded-3xl border border-slate-200 bg-white p-5",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Mentee Skills & Interests"}),e.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-slate-500",children:h.request.menteeSkills.map(V=>e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 font-semibold text-slate-600",children:V},V))})]}):null,h.request?.notes&&e.jsxs("section",{className:"space-y-2 rounded-3xl border border-slate-200 bg-white p-5",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Additional Notes"}),e.jsxs("p",{className:"text-sm text-slate-600",children:["",h.request.notes,""]})]}),B==="accept-schedule"&&h?.request&&e.jsxs("section",{className:"space-y-3 rounded-3xl border border-slate-200 bg-white p-5",children:[e.jsxs("header",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Schedule Mentorship Session"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Set date, time, and meeting link for this mentorship session."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Session Date & Time",e.jsx("input",{type:"datetime-local",value:W(h.request.preferredDateTime),onChange:V=>{const re={...h.request,preferredDateTime:new Date(V.target.value).toISOString()};v({...h,request:re})},className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",min:new Date().toISOString().slice(0,16)})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Meeting Mode",e.jsxs("select",{value:h.request.preferredMode||"online",onChange:V=>{const re={...h.request,preferredMode:V.target.value};v({...h,request:re})},className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"offline",children:"Offline"}),e.jsx("option",{value:"hybrid",children:"Hybrid"})]})]})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Meeting Link",e.jsx("input",{type:"url",value:U,onChange:V=>{T(V.target.value),Y("")},placeholder:"https://zoom.us/j/123456789",className:`w-full rounded-2xl border px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 ${O?"border-rose-300":"border-slate-200"}`}),O&&e.jsx("p",{className:"text-xs text-rose-500",children:O})]}),F&&e.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 p-3",children:e.jsx("p",{className:"text-xs text-rose-500",children:F})}),e.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:A,disabled:S.id===f&&S.type==="accept",className:"rounded-full border border-slate-200 px-5 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-700 disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"button",onClick:q,disabled:S.id===f&&S.type==="accept",className:"rounded-full bg-emerald-500 px-5 py-2 text-xs font-semibold text-white transition hover:bg-emerald-600 disabled:opacity-60",children:S.id===f&&S.type==="accept"?"Accepting":"Accept & Schedule"})]})]})]}),B==="add-meeting-link"&&h?.request&&e.jsxs("section",{className:"space-y-3 rounded-3xl border border-slate-200 bg-white p-5",children:[e.jsxs("header",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Add Meeting Details"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Set the final date, time, and meeting link for this mentorship session."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Final Date & Time",e.jsx("input",{type:"datetime-local",value:W(h.request.preferredDateTime),onChange:V=>{const re={...h.request,preferredDateTime:new Date(V.target.value).toISOString()};v({...h,request:re})},className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",min:new Date().toISOString().slice(0,16)})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Meeting Mode",e.jsxs("select",{value:h.request.preferredMode||"online",onChange:V=>{const re={...h.request,preferredMode:V.target.value};v({...h,request:re})},className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"offline",children:"Offline"}),e.jsx("option",{value:"hybrid",children:"Hybrid"})]})]})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Meeting Link",e.jsx("input",{type:"url",value:U,onChange:V=>{T(V.target.value),Y("")},placeholder:"https://zoom.us/j/123456789",className:`w-full rounded-2xl border px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 ${O?"border-rose-300":"border-slate-200"}`}),O&&e.jsx("p",{className:"text-xs text-rose-500",children:O})]}),e.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:A,disabled:S.id===f&&S.type==="meeting-link",className:"rounded-full border border-slate-200 px-5 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-700 disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"button",onClick:Q,disabled:S.id===f&&S.type==="meeting-link",className:"rounded-full bg-primary px-5 py-2 text-xs font-semibold text-white transition hover:bg-primary/90 disabled:opacity-60",children:S.id===f&&S.type==="meeting-link"?"Saving":"Save Meeting Details"})]})]})]}),h.request?.status==="pending"&&e.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>J(f,"reject"),disabled:S.id===f&&S.type==="reject",className:"rounded-full border border-rose-500 px-5 py-2 text-xs font-semibold text-rose-600 transition hover:bg-rose-500 hover:text-white disabled:opacity-60",children:S.id===f&&S.type==="reject"?"Rejecting":"Reject"}),e.jsx("button",{type:"button",onClick:()=>M(f),disabled:S.id===f&&S.type==="accept",className:"rounded-full bg-emerald-500 px-5 py-2 text-xs font-semibold text-white transition hover:bg-emerald-600 disabled:opacity-60",children:S.id===f&&S.type==="accept"?"Accepting":"Accept"})]}),h.session?e.jsxs("section",{className:"space-y-2 rounded-3xl border border-slate-200 bg-slate-50/60 p-5",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Session"}),e.jsxs("p",{className:"text-sm text-slate-600",children:["Scheduled ",Pn(h.session?.sessionDate),"  ",Ii(h.session?.durationMinutes)]}),e.jsxs("p",{className:"text-sm text-slate-600",children:["Mode: ",oa(h.session?.mode)]})]}):null,h.request?.status==="confirmed"&&e.jsxs("section",{className:"space-y-3 rounded-3xl border border-slate-200 bg-white p-5",children:[e.jsxs("header",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Meeting Link"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Share the video meeting link with your mentee."})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Meeting Link",e.jsx("input",{type:"url",value:U,onChange:V=>{T(V.target.value),Y("")},placeholder:"https://zoom.us/j/123456789",className:`w-full rounded-2xl border px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 ${O?"border-rose-300":"border-slate-200"}`}),O&&e.jsx("p",{className:"text-xs font-medium text-rose-500",children:O})]})}),e.jsx("div",{className:"flex justify-end gap-3",children:e.jsx("button",{type:"button",onClick:Q,disabled:S.id===f&&S.type==="meeting-link",className:"rounded-full bg-primary px-5 py-2 text-xs font-semibold text-white transition hover:bg-primary/90 disabled:opacity-60",children:S.id===f&&S.type==="meeting-link"?"Sharing":"Share Link"})})]})]}):null]})})]})},i0=[{value:"online",label:"Online"},{value:"offline",label:"Offline"},{value:"hybrid",label:"Hybrid"}],E4=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],o0={title:"",description:"",duration:"",price:"",mode:"online",status:"active"},oa=a=>{if(!a)return"";const n=a.toString().trim().toLowerCase();return n?n.charAt(0).toUpperCase()+n.slice(1):""},Pn=a=>{if(!a)return"";try{return a.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}catch{return""}},Ii=a=>{if(!a||Number.isNaN(Number(a)))return"";const n=Number(a),r=Math.floor(n/60),o=n%60;return r&&o?`${r}h ${o}m`:r?`${r}h`:`${o}m`},M4=()=>{const{services:a,loading:n,error:r,createService:o,updateService:c,deleteService:u}=c4(),[p,b]=x.useState(!1),[y,f]=x.useState(!1),[g,h]=x.useState(!1),[v,C]=x.useState(null),[N,k]=x.useState(o0),[j,S]=x.useState({}),_=()=>{C(null),k(o0),S({}),b(!0)},B=F=>{C(F),k({title:F.title,description:F.description,duration:F.duration,price:F.price.toString(),mode:F.mode,status:F.status}),S({}),b(!0)},D=()=>{g||(b(!1),S({}),C(null))},E=F=>H=>{const U=H.target.value;k(T=>({...T,[F]:U})),j[F]&&S(T=>{const O={...T};return delete O[F],O})},P=()=>{const F={};return N.title.trim()||(F.title="Title is required."),N.description.trim()||(F.description="Description is required."),N.duration.trim()||(F.duration="Duration is required."),(N.price===""||Number.isNaN(Number(N.price))||Number(N.price)<0)&&(F.price="Enter a valid price."),N.mode||(F.mode="Select a mode."),N.status||(F.status="Select a status."),S(F),Object.keys(F).length===0},z=async F=>{if(F.preventDefault(),!!P())try{h(!0);const H={title:N.title.trim(),description:N.description.trim(),duration:N.duration.trim(),price:Number(N.price),mode:N.mode,status:N.status};v?await c(v.id,H):await o(H),b(!1),C(null)}finally{h(!1)}},$=async F=>{if(!y)try{f(!0),await u(F)}finally{f(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{className:"flex flex-col gap-3 rounded-3xl border border-slate-200 bg-slate-50/60 p-6 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"My Mentorship Services"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Create, update, or archive the sessions you offer mentees."})]}),e.jsx("button",{type:"button",onClick:_,className:"inline-flex items-center gap-2 rounded-full bg-primary px-4 py-2 text-xs font-semibold text-white transition hover:bg-primary/90",children:"+ Add New Service"})]}),n?e.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 text-sm text-slate-500",children:"Loading services"}):r?e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/60 p-6 text-sm text-rose-600",children:r.message??"Unable to load mentorship services."}):a.length===0?e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-10 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"No services published yet"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Use Add New Service to list your first mentorship offering."}),e.jsx("button",{type:"button",onClick:_,className:"mt-4 inline-flex items-center gap-2 rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white transition hover:bg-primary/90",children:"Create a Service"})]}):e.jsx("div",{className:"grid gap-4 lg:grid-cols-2",children:a.map(F=>e.jsxs("article",{className:"flex h-full flex-col justify-between rounded-3xl border border-slate-200 bg-white p-5 shadow-sm",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:F.title}),e.jsxs("p",{className:"text-xs text-slate-500",children:[F.duration,"  ",i0.find(H=>H.value===F.mode)?.label??F.mode]})]}),e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${F.status==="active"?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-500"}`,children:F.status==="active"?"Active":"Inactive"})]}),e.jsx("p",{className:"text-sm text-slate-600",children:F.description})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-slate-100 pt-4 text-xs text-slate-500",children:[e.jsxs("span",{className:"font-semibold text-slate-700",children:["",F.price.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:()=>B(F),className:"inline-flex items-center gap-1 text-primary transition hover:underline",children:"Edit"}),e.jsx("button",{type:"button",onClick:()=>$(F.id),disabled:y,className:"text-rose-500 transition hover:underline disabled:opacity-60",children:"Delete"})]})]})]},F.id))}),p&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 px-4 py-8",children:e.jsxs("div",{className:"w-full max-w-2xl rounded-3xl border border-slate-200 bg-white p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:v?"Edit Service":"Create Service"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Provide clear details so mentees know what to expect."})]}),e.jsx("button",{type:"button",onClick:D,className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary hover:text-primary",children:"Close"})]}),e.jsxs("form",{onSubmit:z,className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Service Title",e.jsx("input",{value:N.title,onChange:E("title"),className:`w-full rounded-2xl border px-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40 ${j.title?"border-rose-300":"border-slate-200"}`,placeholder:"Mock Interview, Career Clarity, "}),j.title&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:j.title})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Duration",e.jsx("input",{value:N.duration,onChange:E("duration"),className:`w-full rounded-2xl border px-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40 ${j.duration?"border-rose-300":"border-slate-200"}`,placeholder:"45 minutes"}),j.duration&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:j.duration})]})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Description",e.jsx("textarea",{value:N.description,onChange:E("description"),rows:4,className:`w-full rounded-2xl border px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40 ${j.description?"border-rose-300":"border-slate-200"}`,placeholder:"Outline what mentees will gain from this session."}),j.description&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:j.description})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Price ()",e.jsx("input",{type:"number",min:"0",value:N.price,onChange:E("price"),className:`w-full rounded-2xl border px-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40 ${j.price?"border-rose-300":"border-slate-200"}`,placeholder:"1499"}),j.price&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:j.price})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Mode",e.jsx("select",{value:N.mode,onChange:E("mode"),className:`w-full rounded-2xl border px-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40 ${j.mode?"border-rose-300":"border-slate-200"}`,children:i0.map(F=>e.jsx("option",{value:F.value,children:F.label},F.value))}),j.mode&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:j.mode})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Status",e.jsx("select",{value:N.status,onChange:E("status"),className:`w-full rounded-2xl border px-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40 ${j.status?"border-rose-300":"border-slate-200"}`,children:E4.map(F=>e.jsx("option",{value:F.value,children:F.label},F.value))}),j.status&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:j.status})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-1",children:[e.jsx("button",{type:"button",onClick:D,disabled:g,className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-500 transition hover:border-primary hover:text-primary disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:g,className:"rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white transition hover:bg-primary/90 disabled:opacity-60",children:g?"Saving":v?"Save Changes":"Publish Service"})]})]})]})})]})},D4=()=>e.jsx(L4,{}),L4=()=>{const{sessions:a,loading:n,error:r,refresh:o,getSessionDetails:c,updateSession:u}=zb(),[p,b]=x.useState(""),[y,f]=x.useState(null),[g,h]=x.useState(!1),[v,C]=x.useState(""),[N,k]=x.useState({sessionDate:"",status:"scheduled",mode:"online",durationMinutes:"",notes:""}),[j,S]=x.useState({}),[_,B]=x.useState(!1),D=async H=>{b(H),h(!0),C(""),f(null);try{const U=await c(H);f(U),k({sessionDate:U.sessionDate?new Date(U.sessionDate).toISOString().slice(0,16):"",status:U.status||"scheduled",mode:U.mode||"online",durationMinutes:U.durationMinutes??"",notes:U.notes||""})}catch(U){C(U?.message??"Unable to load session details.")}finally{h(!1)}},E=()=>{_||(b(""),f(null),C(""),S({}))},P=H=>U=>{const T=U.target.value;k(O=>({...O,[H]:T})),j[H]&&S(O=>{const Y={...O};return delete Y[H],Y})},z=()=>{const H={};return N.sessionDate||(H.sessionDate="Session date & time is required."),N.status||(H.status="Select a session status."),N.mode||(H.mode="Select a session mode."),N.durationMinutes!==""&&(Number.isNaN(Number(N.durationMinutes))||Number(N.durationMinutes)<0)&&(H.durationMinutes="Enter a valid duration in minutes."),S(H),Object.keys(H).length===0},$=async H=>{if(H.preventDefault(),!y||!z())return;const U={sessionDate:N.sessionDate?new Date(N.sessionDate).toISOString():void 0,status:N.status,mode:N.mode,durationMinutes:N.durationMinutes===""?void 0:Number(N.durationMinutes),notes:N.notes};try{B(!0),await u(y.id,U),b(""),f(null),S({})}finally{B(!1)}},F=()=>n?e.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 text-sm text-slate-500",children:"Loading sessions"}):r?e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/60 p-6 text-sm text-rose-600",children:r.message??"Unable to load sessions."}):a.length?e.jsx("div",{className:"space-y-3",children:a.map(H=>{const U=H.status==="completed"?"bg-emerald-100 text-emerald-600":H.status==="cancelled"?"bg-rose-100 text-rose-600":"bg-amber-100 text-amber-600";return e.jsxs("article",{className:"flex flex-col gap-4 rounded-3xl border border-slate-200 bg-white p-5 shadow-sm md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-full bg-primary/10 text-sm font-semibold text-primary",children:H.menteeName.split(" ").map(T=>T.charAt(0)).join("").slice(0,2).toUpperCase()||"M"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:H.menteeName}),e.jsx("p",{className:"text-xs text-slate-500",children:H.menteeEmail||"Email not shared"})]})]}),e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${U}`,children:oa(H.status)})]}),e.jsxs("div",{className:"grid gap-3 text-xs text-slate-500 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-700",children:"Service"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:H.serviceName||""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-700",children:"Session Time"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:Pn(H.sessionDate)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-700",children:"Duration"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:Ii(H.durationMinutes)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-700",children:"Mode"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:oa(H.mode)})]})]}),H.notes&&e.jsxs("p",{className:"text-sm text-slate-600",children:["",H.notes,""]})]}),e.jsx("div",{className:"flex items-center gap-3 md:flex-col",children:e.jsx("button",{type:"button",onClick:()=>D(H.id),className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Manage Session"})})]},H.id)})}):e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-10 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"No sessions scheduled yet"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Accepted requests and completed sessions will appear here."})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{className:"flex flex-col gap-3 rounded-3xl border border-slate-200 bg-slate-50/60 p-6 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Session Management"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Stay on top of upcoming and completed mentorship sessions."})]}),e.jsx("button",{type:"button",onClick:o,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Refresh"})]}),F(),p&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 px-4 py-8",children:e.jsxs("div",{className:"w-full max-w-3xl space-y-6 rounded-3xl border border-slate-200 bg-white p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Manage Session"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Update schedule, status, or notes for this session."})]}),e.jsx("button",{type:"button",onClick:E,className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary hover:text-primary",children:"Close"})]}),g?e.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 text-sm text-slate-500",children:"Loading session details"}):v?e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/60 p-6 text-sm text-rose-600",children:v}):y?e.jsxs("form",{onSubmit:$,className:"space-y-5",children:[e.jsxs("section",{className:"grid gap-4 rounded-3xl border border-slate-200 bg-slate-50/60 p-5 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Mentee"}),e.jsx("p",{className:"text-base font-semibold text-slate-900",children:y.menteeName}),e.jsx("p",{className:"text-sm text-slate-500",children:y.menteeEmail||"Email not shared"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Service"}),e.jsx("p",{className:"text-base font-semibold text-slate-900",children:y.serviceName||""})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Session Date & Time",e.jsx("input",{type:"datetime-local",value:N.sessionDate,onChange:P("sessionDate"),className:`w-full rounded-2xl border px-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40 ${j.sessionDate?"border-rose-300":"border-slate-200"}`}),j.sessionDate&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:j.sessionDate})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Status",e.jsxs("select",{value:N.status,onChange:P("status"),className:`w-full rounded-2xl border px-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40 ${j.status?"border-rose-300":"border-slate-200"}`,children:[e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),j.status&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:j.status})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Mode",e.jsxs("select",{value:N.mode,onChange:P("mode"),className:`w-full rounded-2xl border px-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40 ${j.mode?"border-rose-300":"border-slate-200"}`,children:[e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"offline",children:"Offline"}),e.jsx("option",{value:"hybrid",children:"Hybrid"})]}),j.mode&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:j.mode})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Duration (minutes)",e.jsx("input",{type:"number",min:"0",value:N.durationMinutes,onChange:P("durationMinutes"),className:`w-full rounded-2xl border px-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40 ${j.durationMinutes?"border-rose-300":"border-slate-200"}`,placeholder:"e.g., 60"}),j.durationMinutes&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:j.durationMinutes})]})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Session Notes",e.jsx("textarea",{value:N.notes,onChange:P("notes"),rows:4,className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40",placeholder:"Add talking points, agenda, or follow-up notes."})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:E,disabled:_,className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-500 transition hover:border-primary hover:text-primary disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:_,className:"rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white transition hover:bg-primary/90 disabled:opacity-60",children:_?"Saving":"Save Changes"})]})]}):null]})})]})},c0=[{value:"pdf",label:"PDF"},{value:"video",label:"Video"},{value:"link",label:"Link"},{value:"file",label:"File"},{value:"image",label:"Image"},{value:"audio",label:"Audio"},{value:"document",label:"Document"},{value:"other",label:"Other"}],R4=[{value:"active",label:"Visible to mentees"},{value:"inactive",label:"Hidden"}],T4=a=>a?a<1024?`${a} B`:a<1024*1024?`${(a/1024).toFixed(1)} KB`:`${(a/(1024*1024)).toFixed(1)} MB`:"",_4=()=>{const{resources:a,loading:n,error:r,createResource:o,updateResource:c,deleteResource:u}=d4(),[p,b]=x.useState(!1),[y,f]=x.useState(null),[g,h]=x.useState({title:"",description:"",type:"pdf",status:"active",url:""}),[v,C]=x.useState(null),[N,k]=x.useState({}),[j,S]=x.useState(!1),[_,B]=x.useState(""),D=()=>{f(null),h({title:"",description:"",type:"pdf",status:"active",url:""}),C(null),k({}),b(!0)},E=T=>{f(T),h({title:T.title,description:T.description,type:T.type,status:T.status,url:T.url}),C(null),k({}),b(!0)},P=()=>{j||(b(!1),f(null),k({}),C(null))},z=T=>O=>{const Y=O.target.value;h(W=>({...W,[T]:Y})),N[T]&&k(W=>{const I={...W};return delete I[T],I})},$=T=>{const O=T.target.files?.[0]??null;C(O),N.file&&k(Y=>{const W={...Y};return delete W.file,W})},F=()=>{const T={};g.title.trim()||(T.title="Title is required."),g.description.trim()||(T.description="Description is required."),g.type||(T.type="Select a resource type."),g.status||(T.status="Select visibility.");const O=!!g.url.trim(),Y=!!v,W=!!y?.filePublicId,I=!!y?.url;return!O&&!Y&&!y&&(T.file="Upload a file or provide a link."),!O&&!Y&&y&&!W&&!I&&(T.file="Upload a file or provide a link."),k(T),Object.keys(T).length===0},H=async T=>{if(T.preventDefault(),!!F())try{S(!0);const O={title:g.title.trim(),description:g.description.trim(),type:g.type,status:g.status,url:g.url.trim()||void 0,file:v??void 0};y?await c(y.id,O):await o(O),b(!1),f(null),C(null)}finally{S(!1)}},U=async T=>{try{B(T),await u(T)}finally{B("")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{className:"flex flex-col gap-3 rounded-3xl border border-slate-200 bg-slate-50/60 p-6 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Resources & Materials"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Upload decks, handbooks, or helpful links for your mentees."})]}),e.jsx("button",{type:"button",onClick:D,className:"inline-flex items-center gap-2 rounded-full border border-primary px-4 py-2 text-xs font-semibold text-primary transition hover:bg-primary hover:text-white",children:"+ Upload Resource"})]}),n?e.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 text-sm text-slate-500",children:"Loading resources"}):r?e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/60 p-6 text-sm text-rose-600",children:r.message??"Unable to load resources."}):a.length===0?e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-10 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"No resources uploaded yet"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Share templates, guides, or recordings to support your mentees."}),e.jsx("button",{type:"button",onClick:D,className:"mt-4 inline-flex items-center gap-2 rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white transition hover:bg-primary/90",children:"Upload Resource"})]}):e.jsx("div",{className:"grid gap-4 lg:grid-cols-2",children:a.map(T=>{const O=c0.find(I=>I.value===T.type)?.label??T.type,Y=T.status==="active"?"Visible to mentees":"Hidden",W=T.createdAt?T.createdAt.toLocaleDateString():"";return e.jsxs("article",{className:"flex h-full flex-col justify-between rounded-3xl border border-slate-200 bg-white p-5 shadow-sm",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:T.title}),e.jsxs("p",{className:"text-xs text-slate-500",children:[O,"  Uploaded ",W]})]}),e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${T.status==="active"?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-500"}`,children:Y})]}),T.description&&e.jsx("p",{className:"text-sm text-slate-600",children:T.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-500",children:[T.url&&e.jsx("a",{href:T.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-primary transition hover:underline",children:"View resource"}),T.fileName&&e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1",children:T.fileName}),T.fileSize?e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1",children:T4(T.fileSize)}):null]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-slate-100 pt-4 text-xs text-slate-500",children:[e.jsxs("span",{children:["Updated ",T.updatedAt?T.updatedAt.toLocaleDateString():""]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:()=>E(T),className:"inline-flex items-center gap-1 text-primary transition hover:underline",children:"Edit"}),e.jsx("button",{type:"button",onClick:()=>U(T.id),disabled:_===T.id,className:"text-rose-500 transition hover:underline disabled:opacity-60",children:_===T.id?"Deleting":"Delete"})]})]})]},T.id)})}),p&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 px-4 py-8",children:e.jsxs("div",{className:"w-full max-w-2xl rounded-3xl border border-slate-200 bg-white p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:y?"Edit Resource":"Upload Resource"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Share decks, PDFs, links, or recordings with your mentees."})]}),e.jsx("button",{type:"button",onClick:P,className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary hover:text-primary",children:"Close"})]}),e.jsxs("form",{onSubmit:H,className:"mt-6 space-y-4",children:[e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Resource Title",e.jsx("input",{value:g.title,onChange:z("title"),className:`w-full rounded-2xl border px-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40 ${N.title?"border-rose-300":"border-slate-200"}`,placeholder:"e.g., Product Strategy Playbook"}),N.title&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:N.title})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Description",e.jsx("textarea",{value:g.description,onChange:z("description"),rows:4,className:`w-full rounded-2xl border px-4 py-3 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40 ${N.description?"border-rose-300":"border-slate-200"}`,placeholder:"Give mentees context on what this resource covers."}),N.description&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:N.description})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Resource Type",e.jsx("select",{value:g.type,onChange:z("type"),className:`w-full rounded-2xl border px-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40 ${N.type?"border-rose-300":"border-slate-200"}`,children:c0.map(T=>e.jsx("option",{value:T.value,children:T.label},T.value))}),N.type&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:N.type})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Visibility",e.jsx("select",{value:g.status,onChange:z("status"),className:`w-full rounded-2xl border px-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40 ${N.status?"border-rose-300":"border-slate-200"}`,children:R4.map(T=>e.jsx("option",{value:T.value,children:T.label},T.value))}),N.status&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:N.status})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Resource Link",e.jsx("input",{value:g.url,onChange:z("url"),className:"w-full rounded-2xl border border-slate-200 px-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40",placeholder:"https://"})]})]}),e.jsxs("label",{className:"space-y-1 text-sm font-semibold text-slate-700",children:["Upload File (optional)",e.jsx("input",{type:"file",onChange:$,className:"block w-full text-sm text-slate-500 file:mr-4 file:rounded-full file:border-0 file:bg-primary file:px-4 file:py-2 file:text-sm file:font-semibold file:text-white hover:file:bg-primary/90"}),v&&e.jsxs("span",{className:"text-xs text-slate-500",children:["Selected: ",v.name]}),N.file&&e.jsx("span",{className:"text-xs font-medium text-rose-500",children:N.file})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:P,disabled:j,className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-500 transition hover:border-primary hover:text-primary disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:j,className:"rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white transition hover:bg-primary/90 disabled:opacity-60",children:j?"Saving":y?"Save Changes":"Upload Resource"})]})]})]})})]})},O4=()=>{const{sessions:a,loading:n,error:r,refresh:o,getSessionDetails:c}=zb(),[u,p]=x.useState(""),[b,y]=x.useState(null),[f,g]=x.useState(!1),[h,v]=x.useState(""),C=()=>{f||(p(""),y(null),v(""))},N=async B=>{p(B),g(!0),v("");try{const D=await c(B);y(D)}catch(D){v(D?.message??"Unable to load session details.")}finally{g(!1)}},k=B=>{if(!B)return"";const D=B.toString().trim().toLowerCase();return D.charAt(0).toUpperCase()+D.slice(1)},j=B=>{if(!B)return"";const D=B.toString().trim().toLowerCase();return D.charAt(0).toUpperCase()+D.slice(1)},S=B=>{if(!B)return"";try{return B.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}catch{return""}},_=()=>n?e.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 text-sm text-slate-500",children:"Loading session history"}):r?e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/60 p-6 text-sm text-rose-600",children:r.message??"Unable to load session history."}):a.length?e.jsx("div",{className:"space-y-3",children:a.map(B=>{const D=!!B.feedback?.comment||!!B.feedback?.rating;return e.jsxs("article",{className:"flex flex-col gap-4 rounded-3xl border border-slate-200 bg-white p-5 shadow-sm md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-full bg-primary/10 text-sm font-semibold text-primary",children:B.menteeAvatar?e.jsx("img",{src:B.menteeAvatar,alt:B.menteeName,className:"h-10 w-10 rounded-full object-cover"}):B.menteeName.split(" ").map(E=>E.charAt(0)).join("").slice(0,2).toUpperCase()||"M"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:B.menteeName}),e.jsx("p",{className:"text-xs text-slate-500",children:B.menteeEmail||"Email not shared"})]})]}),e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${B.status==="completed"?"bg-emerald-100 text-emerald-600":B.status==="cancelled"?"bg-rose-100 text-rose-600":"bg-slate-100 text-slate-500"}`,children:k(B.status)}),e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600",children:D?"Feedback available":"No feedback"})]}),e.jsxs("div",{className:"grid gap-3 text-xs text-slate-500 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-700",children:"Service"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:B.serviceName||""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-700",children:"Session Time"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:S(B.sessionDate)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-700",children:"Duration"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:Ii(B.durationMinutes)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-700",children:"Mode"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:j(B.mode)})]})]})]}),e.jsx("div",{className:"flex items-center gap-3 md:flex-col",children:e.jsx("button",{type:"button",onClick:()=>N(B.id),className:"rounded-full border border-primary px-4 py-2 text-xs font-semibold text-primary transition hover:bg-primary hover:text-white",children:"View Details"})})]},B.id)})}):e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-10 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"No session history yet"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Completed mentorship sessions will appear here."})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{className:"flex flex-col gap-3 rounded-3xl border border-slate-200 bg-slate-50/60 p-6 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Mentorship Session History"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Review past mentorship sessions and feedback from mentees."})]}),e.jsx("button",{type:"button",onClick:o,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Refresh"})]}),_(),u&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 px-4 py-8",children:e.jsxs("div",{className:"w-full max-w-3xl space-y-6 rounded-3xl border border-slate-200 bg-white p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Session Details"}),e.jsx("p",{className:"text-xs text-slate-500",children:"View mentee information and feedback."})]}),e.jsx("button",{type:"button",onClick:C,className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary hover:text-primary",children:"Close"})]}),f?e.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 text-sm text-slate-500",children:"Loading session details"}):h?e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/60 p-6 text-sm text-rose-600",children:h}):b?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("section",{className:"grid gap-4 rounded-3xl border border-slate-200 bg-slate-50/60 p-5 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Mentee"}),e.jsx("p",{className:"text-base font-semibold text-slate-900",children:b.menteeName}),e.jsx("p",{className:"text-sm text-slate-500",children:b.menteeEmail||"Email not shared"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Session"}),e.jsx("p",{className:"text-base font-semibold text-slate-900",children:b.serviceName}),e.jsx("p",{className:"text-sm text-slate-500",children:S(b.sessionDate)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Duration"}),e.jsx("p",{className:"text-sm text-slate-600",children:Ii(b.durationMinutes)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Mode"}),e.jsx("p",{className:"text-sm text-slate-600",children:j(b.mode)})]})]}),b.notes&&e.jsxs("section",{className:"space-y-2 rounded-3xl border border-slate-200 bg-white p-5",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Session Notes"}),e.jsx("p",{className:"text-sm text-slate-600",children:b.notes})]}),e.jsxs("section",{className:"space-y-3 rounded-3xl border border-slate-200 bg-white p-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Feedback"}),e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${b.feedback?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-500"}`,children:b.feedback?"Submitted":"Not provided"})]}),b.feedback?e.jsxs(e.Fragment,{children:[b.feedback.rating?e.jsxs("p",{className:"text-sm font-semibold text-amber-500",children:["Rating: ",b.feedback.rating.toFixed(1)," / 5"]}):e.jsx("p",{className:"text-sm text-slate-500",children:"Rating not provided."}),b.feedback.comment?e.jsxs("p",{className:"text-sm text-slate-600",children:["",b.feedback.comment,""]}):e.jsx("p",{className:"text-sm text-slate-500",children:"No written feedback."}),e.jsxs("p",{className:"text-xs text-slate-400",children:["Submitted ",b.feedback.submittedAt?b.feedback.submittedAt.toLocaleString():""]})]}):e.jsx("p",{className:"text-sm text-slate-500",children:"Mentee has not shared feedback for this session."})]})]}):null]})})]})},B4=({onClose:a,onSubmit:n,onSuccess:r})=>{const[o,c]=x.useState(0),[u,p]=x.useState({fullName:"",email:"",phoneNumber:"",graduationYear:"",degree:"",location:"",linkedin:"",jobRole:"",companyName:"",industry:s0[0],totalExperience:"",skills:[],careerPath:"",mentorshipAreas:[],preferredStudents:l0[0],maxStudents:"",weeklyHours:n0[0],modes:["Chat","Video"],department:a0[0],availableDays:"flexible"}),[b,y]=x.useState(!1),[f,g]=x.useState(null),h=async()=>{if(typeof n=="function"){y(!0),g(null);try{const B={fullName:u.fullName,email:u.email,phoneNumber:u.phoneNumber,graduationYear:u.graduationYear,degree:u.degree||"",department:u.department,currentLocation:u.location,profilePhoto:"",currentJobTitle:u.jobRole,company:u.companyName,industry:u.industry,mentorshipAreas:Array.isArray(u.mentorshipAreas)?u.mentorshipAreas:[],expertise:Array.isArray(u.skills)?u.skills:[],mentorshipMode:u.modes?.[0]||"online",availableDays:u.availableDays||"flexible",timeCommitment:u.weeklyHours||"on-demand",mentorshipPreference:u.preferredStudents||"both",maxMentees:u.maxStudents||"5",consent1:!0,consent2:!0,consent3:!0};await n(B),c(3),r?.()}catch(B){g(B?.message??"Unable to submit application. Please try again later.")}finally{y(!1)}}},v=B=>{p(D=>{const E=D.skills.includes(B);return{...D,skills:E?D.skills.filter(P=>P!==B):[...D.skills,B]}})},C=B=>{p(D=>{const E=D.mentorshipAreas.includes(B);return{...D,mentorshipAreas:E?D.mentorshipAreas.filter(P=>P!==B):[...D.mentorshipAreas,B]}})},N=B=>D=>{const E=D.target.type==="checkbox"?D.target.checked:D.target.value;p(P=>({...P,[B]:E}))},k=B=>D=>{p(E=>({...E,[B]:D.target.value}))},j=()=>{if(o===0){if(!u.fullName||!u.email||!u.graduationYear||!u.degree||!u.department||!u.location)return;c(1);return}if(o===1){if(!u.jobRole||!u.companyName||!u.industry||u.skills.length===0)return;c(2);return}if(o===2){if(!u.preferredStudents||!u.maxStudents||!u.weeklyHours||!u.availableDays||u.mentorshipAreas.length===0)return;h();return}},S=()=>{c(B=>Math.max(B-1,0))},_=()=>{a()};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 px-4 py-12 backdrop-blur",role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"absolute inset-0",onClick:_,"aria-hidden":"true"}),e.jsxs("div",{className:"relative z-10 flex w-full max-w-3xl max-h-[88vh] flex-col overflow-hidden rounded-[32px] border border-slate-100 bg-white shadow-[0_40px_90px_-50px_rgba(15,23,42,0.45)]",children:[e.jsxs("header",{className:"flex items-center justify-between border-b border-slate-100 px-10 py-7",children:[e.jsxs("button",{type:"button",onClick:_,className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-500 transition hover:text-primary",children:[e.jsx("span",{className:"text-lg",children:""}),"Back to Mentorship"]}),e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-primary/60",children:"BECOME A MENTOR"}),e.jsx("button",{type:"button",onClick:_,className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:border-primary hover:text-primary","aria-label":"Close",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-10 py-10",children:[e.jsx("div",{className:"flex justify-center gap-12 pb-10",children:t0.map((B,D)=>{const E=D===o,P=D<o;return e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("span",{className:`flex h-12 w-12 items-center justify-center rounded-full text-sm font-semibold transition ${E||P?"bg-primary text-white shadow-lg shadow-primary/40":"bg-slate-100 text-slate-400"}`,children:P?e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}):D+1}),e.jsx("p",{className:`mt-3 text-xs font-semibold uppercase tracking-[0.28em] ${E||P?"text-primary":"text-slate-400"}`,children:B.label})]},B.label)})}),o===3?e.jsxs("div",{className:"flex flex-col items-center space-y-7 py-12 text-center",children:[e.jsx("span",{className:"grid h-24 w-24 place-items-center rounded-full bg-emerald-100 text-emerald-500",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-10 w-10",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-3xl font-semibold text-slate-900",children:"Congratulations! You Are Now a Mentor"}),e.jsx("p",{className:"max-w-xl text-sm text-slate-500",children:"You have successfully completed the mentor application process. Click the button below to access your Mentor Panel and manage all your mentoring activities."})]}),e.jsx("button",{type:"button",onClick:_,className:"rounded-full bg-primary px-6 py-3 text-sm font-semibold text-white transition hover:bg-primary/90",children:"Go to Mentor Panel"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:t0[o].caption}),e.jsx("p",{className:"text-sm text-slate-500",children:"Share your knowledge, guide learners, and make an impact."})]}),o===0&&e.jsxs("div",{className:"space-y-6 rounded-3xl border border-slate-200 bg-white p-8 shadow-[0_20px_60px_-40px_rgba(15,23,42,0.25)]",children:[e.jsxs("div",{className:"grid gap-5 sm:grid-cols-2",children:[e.jsx(as,{label:"Full Name",value:u.fullName,onChange:k("fullName"),placeholder:"Alex Johnson"}),e.jsx(as,{label:"Email Address",value:u.email,onChange:k("email"),type:"email",placeholder:"alex.j@example.com"}),e.jsx(as,{label:"Phone Number (optional)",value:u.phoneNumber,onChange:k("phoneNumber"),placeholder:"+1 (555) 000-0000"}),e.jsx(as,{label:"Graduation Year",value:u.graduationYear,onChange:k("graduationYear"),type:"number",placeholder:"2020"}),e.jsx(jl,{label:"Degree / Program",value:u.degree,onChange:N("degree"),options:N4}),e.jsx(jl,{label:"Department",value:u.department,onChange:N("department"),options:a0}),e.jsx(as,{label:"Current Location",value:u.location,onChange:k("location"),placeholder:"City, Country"})]}),e.jsx(as,{label:"LinkedIn / Portfolio URL (optional)",value:u.linkedin,onChange:k("linkedin"),placeholder:"https://linkedin.com/in/..."}),e.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/60 p-6",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700",children:" Current Job Role"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Share your current designation so students know the perspective you bring as a mentor. You can update this anytime."})]})]}),o===1&&e.jsxs("div",{className:"space-y-6 rounded-3xl border border-slate-200 bg-white p-8 shadow-[0_20px_60px_-40px_rgba(15,23,42,0.25)]",children:[e.jsxs("div",{className:"grid gap-5 sm:grid-cols-2",children:[e.jsx(as,{label:"Current Job Title",value:u.jobRole,onChange:k("jobRole"),placeholder:"Product Manager"}),e.jsx(as,{label:"Company Name",value:u.companyName,onChange:k("companyName"),placeholder:"Acme Corp"}),e.jsx(jl,{label:"Industry",value:u.industry,onChange:N("industry"),options:s0}),e.jsx(as,{label:"Total Experience (Years)",value:u.totalExperience,onChange:k("totalExperience"),type:"number",placeholder:"6"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Skills"}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Select all skills you actively mentor in."}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:v4.map(B=>{const D=u.skills.includes(B);return e.jsx("button",{type:"button",onClick:()=>v(B),className:`rounded-full px-4 py-1 text-xs font-semibold transition ${D?"bg-primary text-white shadow-sm shadow-primary/50":"border border-slate-200 text-slate-600 hover:border-primary hover:text-primary"}`,children:B},B)})})]}),e.jsx(as,{label:"Career Path / Domain",value:u.careerPath,onChange:k("careerPath"),placeholder:"e.g. Product Management, SaaS Growth"})]}),o===2&&e.jsxs("div",{className:"space-y-6 rounded-3xl border border-slate-200 bg-white p-8 shadow-[0_20px_60px_-40px_rgba(15,23,42,0.25)]",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Mentorship Areas"}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Choose the themes youd like to guide students on."}),e.jsx("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:j4.map(B=>{const D=u.mentorshipAreas.includes(B);return e.jsx("button",{type:"button",onClick:()=>C(B),className:`rounded-2xl border px-3 py-2 text-sm font-medium transition ${D?"border-primary bg-primary/10 text-primary shadow-sm shadow-primary/40":"border-slate-200 text-slate-600 hover:border-primary/50"}`,children:B},B)})})]}),e.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[e.jsxs("fieldset",{className:"space-y-3 rounded-2xl border border-slate-200 bg-slate-50/60 p-5",children:[e.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Preferred Students"}),e.jsx("div",{className:"space-y-2",children:l0.map(B=>e.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx("input",{type:"radio",name:"preferredStudents",value:B,checked:u.preferredStudents===B,onChange:N("preferredStudents"),className:"h-4 w-4 border-slate-300 text-primary focus:ring-primary"}),B]},B))})]}),e.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-200 bg-slate-50/60 p-5",children:[e.jsx(as,{label:"Max Students You Can Mentor",value:u.maxStudents,onChange:k("maxStudents"),type:"number",placeholder:"5"}),e.jsx(jl,{label:"Weekly Hours",value:u.weeklyHours,onChange:N("weeklyHours"),options:n0})]})]}),e.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[e.jsx(jl,{label:"Preferred Mentorship Mode",value:u.modes?.[0]||"",onChange:B=>p(D=>({...D,modes:[B]})),options:w4}),e.jsx(jl,{label:"Available Days",value:u.availableDays,onChange:N("availableDays"),options:["weekdays","weekends","flexible"]})]}),e.jsx("p",{className:"text-xs text-slate-400",children:"By submitting, you confirm your commitment to support assigned students professionally and responsibly."})]}),e.jsxs("div",{className:"space-y-4 pt-4",children:[f&&e.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50/60 p-3 text-sm text-rose-600",children:f}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{type:"button",onClick:o===0?_:S,className:"rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:o===0?"Cancel":"Previous"}),e.jsx("button",{type:"button",onClick:j,disabled:b,className:`rounded-full px-5 py-2 text-sm font-semibold text-white transition bg-primary hover:bg-primary/90 ${b?"cursor-wait opacity-80":""}`,children:o===2?b?"Submitting":"Submit Application":"Next"})]}),e.jsxs("p",{className:"text-xs text-slate-400",children:[o===0&&"Please complete the required fields before continuing.",o===1&&"Select at least one skill to highlight your strengths.",o===2&&"Choose mentorship areas and availability to finish your application."]})]})]})]})]})]})},as=({label:a,type:n="text",value:r,onChange:o,placeholder:c})=>e.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:[a,e.jsx("input",{type:n,value:r,onChange:o,placeholder:c,className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-2 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40"})]}),jl=({label:a,value:n,onChange:r,options:o})=>e.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:[a,e.jsx("select",{value:n,onChange:r,className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-2 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40",children:o.map(c=>e.jsx("option",{value:c,children:c},c))})]}),Ie=({label:a,error:n,className:r="",...o})=>e.jsxs("label",{className:`flex flex-col gap-2 text-sm font-medium text-slate-700 ${r}`,children:[e.jsx("span",{children:a}),e.jsx("input",{...o,className:`rounded-lg border px-4 py-2.5 text-sm text-slate-900 placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 ${n?"border-red-400":"border-slate-200"}`}),n&&e.jsx("span",{className:"text-xs font-normal text-red-500",children:n})]}),d0=({label:a,error:n,className:r="",...o})=>e.jsxs("label",{className:`flex flex-col gap-2 text-sm font-medium text-slate-700 ${r}`,children:[e.jsx("span",{children:a}),e.jsx("textarea",{...o,className:`rounded-lg border px-4 py-2.5 text-sm text-slate-900 placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 ${n?"border-red-400":"border-slate-200"}`}),n&&e.jsx("span",{className:"text-xs font-normal text-red-500",children:n})]}),z4=({label:a,values:n=[],onChange:r})=>{const[o,c]=x.useState(""),u=()=>{const y=o.trim();if(y){if(n.includes(y)){c("");return}r?.([...n,y]),c("")}},p=y=>{r?.(n.filter(f=>f!==y))},b=y=>{y.key==="Enter"?(y.preventDefault(),u()):y.key==="Backspace"&&!o&&p(n[n.length-1])};return e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:a}),e.jsxs("div",{className:"flex flex-wrap gap-2 rounded-lg border border-slate-200 px-3 py-2",children:[n.map(y=>e.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:[y,e.jsx("button",{type:"button","aria-label":`Remove ${y}`,onClick:()=>p(y),children:""})]},y)),e.jsx("input",{type:"text",value:o,onChange:y=>c(y.target.value),onKeyDown:b,className:"flex-1 min-w-[120px] border-none px-2 py-1 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none",placeholder:"Type and press Enter"})]})]})},Ni=({onFileSelect:a,onFileRemove:n,accept:r="image/*,application/pdf",maxSize:o=5*1024*1024,multiple:c=!1,className:u="",children:p,disabled:b=!1,showLocation:y=!1,onLocationChange:f,location:g=""})=>{const[h,v]=x.useState(!1),[C,N]=x.useState(""),[k,j]=x.useState(!1),[S,_]=x.useState(null),B=x.useRef(null),D=T=>T.size>o?(N(`File size must be less than ${Math.round(o/1024/1024)}MB`),!1):r.split(",").map(W=>W.trim()).some(W=>W==="image/*"?T.type.startsWith("image/"):W==="application/pdf"?T.type==="application/pdf":T.type===W)?!0:(N("Invalid file type. Only images and PDFs are allowed."),!1),E=async T=>{N(""),j(!0);try{if(c){const O=Array.from(T).filter(D);O.length>0&&await a(O)}else{const O=T[0];if(O&&D(O)){const Y=await a(O);Y&&_(Y)}}}catch(O){N(O.message||"Upload failed")}finally{j(!1)}},P=T=>{T.preventDefault(),b||v(!0)},z=T=>{T.preventDefault(),v(!1)},$=T=>{if(T.preventDefault(),b)return;v(!1);const O=T.dataTransfer.files;E(O)},F=T=>{!b&&!k&&B.current?.click()},H=T=>{const O=T.target.files;O&&O.length>0&&E(O)},U=()=>{_(null),N(""),B.current&&(B.current.value=""),n?.()};return e.jsxs("div",{className:u,children:[S?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg bg-slate-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:S.fileType?.startsWith("image/")?e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}):e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:S.fileName||S.file_name}),e.jsxs("p",{className:"text-xs text-slate-500",children:[S.fileType||S.file_type,"  ",Math.round((S.size||S.size_bytes)/1024)," KB"]})]})]}),e.jsx("button",{type:"button",onClick:U,className:"text-slate-400 hover:text-red-500 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y&&e.jsx("div",{className:"mt-3",children:e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Location (Optional)"}),e.jsx("input",{type:"text",value:g,onChange:T=>f?.(T.target.value),placeholder:"e.g. New York, NY or Online",className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]})})]}):e.jsxs("div",{className:`
            border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-colors
            ${h?"border-primary bg-primary/5":"border-slate-300 hover:border-primary/50 hover:bg-slate-50"}
            ${b?"opacity-50 cursor-not-allowed":""}
            ${k?"pointer-events-none":""}
          `,onDragOver:P,onDragLeave:z,onDrop:$,onClick:F,children:[e.jsx("input",{ref:B,type:"file",accept:r,multiple:c,onChange:H,className:"hidden",disabled:b}),k?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Uploading image..."}),e.jsx("p",{className:"text-xs text-slate-500",children:"Please wait"})]})]}):p||e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-700",children:c?"Drop files here or click to upload":"Drop file here or click to upload"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:r.includes("image")&&r.includes("pdf")?"Images and PDFs up to 5MB":r.includes("image")?"Images up to 5MB":"PDFs up to 5MB"})]})]})]}),C&&e.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 p-2 rounded-lg",children:C})]})},Ku=async(a,n="general")=>{const r=new FormData;r.append("file",a);try{return(await _e(`/upload/upload?type=${n}`,r,{includeAuth:!0})).data}catch(o){throw new Error(o.message||"Upload failed")}},U4=async a=>Ku(a,"profile"),P4=async a=>Ku(a,"cover"),$4=async a=>Ku(a,"certification"),Rn={title:"",company:"",type:"",startDate:"",endDate:"",isCurrent:!1,description:""},Tn={school:"",degree:"",otherDegree:"",field:"",department:"",admissionYear:"",passoutYear:"",expectedPassoutYear:"",isCurrent:!1,cgpa:""},wi={title:"",organization:"",location:"",date:"",file:null,fileName:"",fileType:""},u0={firstName:"",lastName:"",title:"",department:"",location:"",about:"",email:"",phone:"",skills:[],badges:[],certifications:[],avatar:"",cover:"",linkedin:"",github:"",instagram:"",customSocials:[{label:"",url:""}],experiences:[],education:[],admissionYear:"",expectedPassoutYear:"",passoutYear:""},Y4=[{value:"full-time",label:"Full-time"},{value:"part-time",label:"Part-time"},{value:"internship",label:"Internship"},{value:"other",label:"Other"}],q4=["SSC (10th Grade)","HSC (12th Grade)","Undergraduate","Postgraduate","Master's Degree","PhD","Other"],m0=a=>{switch(a){case"SSC (10th Grade)":return"Board";case"HSC (12th Grade)":return"Stream";case"Undergraduate":case"Postgraduate":case"Master's Degree":case"PhD":return"Field/Department";default:return"Field/Department"}},H4=a=>{switch(a){case"SSC (10th Grade)":return["State Board","CBSE","ICSE","IB","Other"];case"HSC (12th Grade)":return["Science","Commerce","Arts","Vocational","Other"];case"Undergraduate":case"Postgraduate":case"Master's Degree":case"PhD":return["Computer Science","Engineering","Business Administration","Medicine","Arts","Science","Mathematics","Physics","Chemistry","Biology","Economics","Psychology","Literature","History","Philosophy","Other"];default:return["Other"]}},F4=a=>{switch(a){case"Computer Science":return["Artificial Intelligence","Machine Learning","Data Science","Software Engineering","Cybersecurity","Web Development","Mobile Development","Cloud Computing","Database Systems","Computer Networks","Other"];case"Engineering":return["Computer Engineering","Mechanical Engineering","Civil Engineering","Electrical Engineering","Chemical Engineering","Aerospace Engineering","Biomedical Engineering","Environmental Engineering","Industrial Engineering","Materials Engineering","Other"];case"Business Administration":return["Finance","Marketing","Human Resources","Operations Management","International Business","Entrepreneurship","Supply Chain Management","Information Systems","Healthcare Management","Hospitality Management","Other"];case"Medicine":return["General Medicine","Surgery","Pediatrics","Cardiology","Neurology","Oncology","Psychiatry","Dermatology","Orthopedics","Gynecology","Other"];case"Science":return["Physics","Chemistry","Biology","Environmental Science","Biotechnology","Biochemistry","Microbiology","Botany","Zoology","Geology","Other"];case"Mathematics":return["Applied Mathematics","Pure Mathematics","Statistics","Actuarial Science","Computational Mathematics","Mathematical Physics","Operations Research","Financial Mathematics","Cryptography","Topology","Other"];case"Arts":return["Fine Arts","Performing Arts","Visual Arts","Digital Arts","Graphic Design","Fashion Design","Interior Design","Photography","Sculpture","Music","Other"];case"Economics":return["Microeconomics","Macroeconomics","International Economics","Development Economics","Financial Economics","Behavioral Economics","Health Economics","Environmental Economics","Labor Economics","Urban Economics","Other"];case"Psychology":return["Clinical Psychology","Counseling Psychology","Educational Psychology","Industrial Psychology","Social Psychology","Developmental Psychology","Cognitive Psychology","Forensic Psychology","Health Psychology","Sports Psychology","Other"];case"Literature":return["English Literature","American Literature","World Literature","Comparative Literature","Creative Writing","Journalism","Linguistics","Classical Literature","Modern Literature","Poetry","Other"];case"History":return["Ancient History","Medieval History","Modern History","World History","American History","European History","Asian History","Military History","Cultural History","Economic History","Other"];case"Philosophy":return["Ethics","Logic","Metaphysics","Epistemology","Political Philosophy","Philosophy of Mind","Philosophy of Science","Aesthetics","Philosophy of Language","Continental Philosophy","Other"];default:return["Other"]}},V4={summary:"Edit Profile Summary",about:"Edit About",contact:"Edit Contact Information",socials:"Edit Social Links",skills:"Edit Skills",badges:"Edit Certifications",experience:"Edit Experience",education:"Edit Education",cover:"Change Cover Image"},I4=({isOpen:a,onClose:n,profile:r,onSave:o,activeSection:c="summary",role:u="student"})=>{const p=(u||r?.raw?.role||"student").toLowerCase(),b=p==="student",y=p==="alumni",[f,g]=x.useState(u0),[h,v]=x.useState(r?.avatar??""),[C,N]=x.useState(r?.cover??"");x.useEffect(()=>{if(!(!a||!r))switch(c){case"summary":g({firstName:r.raw?.firstName??r.name?.split(" ")?.[0]??"",lastName:r.raw?.lastName??r.name?.split(" ")?.slice(1).join(" ")??"",title:r.title??r.raw?.title??"",department:r.department??r.raw?.department??"",currentYear:r.currentYear??r.raw?.currentYear??"",passoutYear:r.passoutYear??r.raw?.passoutYear??""}),v(r.avatar??""),N(r.cover??"");break;case"about":g({about:r.about??""}),v(r.avatar??""),N(r.cover??"");break;case"contact":{g({email:r.contact?.email??"",phone:r.contact?.phone??""}),v(r.avatar??""),N(r.cover??"");break}case"socials":{const A=Object.entries(r.socials??{}).map(([R,q])=>({label:R,url:q}));g({linkedin:r.socials?.linkedin??"",github:r.socials?.github??"",instagram:r.socials?.instagram??"",customSocials:A.filter(({label:R})=>!["linkedin","github","instagram"].includes(R.toLowerCase()))}),v(r.avatar??""),N(r.cover??"");break}case"cover":N(r.cover??"");break;case"skills":g({skills:[...r.skills??[]]}),v(r.avatar??""),N(r.cover??"");break;case"badges":g({certifications:[...r.certifications??[]]}),v(r.avatar??""),N(r.cover??"");break;case"experience":{const A=(r.experiences??[]).map(R=>({...Rn,...R,isCurrent:!!R?.isCurrent}));g({experiences:A.length?A:[{...Rn}]}),v(r.avatar??""),N(r.cover??"");break}case"education":{const A=(r.education??[]).map(R=>({...Tn,...R,passoutYear:R.passoutYear??R.year??"",expectedPassoutYear:R.expectedPassoutYear??"",isCurrent:!!R.isCurrent||!(R.passoutYear??R.year)&&!!R.expectedPassoutYear,cgpa:R.cgpa??R.grade??""}));g({education:A.length?A:[{...Tn}]}),v(r.avatar??""),N(r.cover??"");break}default:g(u0),v(r.avatar??""),N(r.cover??"")}},[a,r,c]);const k=(A,R)=>{g(q=>({...q,[A]:R}))},j=(A,R,q)=>{g(J=>{const M=[...J.customSocials??[]];return M[A]={...M[A],[R]:q},{...J,customSocials:M}})},S=()=>{g(A=>({...A,customSocials:[...A.customSocials??[],{label:"",url:""}]}))},_=A=>{g(R=>{const q=[...R.customSocials??[]];return q.splice(A,1),{...R,customSocials:q.length?q:[{label:"",url:""}]}})},B=(A,R,q)=>{g(J=>{const M=[...J.experiences??[]];return M[A]={...M[A],[R]:q},{...J,experiences:M}})},D=(A,R)=>{g(q=>{const J=[...q.experiences??[]];return J[A]={...J[A],isCurrent:R,endDate:R?"":J[A].endDate},{...q,experiences:J}})},E=(A,R,q)=>{g(J=>{const M=[...J.education??[]];return M[A]={...M[A],[R]:q},{...J,education:M}})},P=(A,R)=>{g(q=>{const J=[...q.education??[]],M={...J[A],isCurrent:R};return R?M.passoutYear="":M.expectedPassoutYear="",J[A]=M,{...q,education:J}})},z=()=>{g(A=>({...A,experiences:[...A.experiences??[],{...Rn}]}))},$=A=>{g(R=>{const q=[...R.experiences??[]];return q.splice(A,1),{...R,experiences:q.length?q:[{...Rn}]}})},F=()=>{g(A=>({...A,education:[...A.education??[],{...Tn}]}))},H=A=>{g(R=>{const q=[...R.education??[]];return q.splice(A,1),{...R,education:q.length?q:[{...Tn}]}})},U=(A,R,q)=>{g(J=>{const M=[...J.certifications??[]];return M.length===0&&A===0?M[0]={...wi,[R]:q}:M[A]={...M[A],[R]:q},{...J,certifications:M}})},T=async(A,R)=>{if(R&&(R.type==="image/jpeg"||R.type==="image/png"||R.type==="application/pdf"))try{const q=await $4(R);g(J=>{const M=[...J.certifications??[]];return M.length===0&&A===0?M[0]={...wi,fileName:q.file_name,fileType:q.file_type,fileUrl:q.url,publicId:q.public_id}:M[A]={...M[A],fileName:q.file_name,fileType:q.file_type,fileUrl:q.url,publicId:q.public_id},{certifications:M}})}catch(q){console.error("Certification upload failed:",q)}},O=()=>{g(A=>({...A,certifications:[...A.certifications??[],{...wi}]}))},Y=A=>{g(R=>{const q=[...R.certifications??[]];return q.splice(A,1),{...R,certifications:q.length?q:[{...wi}]}})},W=A=>{A.preventDefault();let R={};switch(c){case"summary":R={firstName:f.firstName,lastName:f.lastName,title:f.title,department:f.department,avatar:f.avatar??h},b&&(R.currentYear=f.currentYear),y&&(R.passoutYear=f.passoutYear);break;case"about":R={about:f.about};break;case"contact":R={email:f.email,phone:f.phone};break;case"socials":{const q={};f.linkedin&&(q.linkedin=f.linkedin),f.github&&(q.github=f.github),f.instagram&&(q.instagram=f.instagram),(f.customSocials??[]).forEach(({label:J,url:M})=>{J&&M&&(q[J]=M)}),R={socials:q};break}case"cover":R={cover:C};break;case"skills":R={skills:f.skills??[]};break;case"badges":R={certifications:(f.certifications??[]).filter(q=>q.title||q.organization)};break;case"experience":{R={experiences:(f.experiences??[]).map(J=>({...Rn,...J})).filter(J=>J.title||J.company||J.description)};break}case"education":{R={education:(f.education??[]).map(J=>({...Tn,...J,year:J.year??(J.isCurrent?J.expectedPassoutYear:J.passoutYear),grade:J.cgpa,expectedPassoutYear:J.isCurrent?J.expectedPassoutYear:"",passoutYear:J.isCurrent?"":J.passoutYear})).filter(J=>J.school||J.degree||J.passoutYear||J.expectedPassoutYear||J.cgpa)};break}default:R=f}o?.(R),n?.()},I=()=>{if(u==="faculty"&&["skills","badges","education"].includes(c))return e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-slate-500",children:"This section is not available for faculty profiles."})});switch(c){case"summary":return e.jsx(e.Fragment,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex flex-wrap items-start gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("img",{src:h||"https://api.dicebear.com/7.x/initials/svg?seed=Profile",alt:"Avatar preview",className:"h-24 w-24 rounded-full border border-slate-200 object-cover shadow-sm"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ni,{onFileSelect:async A=>{try{const R=await U4(A);k("avatar",R.url),v(R.url)}catch(R){console.error("Upload failed:",R)}},accept:"image/*",className:"w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"w-4 h-4 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("p",{className:"text-xs text-slate-600",children:"Upload Profile"})]})}),e.jsx(Ie,{label:"Or enter URL",value:f.avatar??"",onChange:A=>{const R=A.target.value;k("avatar",R),v(R)},placeholder:"https://..."})]})]}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(Ie,{label:"First Name",value:f.firstName??"",onChange:A=>k("firstName",A.target.value),required:!0}),e.jsx(Ie,{label:"Last Name",value:f.lastName??"",onChange:A=>k("lastName",A.target.value)}),e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Department / Program"}),e.jsxs("select",{value:f.department??"",onChange:A=>k("department",A.target.value),className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select department"}),e.jsx("option",{value:"Computer Science",children:"Computer Science"}),e.jsx("option",{value:"Engineering",children:"Engineering"}),e.jsx("option",{value:"Business",children:"Business"}),e.jsx("option",{value:"Medicine",children:"Medicine"}),e.jsx("option",{value:"Arts",children:"Arts"}),e.jsx("option",{value:"Science",children:"Science"}),e.jsx("option",{value:"Mathematics",children:"Mathematics"}),e.jsx("option",{value:"Physics",children:"Physics"}),e.jsx("option",{value:"Chemistry",children:"Chemistry"}),e.jsx("option",{value:"Biology",children:"Biology"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Role"}),e.jsxs("select",{value:f.title??"",onChange:A=>k("title",A.target.value),className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select role"}),e.jsx("option",{value:"Student",children:"Student"}),e.jsx("option",{value:"Alumni",children:"Alumni"}),e.jsx("option",{value:"Faculty",children:"Faculty"})]})]}),b?e.jsx(Ie,{label:"Current Year",value:f.currentYear??"",onChange:A=>k("currentYear",A.target.value),placeholder:"e.g. 1, 2, 3, 4"}):null,y?e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Passout Year"}),e.jsxs("select",{value:f.passoutYear??"",onChange:A=>k("passoutYear",A.target.value),className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select passout year"}),Array.from({length:50},(A,R)=>new Date().getFullYear()-R).map(A=>e.jsx("option",{value:A,children:A},A))]})]}):null]})})]})})});case"about":return e.jsx(d0,{label:"About",rows:5,value:f.about??"",onChange:A=>k("about",A.target.value)});case"contact":return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(Ie,{label:"Email",type:"email",value:f.email??"",onChange:A=>k("email",A.target.value)}),e.jsx(Ie,{label:"Phone",value:f.phone??"",onChange:A=>k("phone",A.target.value)})]})});case"socials":return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Social Links"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ie,{label:"LinkedIn Profile URL",value:f.linkedin??"",onChange:A=>k("linkedin",A.target.value),placeholder:"https://linkedin.com/in/yourprofile"}),e.jsx(Ie,{label:"GitHub Profile URL",value:f.github??"",onChange:A=>k("github",A.target.value),placeholder:"https://github.com/yourusername"}),e.jsx(Ie,{label:"Instagram Profile URL",value:f.instagram??"",onChange:A=>k("instagram",A.target.value),placeholder:"https://instagram.com/yourusername"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Custom Links"}),e.jsx("button",{type:"button",onClick:S,className:"text-sm font-semibold text-primary hover:text-primary-dark",children:"+ Add Custom Link"})]}),(f.customSocials??[]).map((A,R)=>e.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-200 p-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(Ie,{label:"Platform Name",value:A.label??"",onChange:q=>j(R,"label",q.target.value),placeholder:"e.g. Twitter, Website, Portfolio"}),e.jsx(Ie,{label:"Profile URL",value:A.url??"",onChange:q=>j(R,"url",q.target.value),placeholder:"https://..."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>_(R),className:"text-sm font-semibold text-rose-500 hover:text-rose-600",children:"Remove"})})]},`custom-social-${R}`))]})]});case"cover":return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Cover Image"}),e.jsx(Ni,{onFileSelect:async A=>{try{const R=await P4(A);N(R.url)}catch(R){console.error("Upload failed:",R)}},accept:"image/*",className:"w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"w-6 h-6 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"text-sm text-slate-600",children:"Upload Cover Image"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Images up to 5MB"})]})})]}),C&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Preview:"}),e.jsx("img",{src:C,alt:"Cover preview",className:"h-32 w-full rounded-lg object-cover"})]})]})});case"skills":return e.jsx(z4,{label:"Skills",values:f.skills??[],onChange:A=>k("skills",A)});case"badges":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Certifications"}),(f.certifications??[]).length>0&&(f.certifications[0].title||f.certifications[0].organization)&&e.jsx("button",{type:"button",onClick:O,className:"text-sm font-semibold text-primary hover:text-primary-dark",children:"+ Add Certification"})]}),(f.certifications??[]).length===0?e.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-200 p-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(Ie,{label:"Certification Title",value:"",onChange:A=>U(0,"title",A.target.value),placeholder:"e.g. AWS Certified Developer"}),e.jsx(Ie,{label:"Organization",value:"",onChange:A=>U(0,"organization",A.target.value),placeholder:"e.g. Amazon Web Services"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(Ie,{label:"Location",value:"",onChange:A=>U(0,"location",A.target.value),placeholder:"e.g. New York, NY or Online"}),e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Date"}),e.jsx("input",{type:"month",value:"",onChange:A=>U(0,"date",A.target.value),className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Upload Certificate (Image or PDF)"}),e.jsx(Ni,{onFileSelect:A=>T(0,A),accept:"image/*,application/pdf",className:"w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"w-4 h-4 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("p",{className:"text-xs text-slate-600",children:"Upload Certificate"})]})})]})})]}):(f.certifications??[]).map((A,R)=>e.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-200 p-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(Ie,{label:"Certification Title",value:A.title??"",onChange:q=>U(R,"title",q.target.value),placeholder:"e.g. AWS Certified Developer"}),e.jsx(Ie,{label:"Organization",value:A.organization??"",onChange:q=>U(R,"organization",q.target.value),placeholder:"e.g. Amazon Web Services"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(Ie,{label:"Location",value:A.location??"",onChange:q=>U(R,"location",q.target.value),placeholder:"e.g. New York, NY or Online"}),e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Date"}),e.jsx("input",{type:"month",value:A.date??"",onChange:q=>U(R,"date",q.target.value),className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Upload Certificate (Image or PDF)"}),e.jsx(Ni,{onFileSelect:q=>T(R,q),accept:"image/*,application/pdf",className:"w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"w-4 h-4 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("p",{className:"text-xs text-slate-600",children:"Upload Certificate"})]})})]}),A.fileName&&e.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Selected: ",A.fileName]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>Y(R),className:"text-sm font-semibold text-rose-500 hover:text-rose-600",children:"Remove"})})]},`cert-${R}`)),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"button",onClick:O,className:"text-sm font-semibold text-primary hover:text-primary-dark",children:"+ Add Certifications"})})]});case"experience":return e.jsxs("div",{className:"space-y-6",children:[(f.experiences??[]).map((A,R)=>e.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-200 p-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(Ie,{label:"Role Title",value:A.title??"",onChange:q=>B(R,"title",q.target.value)}),e.jsx(Ie,{label:"Company",value:A.company??"",onChange:q=>B(R,"company",q.target.value)}),e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Employment Type"}),e.jsxs("select",{value:A.type??"",onChange:q=>B(R,"type",q.target.value),className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select type"}),Y4.map(q=>e.jsx("option",{value:q.value,children:q.label},q.value))]})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Start Date"}),e.jsx("input",{type:"month",value:A.startDate??"",onChange:q=>B(R,"startDate",q.target.value),className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),e.jsxs("label",{className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-600",children:[e.jsx("input",{type:"checkbox",checked:!!A.isCurrent,onChange:q=>D(R,q.target.checked),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/30"}),"Currently working here"]})]}),e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"End Date"}),e.jsx("input",{type:"month",value:A.isCurrent?"":A.endDate??"",onChange:q=>B(R,"endDate",q.target.value),disabled:!!A.isCurrent,className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:cursor-not-allowed disabled:bg-slate-100"})]})]}),e.jsx(d0,{label:"Description",rows:3,value:A.description??"",onChange:q=>B(R,"description",q.target.value)}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>$(R),className:"text-sm font-semibold text-rose-500 hover:text-rose-600",children:"Remove"})})]},`experience-${R}`)),e.jsx("button",{type:"button",onClick:z,className:"text-sm font-semibold text-primary hover:text-primary-dark",children:"+ Add experience"})]});case"education":return e.jsxs("div",{className:"space-y-6",children:[(f.education??[]).map((A,R)=>e.jsxs("div",{className:"space-y-5 rounded-2xl border border-slate-200 p-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(Ie,{label:"Institution",value:A.school??"",onChange:q=>E(R,"school",q.target.value)}),e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Degree"}),e.jsxs("select",{value:A.degree??"",onChange:q=>E(R,"degree",q.target.value),className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select degree"}),q4.map(q=>e.jsx("option",{value:q,children:q},q))]})]}),A.degree==="Other"&&e.jsx(Ie,{label:"Specify Degree",value:A.otherDegree??"",onChange:q=>E(R,"otherDegree",q.target.value),placeholder:"e.g. Diploma, Certificate"}),e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:m0(A.degree)}),e.jsxs("select",{value:A.field??"",onChange:q=>E(R,"field",q.target.value),className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsxs("option",{value:"",children:["Select ",m0(A.degree)]}),H4(A.degree).map(q=>e.jsx("option",{value:q,children:q},q))]})]}),A.field&&A.field!=="Other"&&e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Department"}),e.jsxs("select",{value:A.department??"",onChange:q=>E(R,"department",q.target.value),className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select Department"}),F4(A.field).map(q=>e.jsx("option",{value:q,children:q},q))]})]}),e.jsxs("label",{className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-600",children:[e.jsx("input",{type:"checkbox",checked:!!A.isCurrent,onChange:q=>P(R,q.target.checked),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary/30"}),"Currently pursuing"]}),!A.isCurrent&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Admission Year"}),e.jsx("input",{type:"number",min:"1900",max:"2100",value:A.admissionYear??"",onChange:q=>E(R,"admissionYear",q.target.value),placeholder:"e.g. 2020",className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Passout Year"}),e.jsx("input",{type:"number",min:"1900",max:"2100",value:A.passoutYear??"",onChange:q=>E(R,"passoutYear",q.target.value),placeholder:"e.g. 2024",className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),A.isCurrent&&e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"Expected Passout Year"}),e.jsx("input",{type:"number",min:"1900",max:"2100",value:A.expectedPassoutYear??"",onChange:q=>E(R,"expectedPassoutYear",q.target.value),placeholder:"e.g. 2025",className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:[e.jsx("span",{children:"CGPA / Percentage"}),e.jsx("input",{type:"text",value:A.cgpa??"",onChange:q=>E(R,"cgpa",q.target.value),placeholder:"e.g. 8.7 CGPA or 85%",className:"rounded-lg border border-slate-200 px-4 py-2.5 text-sm text-slate-900 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>H(R),className:"text-sm font-semibold text-rose-500 hover:text-rose-600",children:"Remove"})})]},`education-${R}`)),e.jsx("button",{type:"button",onClick:F,className:"text-sm font-semibold text-primary hover:text-primary-dark",children:"+ Add education"})]});default:return null}};return e.jsx(no,{isOpen:a,onClose:n,title:V4[c]??"Edit Profile",width:"max-w-2xl",children:e.jsxs("form",{className:"space-y-6",onSubmit:W,children:[I(),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:n,className:"rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600 hover:border-slate-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white transition hover:bg-primary-dark",children:"Save Changes"})]})]})})},G4=({user:a,onClose:n})=>{const r=Je(a?.profileApprovalStatus),o=r===ke.IN_REVIEW||db(r),c=r===ke.REJECTED||ub(r),u=b=>{b?.stopPropagation(),console.log("ProfileApprovalPopup: Close button clicked"),n&&typeof n=="function"&&n()},p=b=>{b.target===b.currentTarget&&(console.log("ProfileApprovalPopup: Backdrop clicked"),n&&typeof n=="function"&&n())};return!o&&!c?null:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 px-4",onClick:p,children:e.jsxs("div",{className:"relative max-w-md w-full",onClick:b=>b.stopPropagation(),children:[e.jsx("button",{onClick:u,type:"button",className:"absolute -top-8 right-0 text-white/90 hover:text-white transition-colors z-10","aria-label":"Close popup",children:e.jsx(eo,{className:"h-6 w-6"})}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-full mb-3 ${c?"bg-rose-100":"bg-amber-100"}`,children:c?e.jsx(Ra,{className:"h-6 w-6 text-rose-600"}):e.jsx(us,{className:"h-6 w-6 text-amber-600 animate-pulse"})}),e.jsx("h1",{className:"text-xl font-bold text-slate-900 mb-2",children:c?"Profile Not Approved":"Profile Under Review"}),e.jsx("p",{className:"text-sm text-slate-600",children:c?"Your profile could not be approved at this time.":"Your profile is currently being reviewed by our administrators."})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("div",{className:`rounded-xl p-3 ${c?"bg-rose-50 border border-rose-200":"bg-amber-50 border border-amber-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[c?e.jsx(Ra,{className:"h-4 w-4 text-rose-600 flex-shrink-0 mt-0.5"}):e.jsx(us,{className:"h-4 w-4 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-sm font-semibold mb-1 ${c?"text-rose-800":"text-amber-800"}`,children:c?"Review Status":"Review Timeline"}),e.jsx("p",{className:`text-xs ${c?"text-rose-700":"text-amber-700"}`,children:c?`Your profile was reviewed but could not be approved. ${a?.profileRejectionReason?`Reason: ${a.profileRejectionReason}`:"Please contact support for more details."}`:"Our team typically reviews profiles within 2-4 business days."})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"What you can do:"}),e.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5 text-xs",children:""}),e.jsx("span",{children:"You can access only your profile page"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5 text-xs",children:""}),e.jsx("span",{children:"Update your profile information"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5 text-xs",children:""}),e.jsx("span",{children:"Check your email regularly for updates"})]})]})]}),e.jsx("div",{className:`rounded-xl p-3 ${c?"bg-rose-50 border border-rose-200":"bg-slate-50 border border-slate-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ki,{className:"h-4 w-4 text-slate-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-1",children:c?"Contact Your Department Coordinator":"Need Help?"}),e.jsx("p",{className:"text-xs text-slate-700",children:c?"Please contact your department coordinator for assistance with your profile approval.":"Contact our support team at support@alumconnect.com"})]})]})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:u,type:"button",className:"rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white shadow hover:bg-primary-dark transition-colors",children:"I Understand"})})]})]})})},x0="profile_review_popup_dismissed",p0="profile_approved_popup_dismissed",Pb={name:"",title:"",location:"",cover:"",avatar:"",about:"",contact:{email:"",phone:""},socials:{},skills:[],certifications:[],experiences:[],education:[],stats:{connections:0,mentorships:0,views:0}},X4=a=>a?a instanceof Map?Object.fromEntries(a.entries()):typeof a=="object"?{...a}:{}:{},Si=a=>a?Array.isArray(a)?a:[a].filter(Boolean):[],h0=(a={})=>{const n=a.firstName??"",r=a.lastName??"",o=[n,r].filter(Boolean).join(" ").trim(),c={email:a.email??"",phone:a.phone??""};return{...Pb,name:o||a.name||"",title:a.title&&a.title.trim()||(a.role?`${a.role.charAt(0).toUpperCase()}${a.role.slice(1)}`:""),location:a.location??"",avatar:a.avatar??"",cover:a.cover??"",about:a.about??"",skills:Si(a.skills),certifications:Si(a.certifications),contact:c,socials:X4(a.socials),experiences:Si(a.experiences),education:Si(a.education),stats:{connections:Number(a?.stats?.connections??0),mentorships:Number(a?.stats?.mentorships??0),views:Number(a?.stats?.views??0)},raw:{...a,currentYear:a.currentYear,passoutYear:a.passoutYear,department:a.department,role:a.role}}},f0={summary:"Profile summary updated.",about:"About section updated.",contact:"Contact details updated.",socials:"Social links updated.",skills:"Skills updated.",badges:"Certifications updated.",experience:"Experience updated.",education:"Education updated.",cover:"Cover image updated."},W4=()=>{const a=Zu(!1),n=je(),{user:r,updateUser:o}=ye(),[c,u]=x.useState(!1),[p,b]=x.useState(!1),[y,f]=x.useState(r?.profileApprovalStatus??null),[g,h]=x.useState("summary"),[v,C]=x.useState(Pb),[N,k]=x.useState(!0),[j,S]=x.useState(!0),_=x.useMemo(()=>r?.role??"student",[r]),B=x.useMemo(()=>r?.id??r?._id??r?.email??"anonymous",[r?.email,r?._id,r?.id]),D=x.useCallback((O,Y)=>`${O}:${B}:${Y}`,[B]),E=x.useCallback((O,Y)=>typeof window>"u"?!1:window.localStorage.getItem(D(O,Y))==="true",[D]),P=x.useCallback((O,Y)=>{typeof window>"u"||window.localStorage.setItem(D(O,Y),"true")},[D]),z=x.useCallback(async()=>{try{const Y=(await ce("/auth/profile/me"))?.data;if(!Y)return;o({profileApprovalStatus:Je(Y.profileApprovalStatus),isProfileApproved:qi(Y.profileApprovalStatus),profile:Y})}catch(O){console.error("Profile: Failed to refresh user data:",O)}},[o]);x.useEffect(()=>{z()},[z]),x.useEffect(()=>{const O=r?.profileApprovalStatus;if(!O)return;const Y=Je(O),W=Je(y??ke.IN_REVIEW),I=(Y===ke.IN_REVIEW||Y===ke.REJECTED)&&!E(x0,Y),A=Y===ke.APPROVED&&W!==ke.APPROVED&&!E(p0,ke.APPROVED);u(I),b(A),f(Y)},[E,y,r?.profileApprovalStatus]),x.useEffect(()=>{const O=setInterval(()=>{z()},3e4);return()=>{console.log("Profile: Clearing profile status polling interval"),clearInterval(O)}},[z,r?.profileApprovalStatus]);const $=x.useCallback(async()=>{try{k(!0);const O=await ce("/auth/profile/me"),Y=h0(O.data);C(Y),o({avatar:O.data.avatar??"",cover:O.data.cover??"",firstName:O.data.firstName??r?.firstName,lastName:O.data.lastName??r?.lastName,profileApprovalStatus:O.data.profileApprovalStatus??r?.profileApprovalStatus,isProfileApproved:O.data.isProfileApproved??r?.isProfileApproved,profile:O.data}),S(!!O.incompleteProfile)}catch(O){n({type:"error",message:O?.message??"Unable to load profile."})}finally{k(!1)}},[n,o,r?.firstName,r?.lastName]);x.useEffect(()=>{$()},[$]);const F=O=>{h(O??"summary"),a.openModal()},H=x.useCallback(async(O,Y)=>{try{const W={...O};O.skills&&(W.skills=O.skills),_==="student"&&(O.currentYear!==void 0&&(W.currentYear=O.currentYear),O.admissionYear!==void 0&&(W.admissionYear=O.admissionYear),O.expectedPassoutYear!==void 0&&(W.expectedPassoutYear=O.expectedPassoutYear)),_==="alumni"&&O.passoutYear!==void 0&&(W.passoutYear=O.passoutYear);const I=await Pt("/auth/profile/me",W),A=h0(I.data);C(A),o({avatar:I.data.avatar??"",cover:I.data.cover??"",firstName:I.data.firstName??A.raw?.firstName,lastName:I.data.lastName??A.raw?.lastName,profile:I.data}),S(!1);const R=f0[Y]??I.message??"Profile updated successfully.";n({type:"success",message:R})}catch(W){n({type:"error",message:W?.message??"Unable to update profile."})}},[n,o,_,f0]),U=x.useCallback(()=>{const O=Je(r?.profileApprovalStatus);P(x0,O),u(!1)},[P,r?.profileApprovalStatus]),T=x.useCallback(()=>{P(p0,ke.APPROVED),b(!1)},[P]);return N?e.jsxs("div",{className:"grid gap-6",children:[e.jsx("div",{className:"h-56 animate-pulse rounded-3xl bg-slate-200"}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-[35%_1fr]",children:[e.jsx("div",{className:"h-72 animate-pulse rounded-3xl bg-slate-200"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-48 animate-pulse rounded-3xl bg-slate-200"}),e.jsx("div",{className:"h-48 animate-pulse rounded-3xl bg-slate-200"})]})]})]}):v.raw?e.jsxs("div",{className:"space-y-10 font-profile",children:[e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm font-semibold text-slate-600",children:[e.jsxs(Le,{to:"/dashboard",className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-slate-600 transition hover:border-primary/30 hover:text-primary",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:e.jsx("path",{d:"M15 18l-6-6 6-6"})}),"Back"]}),e.jsx("span",{className:"hidden text-xs uppercase tracking-[0.2em] text-slate-400 sm:inline",children:"Profile"})]}),e.jsx("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.2em] text-primary",children:"AlumniConnect"})]}),j&&e.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-2xl border border-amber-300 bg-amber-50 px-6 py-4 text-sm text-amber-800",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Complete your profile"}),e.jsx("p",{className:"text-amber-700/80",children:"Add your personal details so mentors and peers can discover you easily."})]}),e.jsx("button",{type:"button",onClick:()=>F("summary"),className:"rounded-full bg-amber-500 px-5 py-2 text-sm font-semibold text-white shadow hover:bg-amber-600",children:"Update now"})]}),e.jsx(Tb,{profile:v,onEditSection:F}),e.jsx("div",{className:"grid gap-8 lg:grid-cols-[320px_1fr] xl:gap-10",children:_==="faculty"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-500",children:"Contact"}),e.jsx("button",{type:"button",onClick:()=>F("contact"),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary/40 hover:text-primary",children:"Edit"})]}),e.jsxs("div",{className:"mt-4 space-y-3 text-sm text-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-slate-100 bg-slate-50 px-3 py-2",children:[e.jsx("span",{className:"text-primary",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e.jsx("polyline",{points:"22,6 12,13 2,6"})]})}),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:v.contact?.email||"contact@example.com"})]}),e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-slate-100 bg-slate-50 px-3 py-2",children:[e.jsx("span",{className:"text-primary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})}),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:v.contact?.phone||"+1 (555) 000-0000"})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-500",children:"Socials"}),e.jsx("button",{type:"button",onClick:()=>F("socials"),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary/40 hover:text-primary",children:"Edit"})]}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.socials?.linkedin?e.jsx("a",{href:v.socials.linkedin,target:"_blank",rel:"noopener noreferrer",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-500 transition hover:border-primary hover:text-primary","aria-label":"LinkedIn",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}):e.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-300",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),v.socials?.github?e.jsx("a",{href:v.socials.github,target:"_blank",rel:"noopener noreferrer",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-500 transition hover:border-primary hover:text-primary","aria-label":"GitHub",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:e.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}):e.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-300",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:e.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})})]}),Object.keys(v.socials||{}).length===0&&e.jsx("span",{className:"text-xs text-slate-400",children:"Add your social profiles to showcase your presence."})]})]})]})}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-500",children:"About"}),e.jsx("button",{type:"button",onClick:()=>F("about"),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary/40 hover:text-primary",children:"Edit"})]}),e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-sm leading-6 text-slate-600",children:v.about||"Passionate professional with a strong background in teaching and research."})})]}),e.jsx(Vi,{experiences:v.experiences,onEditSection:F})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(_b,{profile:v,onEditSection:F,role:_}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(Vi,{experiences:v.experiences,onEditSection:F}),e.jsx(Ob,{education:v.education,onEditSection:F}),e.jsx(Bb,{certifications:v.certifications,onEditSection:F})]})]})}),e.jsx(I4,{isOpen:a.isOpen,onClose:a.closeModal,profile:v,onSave:H,activeSection:g,role:_}),c?e.jsx(G4,{user:r,onClose:U}):null,p?e.jsx(hb,{user:r,onClose:T}):null]}):e.jsxs("div",{className:"rounded-3xl bg-white p-10 text-center shadow-soft",children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Profile unavailable"}),e.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"We couldnt load your profile details. Please try again later."})]})},Q4="relative mx-auto flex items-center justify-center rounded-full bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary disabled:cursor-not-allowed disabled:opacity-60",J4=()=>e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white/40 border-t-white","aria-hidden":"true"}),"Loading..."]}),Z4=({isLoading:a=!1,disabled:n=!1,onClick:r,children:o="Load More"})=>{const[c,u]=x.useState(!1);return x.useEffect(()=>{const p=requestAnimationFrame(()=>u(!0));return()=>cancelAnimationFrame(p)},[]),e.jsx("button",{type:"button",className:`${Q4} ${c?"opacity-100":"opacity-0"} transition-opacity duration-300`,onClick:r,disabled:n||a,children:a?e.jsx(J4,{}):o})},K4=a=>{if(!a)return"";const n=new Date(a);return Number.isNaN(n.getTime())?"":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(n)},b0="https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&w=1600&q=80",e3=a=>{if(!a)return b0;const n=a.trim();return!n||n.startsWith("blob:")?b0:n},t3=({article:a})=>{const{id:n,title:r,category:o,excerpt:c,coverImage:u,readingTimeMinutes:p,publishedAt:b}=a,y=p?`${p} min read`:"Faculty update",f=K4(b),g=e3(u);return e.jsxs(Le,{to:`/dashboard/news/${n}`,className:"group flex h-full flex-col overflow-hidden rounded-3xl bg-white shadow-soft transition-all duration-300 hover:-translate-y-1 hover:shadow-xl",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:g,alt:`${r} thumbnail`,className:"h-full w-full object-cover transition duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/70 via-slate-900/20 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-white/80",children:[e.jsx("span",{children:o||"Faculty"}),f&&e.jsx("span",{className:"h-1 w-1 rounded-full bg-white/70"}),f&&e.jsx("span",{children:f})]})]}),e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xl font-semibold leading-snug text-slate-900 transition group-hover:text-primary",children:r}),c&&e.jsx("p",{className:"text-sm text-slate-500 line-clamp-3",children:c})]}),e.jsxs("div",{className:"mt-auto flex flex-wrap items-center gap-3 text-xs text-slate-400",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-500",children:[e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:"h-3.5 w-3.5",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l3 3"})]}),y]}),e.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-500",children:[e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:"h-3.5 w-3.5",children:[e.jsx("path",{d:"M5 12h14"}),e.jsx("path",{d:"M12 5l7 7-7 7"})]}),"Read story"]})]})]}),e.jsx("span",{className:"pointer-events-none absolute right-6 top-6 inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 text-xs font-semibold text-primary shadow-sm transition group-hover:bg-white",children:"Faculty Desk"})]})},au=a=>{if(!a)return"";const n=new Date(a);return Number.isNaN(n.getTime())?"":n.toISOString()},Lu=a=>a?{...a,publishedAt:au(a.publishedAt),createdAt:au(a.createdAt),updatedAt:au(a.updatedAt)}:null,$b=()=>{const[a,n]=x.useState([]),[r,o]=x.useState(!0),[c,u]=x.useState(null),p=je(),b=x.useCallback(async()=>{o(!0),u(null);try{const f=await ce("/news",{includeAuth:!1}),g=Array.isArray(f?.data)?f.data:[];n(g.map(Lu).filter(Boolean))}catch(f){u(f),p?.({title:"Unable to load news",description:f.message??"Please try again later.",tone:"error"})}finally{o(!1)}},[p]);x.useEffect(()=>{b()},[b]);const y=x.useCallback(async({title:f,subtitle:g,category:h,excerpt:v,content:C,coverImage:N,readingTimeMinutes:k,publishedAt:j})=>{try{const S=await _e("/news",{title:f,subtitle:g,category:h,excerpt:v,content:C,coverImage:N,readingTimeMinutes:k,publishedAt:j}),_=Lu(S?.data);return _&&n(B=>[_,...B]),p?.({title:"Story published",description:"Your news story is live for the community.",tone:"success"}),_}catch(S){throw p?.({title:"Unable to publish news",description:S.message??"Please try again later.",tone:"error"}),S}},[p]);return x.useMemo(()=>({items:a,loading:r,error:c,refresh:b,createNews:y}),[a,r,c,b,y])},s3=a=>{const[n,r]=x.useState(null),[o,c]=x.useState(!0),[u,p]=x.useState(null),b=je();return x.useEffect(()=>{let y=!0;return a?((async()=>{c(!0),p(null);try{const g=await ce(`/news/${a}`,{includeAuth:!1});if(!y)return;r(Lu(g?.data??null))}catch(g){if(!y)return;p(g),b?.({title:"Unable to load story",description:g.message??"Please try again later.",tone:"error"})}finally{y&&c(!1)}})(),()=>{y=!1}):(c(!1),r(null),()=>{})},[a,b]),{data:n,loading:o,error:u}},_n=6,a3=()=>{const{role:a}=ye();je();const r=(a?.toLowerCase()??null)==="faculty",{items:o,loading:c,error:u,refresh:p}=$b(),b=Te(),[y,f]=x.useState(_n),g=x.useMemo(()=>[...o].sort((k,j)=>new Date(j.publishedAt||j.createdAt||0)-new Date(k.publishedAt||k.createdAt||0)),[o]),h=x.useMemo(()=>g.slice(0,y),[g,y]),v=y<g.length,C=c&&o.length===0;x.useEffect(()=>{f(k=>g.length===0?_n:Math.min(g.length,Math.max(_n,k)))},[g.length]);const N=()=>{c||!v||f(k=>Math.min(g.length,k+_n))};return e.jsxs("div",{className:"space-y-10",children:[e.jsx("section",{className:"rounded-4xl bg-gradient-to-br from-primary to-primary-dark p-8 text-white shadow-soft sm:p-12",children:e.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-end lg:justify-between",children:[e.jsxs("div",{className:"max-w-3xl space-y-4",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-white/80",children:"Faculty Newsroom"}),e.jsx("h1",{className:"text-4xl font-bold leading-tight sm:text-5xl",children:"University News & Updates"}),e.jsx("p",{className:"text-sm text-white/80 sm:text-base",children:"Stay informed with the latest announcements, achievements, and stories curated by faculty members for our alumni community."}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-white/70",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-300"}),"Weekly Highlights"]}),e.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1",children:"Faculty Verified"})]})]}),r&&e.jsxs("button",{type:"button",onClick:()=>b("/dashboard/news/create"),className:"inline-flex items-center gap-2 rounded-full bg-white px-5 py-3 text-sm font-semibold text-primary shadow-lg transition hover:-translate-y-0.5 hover:bg-white/90",children:[e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[e.jsx("path",{d:"M12 5v14"}),e.jsx("path",{d:"M5 12h14"})]}),"Publish Faculty Story"]})]})}),u&&e.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-3xl border border-rose-200 bg-rose-50 px-6 py-4 text-sm text-rose-600",children:[e.jsx("p",{children:u.message??"Unable to load news right now."}),e.jsx("button",{type:"button",onClick:p,className:"rounded-full border border-rose-400 px-4 py-1 text-xs font-semibold uppercase tracking-wide text-rose-600 transition hover:border-rose-500 hover:text-rose-700",children:"Retry"})]}),C?e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:_n}).map((k,j)=>e.jsxs("div",{className:"flex flex-col gap-4 rounded-3xl bg-white p-6 shadow-sm",children:[e.jsx(qn,{className:"h-48 w-full rounded-2xl"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(qn,{className:"h-3 w-24 rounded-full"}),e.jsx(Nu,{lines:2,widths:["85%","60%"]}),e.jsx(Nu,{lines:1,widths:["40%"]})]})]},j))}):h.length?e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:h.map(k=>e.jsx(t3,{article:k},k.id))}):e.jsxs("div",{className:"rounded-3xl border border-dashed border-slate-200 bg-white p-12 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"No stories yet"}),e.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["When faculty publish news, it will appear here. ",r?"Share your first story!":""]})]}),v?e.jsx(Z4,{isLoading:c,disabled:c,onClick:N,children:"Load More Stories"}):h.length?e.jsx("p",{className:"text-center text-sm text-slate-500",children:"Youre caught up on the latest stories "}):null]})},l3="https://images.unsplash.com/photo-1489515217757-5fd1be406fef?auto=format&fit=crop&w=1600&q=80",n3=a=>{if(!a)return"";const n=new Date(a);return Number.isNaN(n.getTime())?"":new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).format(n)},r3=()=>{const{articleId:a}=Et(),n=Te(),{data:r,loading:o,error:c}=s3(a),u=x.useMemo(()=>n3(r?.publishedAt??r?.createdAt),[r?.publishedAt,r?.createdAt]),p=r?.readingTimeMinutes?`${r.readingTimeMinutes} min read`:"",b=r?.coverImage||l3,y=x.useMemo(()=>r?.content?r.content.split(/\n+/).map(f=>f.trim()).filter(Boolean):[],[r?.content]);return o?e.jsx("section",{className:"grid min-h-[60vh] place-items-center rounded-4xl bg-white shadow-soft",children:e.jsxs("div",{className:"flex flex-col items-center gap-3 text-sm text-slate-400",children:[e.jsx("span",{className:"inline-flex h-10 w-10 animate-spin items-center justify-center rounded-full border-2 border-primary/30 border-t-primary"}),"Loading faculty story"]})}):c||!r?e.jsx("section",{className:"grid min-h-[40vh] place-items-center rounded-4xl border border-rose-200 bg-rose-50 p-12 text-center text-sm text-rose-600",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-rose-700",children:"Story unavailable"}),e.jsx("p",{className:"mt-2",children:c?.message??"We couldnt find the faculty update youre looking for."}),e.jsx(Le,{to:"/dashboard/news",className:"mt-6 inline-flex items-center gap-2 rounded-full bg-rose-600 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-white transition hover:bg-rose-700",children:"Return to Newsroom"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("button",{onClick:()=>n("/dashboard/news"),className:"inline-flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-primary transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Newsroom"]}),e.jsxs("article",{className:"overflow-hidden rounded-4xl bg-white shadow-soft",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:b,alt:`${r.title} banner`,className:"h-80 w-full object-cover sm:h-[28rem]"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/80 via-slate-900/20 to-transparent"}),e.jsx("div",{className:"absolute left-0 right-0 bottom-0 px-6 pb-10 sm:px-12",children:e.jsxs("div",{className:"max-w-4xl space-y-4 text-white",children:[e.jsx("h1",{className:"text-3xl font-bold leading-tight sm:text-4xl",children:r.title}),r.subtitle&&e.jsx("p",{className:"text-sm text-white/80 sm:text-base",children:r.subtitle}),r.createdByName&&e.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-white/70",children:["Curated by ",r.createdByName]})]})})]}),e.jsxs("div",{className:"space-y-8 px-6 py-10 sm:px-12",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-600",children:[e.jsx("span",{className:"font-semibold uppercase tracking-[0.3em] text-primary",children:r.category||"Faculty Desk"}),u&&e.jsx("span",{className:"text-slate-400",children:""}),u&&e.jsx("span",{children:u}),p&&e.jsx("span",{className:"text-slate-400",children:""}),p&&e.jsx("span",{children:p})]}),e.jsx("div",{className:"max-w-4xl space-y-6",children:y.length?y.map((f,g)=>e.jsx("p",{className:"text-base leading-relaxed text-slate-600",children:f},g)):e.jsx("p",{className:"whitespace-pre-line text-base leading-relaxed text-slate-600",children:r.content})})]})]})]})};function Ci({label:a,type:n="text",value:r,onChange:o,placeholder:c,required:u,min:p}){return e.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:[e.jsx("span",{children:a}),e.jsx("input",{type:n,min:p,value:r,onChange:o,placeholder:c,required:u,className:"mt-2 w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-700 placeholder:text-slate-400 transition focus:border-primary focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30"})]})}function g0({label:a,value:n,onChange:r,placeholder:o,rows:c=4,required:u}){return e.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:[e.jsx("span",{children:a}),e.jsx("textarea",{value:n,onChange:r,placeholder:o,rows:c,required:u,className:"mt-2 w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-700 placeholder:text-slate-400 transition focus:border-primary focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30"})]})}function i3({label:a,value:n,onChange:r,onUpload:o,uploading:c,imagePreview:u}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:e.jsx("span",{children:a})}),u?e.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-slate-50",children:e.jsx("img",{src:u,alt:"Selected cover",className:"h-48 w-full object-cover"})}):null,e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("input",{type:"url",value:n,onChange:r,placeholder:"https://images.unsplash.com/...",className:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-700 placeholder:text-slate-400 transition focus:border-primary focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30"}),e.jsxs("label",{className:`inline-flex w-max cursor-pointer items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold transition ${c?"cursor-not-allowed border-slate-200 text-slate-300":"text-slate-600 hover:border-primary hover:text-primary"}`,children:[e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:c?void 0:o}),e.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M4 4v16h16V8l-6-4H4z"}),e.jsx("path",{d:"M14 4v4h4"}),e.jsx("path",{d:"M9 14l2 2 4-4"})]}),c?"Uploading":"Upload image"]})]})]})}const o3={title:"",subtitle:"",category:"",excerpt:"",content:"",coverImage:"",readingTimeMinutes:""},c3=()=>{const a=Te(),{role:n}=ye(),r=je(),{createNews:o}=$b(),[c,u]=x.useState(o3),[p,b]=x.useState(!1),[y,f]=x.useState(!1),[g,h]=x.useState(""),v=x.useMemo(()=>n?.toLowerCase()==="faculty",[n]);x.useEffect(()=>{v||(r?.({title:"Access restricted",description:"Only faculty members can publish news stories.",tone:"warning"}),a("/dashboard/news",{replace:!0}))},[v,r,a]);const C=j=>S=>{const _=S.target.value;u(B=>({...B,[j]:_})),j==="coverImage"&&h(_?.trim()?_.trim():"")},N=async j=>{const S=j.target.files?.[0];if(S){if(!S.type.startsWith("image/")){r?.({title:"Invalid file",description:"Please select a valid image file (JPG, PNG, GIF).",tone:"error"});return}if(S.size>5*1024*1024){r?.({title:"File too large",description:"Images must be smaller than 5MB.",tone:"error"});return}f(!0);try{const _=new FormData;_.append("file",S),_.append("upload_preset","Alumni");const D=await(await fetch("https://api.cloudinary.com/v1_1/dwzk5ytq6/image/upload",{method:"POST",body:_})).json();if(D?.secure_url)u(E=>({...E,coverImage:D.secure_url})),h(D.secure_url),r?.({title:"Image uploaded",description:"Cover image is ready to publish.",tone:"success"});else throw new Error("Unable to upload image. Please try again.")}catch(_){console.error("Image upload failed:",_),r?.({title:"Upload failed",description:_.message??"Unable to upload image right now.",tone:"error"})}finally{f(!1)}}},k=async j=>{if(j.preventDefault(),!v||p)return;if(!c.title.trim()||!c.content.trim()){r?.({title:"Missing information",description:"Title and full story are required to publish.",tone:"error"});return}const S=c.readingTimeMinutes?Number(c.readingTimeMinutes):void 0;if(S!==void 0&&(!Number.isFinite(S)||S<=0)){r?.({title:"Invalid reading time",description:"Reading time must be a positive number of minutes.",tone:"error"});return}b(!0);try{await o({title:c.title.trim(),subtitle:c.subtitle.trim(),category:c.category.trim(),excerpt:c.excerpt.trim(),content:c.content.trim(),coverImage:c.coverImage.trim()||void 0,readingTimeMinutes:S}),r?.({title:"Story published",description:"Your news update is now live for the community.",tone:"success"}),a("/dashboard/news")}catch{}finally{b(!1)}};return e.jsxs("div",{className:"space-y-10",children:[e.jsx("header",{className:"rounded-4xl bg-gradient-to-br from-primary to-primary-dark p-8 text-white shadow-soft sm:p-12",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-white/80",children:"Faculty Publication"}),e.jsx("h1",{className:"text-4xl font-bold leading-tight sm:text-5xl",children:"Publish a News Story"}),e.jsx("p",{className:"max-w-2xl text-sm text-white/80 sm:text-base",children:"Share achievements, announcements, and opportunities with the alum community. Provide a compelling headline, captivating excerpt, and rich story details to inspire readers."}),e.jsxs("button",{type:"button",onClick:()=>a("/dashboard/news"),className:"inline-flex items-center gap-2 text-sm font-medium text-white/80 transition hover:text-white",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.8,d:"M15 19l-7-7 7-7"})}),"Back to Newsroom"]})]})}),e.jsx("section",{className:"rounded-4xl bg-white p-8 shadow-soft sm:p-12",children:e.jsxs("form",{onSubmit:k,className:"space-y-10",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx(Ci,{label:"Headline",value:c.title,onChange:C("title"),placeholder:"Innovation grants awarded to 5 startups",required:!0}),e.jsx(Ci,{label:"Category",value:c.category,onChange:C("category"),placeholder:"Entrepreneurship"}),e.jsx(Ci,{label:"Subtitle",value:c.subtitle,onChange:C("subtitle"),placeholder:"Optional supporting headline"}),e.jsx(i3,{label:"Cover Image",value:c.coverImage,onChange:C("coverImage"),onUpload:N,uploading:y,imagePreview:g||c.coverImage})]}),e.jsx(g0,{label:"Short Excerpt",value:c.excerpt,onChange:C("excerpt"),placeholder:"Summarize the story in a short paragraph to hook readers.",rows:3}),e.jsx(g0,{label:"Full Story",value:c.content,onChange:C("content"),placeholder:"Share the full details of the story. Use paragraphs and line breaks to make it easy to read.",rows:10,required:!0}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:e.jsx(Ci,{label:"Reading Time (minutes)",type:"number",min:"1",value:c.readingTimeMinutes,onChange:C("readingTimeMinutes"),placeholder:"5"})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>a("/dashboard/news"),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-6 py-3 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:p,className:"inline-flex items-center gap-2 rounded-full bg-primary px-6 py-3 text-sm font-semibold text-white transition hover:bg-primary-dark disabled:cursor-not-allowed disabled:bg-primary/60",children:p?"Publishing":"Publish Story"})]})]})})]})},d3="https://images.unsplash.com/photo-1475724017904-b712052c192a?auto=format&fit=crop&w=1600&q=80",u3=(a,n)=>{if(!a)return"Schedule to be announced";const r=new Date(a);if(Number.isNaN(r.getTime()))return"Schedule to be announced";const o=new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}),c=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit"}),u=o.format(r),p=c.format(r);if(!n)return`${u}  ${p}`;const b=new Date(n);return Number.isNaN(b.getTime())?`${u}  ${p}`:(o.format(b),c.format(b),r.toDateString(),b.toDateString(),`${u}  ${p}`)},m3=(a="")=>a.charAt(0).toUpperCase()+a.slice(1),x3=()=>{const{eventId:a}=Et(),n=Te(),r=je(),{user:o,role:c}=ye(),{data:u,loading:p,error:b,register:y}=cj(a),f=c?.toLowerCase()??null,g=f?["student","alumni","faculty"].includes(f):!1,h=!!u?.isRegistered,[v,C]=x.useState(!1),[N,k]=x.useState(!1),[j,S]=x.useState({name:"",department:"",academicYear:"",graduationYear:"",role:""});x.useEffect(()=>{S(Y=>({...Y,name:o?.name||o?.profile?.fullName||Y.name,department:o?.profile?.department||Y.department,role:Y.role||(f&&["student","alumni","faculty"].includes(f)?f:Y.role)}))},[o?.name,o?.profile?.fullName,o?.profile?.department,f]);const _=x.useMemo(()=>u3(u?.startAt,u?.endAt),[u?.startAt,u?.endAt]),B=x.useMemo(()=>m3(u?.mode??"in-person"),[u?.mode]),D=x.useMemo(()=>{const Y=u?.coverImage?.trim();return!Y||Y.startsWith("blob:")?d3:Y},[u?.coverImage]),E=()=>{if(u?.registrationLink){window.open(u.registrationLink,"_blank","noopener,noreferrer");return}if(!o?.id){r?.({title:"Sign in required",description:"Please log in to register for this event.",tone:"warning"}),n("/login",{replace:!1});return}if(!g){r?.({title:"Registration unavailable",description:"Your account is not eligible to register for events.",tone:"error"});return}if(h){r?.({title:"Already registered",description:"You have already registered for this event.",tone:"info"});return}S(Y=>({...Y,role:Y.role||(f&&["student","alumni","faculty"].includes(f)?f:"student")})),C(!0)},P=x.useMemo(()=>["1st year","2nd year","3rd year","4th year","5th year"],[]),z=x.useMemo(()=>["Computer Science","Information Technology","Electronics","Electrical","Mechanical","Civil","Chemical","Biotechnology","Business Administration","Design","Mathematics","Physics","Chemistry"],[]),$=x.useMemo(()=>{const Y=new Date().getFullYear();return Array.from({length:40},(W,I)=>String(Y-I))},[]),F=Y=>W=>{const I=W.target.value;S(A=>({...A,[Y]:I}))},H=j.role||(f&&["student","alumni","faculty"].includes(f)?f:""),U=H==="student",T=H==="alumni",O=async Y=>{if(Y.preventDefault(),!H){r?.({title:"Select role",description:"Please choose whether you are a student or alumni.",tone:"error"});return}if(!g||H&&f&&H!==f){r?.({title:"Registration unavailable",description:"Your selected role does not match your account permissions.",tone:"error"});return}const W=[];if(j.name.trim()||W.push("Name is required."),j.department.trim()||W.push("Department is required."),U&&!j.academicYear.trim()&&W.push("Select your current academic year."),T&&!j.graduationYear.trim()&&W.push("Select your graduation year."),W.length){r?.({title:"Missing information",description:W.join(" "),tone:"error"});return}try{k(!0),await y({name:j.name.trim(),department:j.department.trim(),academicYear:U?j.academicYear.trim():void 0,graduationYear:T?j.graduationYear.trim():void 0}),r?.({title:"Registration confirmed",description:"You have been registered for this event.",tone:"success"}),C(!1)}catch(I){r?.({title:"Unable to register",description:I.message??"Please try again later.",tone:"error"})}finally{k(!1)}};return p?e.jsx("section",{className:"rounded-3xl bg-white p-10 text-center text-sm text-slate-400 shadow-soft",children:"Loading event"}):b||!u?e.jsx("section",{className:"space-y-4",children:e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50 p-8 text-center text-sm text-rose-600",children:b?.message??"Event not found or unavailable."})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs("button",{onClick:()=>n("/dashboard/events"),className:"inline-flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-primary transition-colors mb-8",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Events"]}),e.jsxs("section",{className:"overflow-hidden rounded-3xl bg-white shadow-xl",children:[e.jsx("img",{src:D,alt:`${u.title} banner`,className:"h-72 w-full object-cover"}),e.jsxs("div",{className:"space-y-6 p-8",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-widest text-primary",children:[B,e.jsx("span",{className:"h-1 w-1 rounded-full bg-primary/40","aria-hidden":!0}),u.location]}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:u.title}),e.jsxs("p",{className:"text-sm text-slate-500",children:["Hosted by ",u.createdByName||"an alumni member"]})]}),e.jsx("button",{type:"button",onClick:E,disabled:h&&!u?.registrationLink,className:`rounded-full px-6 py-3 text-sm font-semibold text-white transition ${u?.registrationLink?"bg-primary hover:bg-primary-dark":h?"bg-emerald-500":"bg-primary hover:bg-primary-dark"} ${h&&!u?.registrationLink?"cursor-not-allowed opacity-80":""}`,children:u?.registrationLink?"Register":h?"Registered":"Register"})]}),e.jsxs("div",{className:"grid gap-4 rounded-2xl border border-slate-100 p-5 sm:grid-cols-3",children:[e.jsx(lu,{icon:h3,label:_}),e.jsx(lu,{icon:f3,label:u.location}),e.jsx(lu,{icon:b3,label:u.registrationCount?`${u.registrationCount} ${u.registrationCount===1?"attendee":"attendees"}`:"Be the first to join"})]}),e.jsx("p",{className:"text-base text-slate-600 whitespace-pre-line",children:u.description})]})]}),v&&e.jsx(p3,{onClose:()=>!N&&C(!1),onSubmit:O,submitting:N,formValues:j,onFieldChange:F,isStudent:U,isAlumni:T,departmentOptions:z,studentYearOptions:P,graduationYearOptions:$,roleOptions:[{label:"Student",value:"student"},{label:"Alumni",value:"alumni"},{label:"Faculty",value:"faculty"}],roleValue:H,onRoleChange:F("role"),roleLocked:!!(f&&["student","alumni","faculty"].includes(f))})]})})},lu=({icon:a,label:n})=>e.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium text-slate-600",children:[e.jsx(a,{className:"h-10 w-10 rounded-2xl bg-primary/10 p-2 text-primary"}),e.jsx("span",{children:n})]}),p3=({onClose:a,onSubmit:n,submitting:r,formValues:o,onFieldChange:c,isStudent:u,isAlumni:p,departmentOptions:b,studentYearOptions:y,graduationYearOptions:f,roleOptions:g,roleValue:h,onRoleChange:v,roleLocked:C})=>e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-3xl bg-white p-8 shadow-2xl",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Register for this event"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Share your details so the organizing team can confirm your seat."})]}),e.jsx("button",{type:"button",onClick:a,className:"rounded-full bg-slate-100 p-2 text-slate-500 transition hover:bg-slate-200",children:e.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 6L6 18"}),e.jsx("path",{d:"M6 6l12 12"})]})})]}),e.jsxs("form",{className:"mt-6 space-y-5",onSubmit:n,children:[e.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:["Registering as",e.jsxs("select",{value:h,onChange:v,disabled:C,className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:cursor-not-allowed disabled:bg-slate-100",children:[e.jsx("option",{value:"",children:"Select role"}),g.map(N=>e.jsx("option",{value:N.value,children:N.label},N.value))]})]}),e.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:["Full name",e.jsx("input",{type:"text",value:o.name,onChange:c("name"),className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm text-slate-700 placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter your full name"})]}),e.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:["Department",e.jsxs("select",{value:o.department,onChange:c("department"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select department"}),b.map(N=>e.jsx("option",{value:N,children:N},N))]})]}),u&&e.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:["Current academic year",e.jsxs("select",{value:o.academicYear,onChange:c("academicYear"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select current year"}),y.map(N=>e.jsx("option",{value:N,children:N},N))]})]}),p&&e.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:["Graduation year",e.jsxs("select",{value:o.graduationYear,onChange:c("graduationYear"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"Select graduation year"}),f.map(N=>e.jsx("option",{value:N,children:N},N))]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:a,disabled:r,className:"rounded-full border border-slate-200 px-5 py-2.5 text-sm font-semibold text-slate-600 transition hover:border-slate-300 disabled:cursor-not-allowed disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:r,className:"rounded-full bg-primary px-5 py-2.5 text-sm font-semibold text-white transition hover:bg-primary-dark disabled:cursor-not-allowed disabled:bg-primary/60",children:r?"Submitting":"Confirm registration"})]})]})]})}),em=({className:a,children:n})=>e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:n}),h3=a=>e.jsxs(em,{...a,children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M16 2v4"}),e.jsx("path",{d:"M8 2v4"}),e.jsx("path",{d:"M3 10h18"})]}),f3=a=>e.jsxs(em,{...a,children:[e.jsx("path",{d:"M12 21s6-4.35 6-10a6 6 0 10-12 0c0 5.65 6 10 6 10z"}),e.jsx("circle",{cx:"12",cy:"11",r:"2"})]}),b3=a=>e.jsxs(em,{...a,children:[e.jsx("path",{d:"M16 18v-1a4 4 0 00-4-4H6a4 4 0 00-4 4v1"}),e.jsx("circle",{cx:"9",cy:"7",r:"3"}),e.jsx("path",{d:"M22 18v-1a4 4 0 00-3-3.87"}),e.jsx("path",{d:"M16 4.13a4 4 0 010 7.75"})]}),g3="https://images.unsplash.com/photo-1489515217757-5fd1be406fef?auto=format&fit=crop&w=1200&q=80",y3=(a="")=>a.charAt(0).toUpperCase()+a.slice(1),v3=a=>{if(!a)return"TBA";const n=new Date(a);return Number.isNaN(n.getTime())?"TBA":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(n)},j3=(a,n)=>{if(!a)return"Schedule to be announced";const r=new Date(a);if(Number.isNaN(r.getTime()))return"Schedule to be announced";const o=new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}),c=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit"}),u=o.format(r),p=c.format(r);if(!n)return`${u}  ${p}`;const b=new Date(n);return Number.isNaN(b.getTime())?`${u}  ${p}`:(o.format(b),c.format(b),r.toDateString(),b.toDateString(),`${u}  ${p}`)},N3=(a,n=180)=>{if(!a)return"";const r=a.trim();return r.length<=n?r:`${r.slice(0,n).trim()}...`},w3=()=>{const{role:a}=ye();je();const n=a?.toLowerCase()??null,r=n==="alumni"||n==="faculty",{items:o,loading:c,error:u,refresh:p}=Ta(),b=x.useMemo(()=>[...o].sort((y,f)=>{const g=new Date(y.startAt||0).getTime(),h=new Date(f.startAt||0).getTime();return g-h}),[o]);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Events"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Discover upcoming alumni-led events and gatherings."})]}),r&&e.jsx(Le,{to:"/dashboard/events/post",className:"rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white transition hover:bg-primary-dark",children:"+ Create Event"})]}),u&&e.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-3xl border border-rose-200 bg-rose-50 px-6 py-4 text-sm text-rose-600",children:[e.jsx("p",{children:u.message??"Unable to load events right now."}),e.jsx("button",{type:"button",onClick:p,className:"rounded-full border border-rose-400 px-4 py-1 text-xs font-semibold uppercase tracking-wide text-rose-600 transition hover:border-rose-500 hover:text-rose-700",children:"Retry"})]}),e.jsx("section",{className:"grid gap-6 sm:grid-cols-2 xl:grid-cols-3",children:c?Array.from({length:6}).map((y,f)=>e.jsx(C3,{},f)):b.length>0?b.map(y=>e.jsx(S3,{event:y},y.id)):e.jsxs("div",{className:"col-span-full rounded-3xl border border-dashed border-slate-200 bg-white p-12 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"No events yet"}),e.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["Once alumni publish events, they will appear here. ",r?"Be the first to host one!":""]})]})})]})},S3=({event:a})=>{const n=a.coverImage&&!a.coverImage.startsWith("blob:")?a.coverImage:g3,r=j3(a.startAt,a.endAt),o=y3(a.mode??"in-person");return e.jsxs(Le,{to:`/dashboard/events/${a.id}`,className:"group flex h-full flex-col overflow-hidden rounded-3xl bg-white shadow-sm transition hover:-translate-y-1 hover:shadow-lg",children:[e.jsxs("div",{className:"relative h-44 w-full overflow-hidden",children:[e.jsx("img",{src:n,alt:`${a.title} banner`,className:"h-full w-full object-cover transition duration-500 group-hover:scale-105"}),e.jsx("span",{className:"absolute left-4 top-4 rounded-full bg-white/90 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-800",children:o}),e.jsx("span",{className:"absolute right-4 top-4 rounded-lg bg-primary px-3 py-1 text-xs font-semibold text-white",children:v3(a.startAt)})]}),e.jsxs("div",{className:"flex flex-1 flex-col gap-3 px-6 py-5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:a.title}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:a.location})]}),e.jsx("p",{className:"text-sm text-slate-600",children:N3(a.description)}),e.jsxs("div",{className:"mt-auto space-y-3 pt-4",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600",children:[e.jsxs("svg",{className:"h-3.5 w-3.5 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M16 2v4"}),e.jsx("path",{d:"M8 2v4"}),e.jsx("path",{d:"M3 10h18"})]}),r]}),e.jsxs("span",{className:"inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-widest text-primary opacity-0 transition group-hover:opacity-100",children:["View Details",e.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M9 18l6-6-6-6"})})]})]})]})]})},C3=()=>e.jsxs("div",{className:"flex h-full flex-col overflow-hidden rounded-3xl bg-white",children:[e.jsx("div",{className:"h-44 w-full animate-pulse bg-slate-200"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-3 px-6 py-5",children:[e.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded-full bg-slate-200"}),e.jsx("div",{className:"h-3 w-1/2 animate-pulse rounded-full bg-slate-200"}),e.jsx("div",{className:"h-3 w-full animate-pulse rounded-full bg-slate-200"}),e.jsx("div",{className:"mt-auto h-8 w-full animate-pulse rounded-full bg-slate-200"})]})]}),k3=a=>{if(!a)return null;const n=a.event||a.eventId||{},r=c=>{if(!c)return null;const u=new Date(c);return Number.isNaN(u.getTime())?null:u.toISOString()},o=n._id||n.id||a.eventId;return o?{id:typeof o=="string"?o:o.toString(),event:{id:typeof o=="string"?o:o.toString(),title:n.title||"",description:n.description||"",location:n.location||"",coverImage:n.coverImage||"",startAt:r(n.startAt),endAt:r(n.endAt),registrationLink:n.registrationLink||"",organization:n.organization||"",registrationCount:typeof n.registrationCount=="number"?n.registrationCount:0,createdByName:n.createdByName||""},registeredAt:r(a.registeredAt)||null,registrationType:a.registrationType||""}:null},A3=()=>{const[a,n]=x.useState([]),[r,o]=x.useState(!0),[c,u]=x.useState(null),p=x.useCallback(async()=>{o(!0),u(null);try{const y=await ce("/events/registrations/me",{includeAuth:!0}),g=(Array.isArray(y?.data)?y.data:[]).map(k3).filter(Boolean);return n(g),g}catch(y){throw u(y),console.error("useRegisteredEvents: unable to load registrations",y),y}finally{o(!1)}},[]);return x.useEffect(()=>{p()},[p]),{items:x.useMemo(()=>a,[a]),loading:r,error:c,refresh:p}},E3="https://images.unsplash.com/photo-1489515217757-5fd1be406fef?auto=format&fit=crop&w=1200&q=80",y0=a=>{if(!a)return"TBA";const n=new Date(a);return Number.isNaN(n.getTime())?"TBA":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(n)},M3=(a,n)=>{if(!a)return"Schedule to be announced";const r=new Date(a);if(Number.isNaN(r.getTime()))return"Schedule to be announced";const o=new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}),c=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit"}),u=o.format(r),p=c.format(r);if(!n)return`${u}  ${p}`;const b=new Date(n);return Number.isNaN(b.getTime())?`${u}  ${p}`:`${u}  ${p}`},D3=()=>{const{items:a,loading:n,error:r,refresh:o}=A3(),c=x.useMemo(()=>[...a].sort((u,p)=>{const b=new Date(u.event?.startAt||0).getTime(),y=new Date(p.event?.startAt||0).getTime();return b-y}),[a]);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Registered Events"}),e.jsx("p",{className:"text-sm text-slate-500",children:"These are the events youve signed up for. Stay prepared and join on time."})]}),e.jsx(Le,{to:"/dashboard/events",className:"rounded-full border border-primary/20 bg-white px-5 py-2 text-sm font-semibold text-primary transition hover:border-primary hover:bg-primary/10",children:"Browse all events"})]}),r?e.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-3xl border border-rose-200 bg-rose-50 px-6 py-4 text-sm text-rose-600",children:[e.jsx("p",{children:r.message??"Unable to load your registered events right now."}),e.jsx("button",{type:"button",onClick:o,className:"rounded-full border border-rose-400 px-4 py-1 text-xs font-semibold uppercase tracking-wide text-rose-600 transition hover:border-rose-500 hover:text-rose-700",children:"Retry"})]}):null,e.jsx("section",{className:"grid gap-6 sm:grid-cols-2 xl:grid-cols-3",children:n?Array.from({length:6}).map((u,p)=>e.jsx(R3,{},p)):c.length>0?c.map(u=>e.jsx(L3,{registration:u},u.id)):e.jsxs("div",{className:"col-span-full rounded-3xl border border-dashed border-slate-200 bg-white p-12 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"No registered events yet"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"When you register for an event it will appear here. Explore upcoming opportunities to stay involved."})]})})]})},L3=({registration:a})=>{const n=a.event||{},r=n.coverImage&&!n.coverImage.startsWith("blob:")?n.coverImage:E3,o=M3(n.startAt,n.endAt);return e.jsxs(Le,{to:`/dashboard/events/${n.id}`,className:"group flex h-full flex-col overflow-hidden rounded-3xl bg-white shadow-sm transition hover:-translate-y-1 hover:shadow-lg",children:[e.jsxs("div",{className:"relative h-44 w-full overflow-hidden",children:[e.jsx("img",{src:r,alt:`${n.title} banner`,className:"h-full w-full object-cover transition duration-500 group-hover:scale-105"}),e.jsx("span",{className:"absolute right-4 top-4 rounded-lg bg-primary px-3 py-1 text-xs font-semibold text-white",children:y0(n.startAt)})]}),e.jsxs("div",{className:"flex flex-1 flex-col gap-3 px-6 py-5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:n.title}),e.jsx("p",{className:"text-sm text-slate-500",children:n.location||"Location to be announced"})]}),e.jsx("p",{className:"text-sm text-slate-600",children:n.description}),e.jsxs("div",{className:"mt-auto space-y-3 pt-4",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600",children:[e.jsxs("svg",{className:"h-3.5 w-3.5 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M16 2v4"}),e.jsx("path",{d:"M8 2v4"}),e.jsx("path",{d:"M3 10h18"})]}),o]}),a.registeredAt?e.jsxs("div",{className:"text-[11px] uppercase tracking-[0.25em] text-slate-400",children:["Registered ",y0(a.registeredAt)]}):null,e.jsxs("span",{className:"inline-flex items-center gap-2 text-xs font-semibold text-primary transition group-hover:translate-x-1 group-hover:text-primary/80",children:["View details",e.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M9 18l6-6-6-6"})})]})]})]})]})},R3=()=>e.jsxs("div",{className:"flex h-full flex-col overflow-hidden rounded-3xl bg-white",children:[e.jsx("div",{className:"h-44 w-full animate-pulse bg-slate-200"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-3 px-6 py-5",children:[e.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded-full bg-slate-200"}),e.jsx("div",{className:"h-3 w-1/2 animate-pulse rounded-full bg-slate-200"}),e.jsx("div",{className:"h-3 w-full animate-pulse rounded-full bg-slate-200"}),e.jsx("div",{className:"mt-auto h-8 w-full animate-pulse rounded-full bg-slate-200"})]})]}),T3="https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=1200&q=80",v0=a=>{const n=Number(a);return Number.isNaN(n)?"0":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(n)},_3=(a,n)=>!n||n<=0?0:Math.min(100,Math.round(Number(a??0)/Number(n)*100)),O3=a=>{if(!a)return null;const n=new Date(a);if(Number.isNaN(n.getTime()))return null;const o=Math.ceil((n-new Date)/(1e3*60*60*24));return o<0?0:o},B3=a=>{if(!a)return null;const n=new Date(a);return Number.isNaN(n.getTime())?null:new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"short",year:"numeric"}).format(n)},z3=()=>{const{role:a}=ye();je();const n=Te(),r=a?.toLowerCase()??null,o=r==="alumni"||r==="faculty",{items:c,loading:u,error:p,refresh:b}=to(),{activeCampaigns:y,completedCampaigns:f,supportedCampaigns:g}=x.useMemo(()=>{const C=[...c].sort((_,B)=>new Date(_.deadline||0)-new Date(B.deadline||0)),N=Date.now(),k=[],j=[],S=[];return C.forEach(_=>{const B=_.deadline?new Date(_.deadline).getTime():null;B===null||Number.isNaN(B)||B>=N?k.push(_):j.push(_)}),C.forEach(_=>{Array.isArray(_.contributions)&&_.contributions.length>0&&S.push(_)}),j.sort((_,B)=>new Date(B.deadline||0)-new Date(_.deadline||0)),{activeCampaigns:k,completedCampaigns:j,supportedCampaigns:S}},[c]),h=y[0]??f[0],v=()=>{n("/dashboard/donations/create")};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"rounded-3xl bg-gradient-to-r from-primary to-primary-dark p-10 text-white shadow-soft",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Support Our Community"}),e.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/80",children:"Your contributions help us provide scholarships, improve facilities, and foster innovation for future generations."}),h&&e.jsx(Le,{to:`/dashboard/donations/${h.id}`,className:"mt-6 inline-flex rounded-full bg-white/10 px-6 py-3 text-sm font-semibold text-white transition hover:bg-white/20",children:"Donate Now"})]}),o&&e.jsx("button",{type:"button",onClick:v,className:"rounded-full border border-primary/20 bg-white px-5 py-2 text-sm font-semibold text-primary transition hover:border-primary hover:bg-primary/10",children:"+ Create Campaign"}),p&&e.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-3xl border border-rose-200 bg-rose-50 px-6 py-4 text-sm text-rose-600",children:[e.jsx("p",{children:p.message??"Unable to load campaigns right now."}),e.jsx("button",{type:"button",onClick:b,className:"rounded-full border border-rose-400 px-4 py-1 text-xs font-semibold uppercase tracking-wide text-rose-600 transition hover:border-rose-500 hover:text-rose-700",children:"Retry"})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Active Campaigns"}),e.jsx("div",{className:"mt-4 grid gap-6 lg:grid-cols-3",children:u?Array.from({length:3}).map((C,N)=>e.jsx(U3,{},N)):y.length>0?y.map(C=>e.jsx(nu,{campaign:C,variant:"active"},C.id)):e.jsxs("div",{className:"col-span-full rounded-3xl border border-dashed border-slate-200 bg-white p-12 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"No active campaigns"}),e.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["When fundraising efforts launch, they will appear here. ",o?"Start the first campaign!":""]})]})})]}),g.length>0&&e.jsxs("section",{className:"pt-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Campaigns Youve Supported"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Revisit the causes you contributed to and track their progress."}),e.jsx("div",{className:"mt-6 grid gap-6 lg:grid-cols-3",children:g.map(C=>e.jsx(nu,{campaign:C,variant:"supported"},`supported-${C.id}`))})]}),f.length>0&&e.jsxs("section",{className:"pt-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Recently Concluded"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Take a look at the impact previous campaigns have made."}),e.jsx("div",{className:"mt-6 grid gap-6 lg:grid-cols-3",children:f.map(C=>e.jsx(nu,{campaign:C,variant:"completed"},`completed-${C.id}`))})]})]})},nu=({campaign:a,variant:n})=>{const r=a.coverImage||T3,o=_3(a.raisedAmount,a.goalAmount),c=O3(a.deadline),u=B3(a.deadline),p=Number(a.raisedAmount??0)>=Number(a.goalAmount??1/0),b=n==="completed"||n==="active"&&p,y=n==="supported";return e.jsxs("article",{className:"flex h-full flex-col overflow-hidden rounded-3xl bg-white shadow-sm",children:[e.jsxs(Le,{to:`/dashboard/donations/${a.id}`,className:"relative block h-48 w-full overflow-hidden",children:[e.jsx("img",{src:r,alt:a.title,className:"h-full w-full object-cover transition duration-500 hover:scale-105"}),b?e.jsx("span",{className:"absolute left-4 top-4 rounded-full bg-emerald-600 px-3 py-1 text-xs font-semibold uppercase tracking-widest text-white",children:n==="completed"?`Ended ${u??""}`.trim()||"Completed":"Fully funded"}):y?e.jsx("span",{className:"absolute left-4 top-4 rounded-full bg-primary px-3 py-1 text-xs font-semibold uppercase tracking-widest text-white",children:"You contributed"}):typeof c=="number"?e.jsx("span",{className:"absolute left-4 top-4 rounded-full bg-slate-900/80 px-3 py-1 text-xs font-semibold uppercase tracking-widest text-white",children:c===0?"Ends today":`${c} days left`}):u?e.jsx("span",{className:"absolute left-4 top-4 rounded-full bg-slate-900/70 px-3 py-1 text-xs font-semibold uppercase tracking-widest text-white",children:`Ends ${u}`}):null]}),e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:a.title}),e.jsxs("p",{className:"text-sm text-slate-500",children:[v0(a.raisedAmount)," raised of ",v0(a.goalAmount)]})]}),e.jsx("div",{className:"h-2 rounded-full bg-slate-100",children:e.jsx("div",{className:"h-full rounded-full bg-emerald-500",style:{width:`${o}%`}})}),e.jsx(Le,{to:`/dashboard/donations/${a.id}`,className:"mt-auto inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary-dark",children:n==="completed"?"View impact":y?"See updates":"Support"})]})]})},U3=()=>e.jsxs("div",{className:"flex h-full flex-col overflow-hidden rounded-3xl bg-white",children:[e.jsx("div",{className:"h-48 w-full animate-pulse bg-slate-200"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-3 p-6",children:[e.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded-full bg-slate-200"}),e.jsx("div",{className:"h-3 w-1/2 animate-pulse rounded-full bg-slate-200"}),e.jsx("div",{className:"h-3 w-full animate-pulse rounded-full bg-slate-200"}),e.jsx("div",{className:"mt-auto h-9 w-full animate-pulse rounded-full bg-slate-200"})]})]}),Yb=({value:a})=>{const[n,r]=x.useState(0);return x.useEffect(()=>{const o=setTimeout(()=>r(a),150);return()=>clearTimeout(o)},[a]),e.jsx("div",{className:"h-3 rounded-full bg-slate-100",children:e.jsx("div",{className:"h-full rounded-full bg-green-500 transition-all duration-500",style:{width:`${n}%`}})})},ru=a=>{const n=Number(a);return Number.isNaN(n)?"0":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(n)},P3=({isOpen:a,onClose:n,onSubmit:r,campaign:o})=>{const[c,u]=x.useState(""),[p,b]=x.useState(""),[y,f]=x.useState(!1),[g,h]=x.useState(""),v=x.useMemo(()=>Number(o?.goalAmount??0),[o]),C=x.useMemo(()=>Number(o?.raisedAmount??0),[o]),N=x.useMemo(()=>{const D=parseFloat(c);return Number.isFinite(D)?D:0},[c]),k=x.useMemo(()=>Number.isFinite(C)?C+(Number.isFinite(N)?N:0):0,[C,N]),j=x.useMemo(()=>!v||v<=0?0:Math.min(100,Math.round(k/v*100)),[v,k]),S=()=>{y||(u(""),b(""),h(""),n?.())},_=async D=>{D.preventDefault(),h("");const E=parseFloat(c);if(!Number.isFinite(E)||E<=0){h("Please enter a valid contribution amount greater than 0.");return}f(!0);try{await r?.({amount:E,message:p}),u(""),b(""),n?.()}catch(P){h(P?.message??"Unable to process your contribution right now.")}finally{f(!1)}},B=D=>{const{value:E}=D.target;if(E===""){u("");return}const P=E.replace(/[^0-9.]/g,"");P.match(/^\d*(?:\.\d{0,2})?$/)&&u(P)};return e.jsx(no,{isOpen:a,onClose:S,title:"Contribute to this campaign",width:"max-w-xl",closeOnBackdrop:!1,closeOnEscape:!1,children:e.jsxs("form",{className:"space-y-6",onSubmit:_,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"donation-amount",className:"block text-sm font-semibold text-slate-700",children:"Contribution amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"pointer-events-none absolute left-4 top-1/2 -translate-y-1/2 text-sm font-semibold text-slate-400",children:""}),e.jsx("input",{id:"donation-amount",type:"text",inputMode:"decimal",autoComplete:"off",autoFocus:!0,pattern:"^\\d*(?:\\.\\d{0,2})?$",value:c,onChange:B,placeholder:"Enter amount",className:"w-full rounded-full border border-slate-200 py-3 pl-9 pr-4 text-sm font-semibold text-slate-800 outline-none transition focus:border-primary focus:ring-2 focus:ring-primary/30",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"donation-message",className:"block text-sm font-semibold text-slate-700",children:"Message (optional)"}),e.jsx("textarea",{id:"donation-message",rows:3,value:p,onChange:D=>b(D.target.value),placeholder:"Share a note with the campaign organizers",className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm text-slate-600 outline-none transition focus:border-primary focus:ring-2 focus:ring-primary/30"})]}),e.jsxs("div",{className:"rounded-2xl bg-slate-50 px-5 py-4 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between text-slate-600",children:[e.jsx("span",{children:"Current raised"}),e.jsx("span",{className:"font-semibold text-slate-900",children:ru(C)})]}),e.jsxs("div",{className:"mt-2 flex items-center justify-between text-slate-600",children:[e.jsx("span",{children:"After your contribution"}),e.jsx("span",{className:"font-semibold text-emerald-600",children:ru(k)})]}),e.jsx("div",{className:"mt-4 h-2 rounded-full bg-slate-200",children:e.jsx("div",{className:"h-full rounded-full bg-emerald-500 transition-all",style:{width:`${j}%`}})}),e.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Goal: ",ru(v)]})]}),g&&e.jsx("p",{className:"text-sm text-rose-500",children:g}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:S,disabled:y,className:"rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-300 disabled:cursor-not-allowed disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y,className:"rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white transition hover:bg-primary-dark disabled:cursor-not-allowed disabled:opacity-70",children:y?"Processing":"Contribute"})]})]})})},$3="https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=1600&q=80",iu=a=>{const n=Number(a);return Number.isNaN(n)?"0":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(n)},Y3=()=>{const{campaignId:a}=Et(),n=je(),{user:r}=ye(),o=Zu(!1),{data:c,loading:u,error:p,contribute:b}=q1(a),y=x.useMemo(()=>!c||!c.goalAmount?0:Math.min(100,Math.round(Number(c.raisedAmount??0)/Number(c.goalAmount)*100)),[c]),f=c?.coverImage||$3,g=()=>{if(!r){n?.({title:"Sign in required",description:"Please log in to contribute to this campaign.",tone:"info"});return}o.openModal()},h=async({amount:v,message:C})=>{try{const N=await b({amount:v,message:C});return n?.({title:"Thank you for contributing!",description:`Your donation of ${v.toLocaleString("en-IN")} has been recorded.`,tone:"success"}),N}catch(N){throw n?.({title:"Unable to process contribution",description:N?.message??"Please try again later.",tone:"error"}),N}};return u?e.jsx("section",{className:"rounded-3xl bg-white p-10 text-center text-sm text-slate-400 shadow-soft",children:"Loading campaign"}):p||!c?e.jsx("section",{className:"space-y-4",children:e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50 p-8 text-center text-sm text-rose-600",children:p?.message??"Campaign not found."})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid gap-6 lg:grid-cols-[60%_1fr]",children:[e.jsx("img",{src:f,alt:`${c.title} banner`,className:"h-80 w-full rounded-3xl object-cover"}),e.jsxs("div",{className:"flex flex-col justify-between rounded-3xl bg-white p-6 shadow-soft",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Raised"}),e.jsx("p",{className:"text-3xl font-bold text-slate-900",children:iu(c.raisedAmount)}),e.jsxs("p",{className:"text-sm text-slate-500",children:["Goal ",iu(c.goalAmount)]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(Yb,{value:y}),e.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:[y,"% funded"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{type:"button",onClick:g,className:"w-full rounded-full bg-primary px-5 py-3 text-sm font-semibold text-white transition hover:bg-primary-dark",children:"Donate Now"}),e.jsx("button",{className:"w-full rounded-full border border-slate-200 px-5 py-3 text-sm font-semibold text-slate-600 transition hover:border-slate-300",children:"Share Campaign"}),e.jsxs("p",{className:"text-center text-xs text-slate-500",children:["Hosted by ",c.createdByName||"AlumConnect Alumni"]})]})]})]}),e.jsxs("section",{className:"rounded-3xl bg-white p-8 shadow-sm",children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:c.title}),e.jsx("p",{className:"mt-4 text-base leading-relaxed text-slate-600 whitespace-pre-line",children:c.description})]}),c.contributions&&c.contributions.length>0&&e.jsxs("section",{className:"rounded-3xl bg-white p-8 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Recent Contributions"}),e.jsx("ul",{className:"mt-6 space-y-4",children:c.contributions.slice(-6).reverse().map(v=>e.jsxs("li",{className:"flex items-center justify-between rounded-2xl border border-slate-100 px-5 py-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[v.contributorName||"Generous Supporter",v.contributorRole?e.jsx("span",{className:"ml-2 rounded-full bg-slate-100 px-2 py-0.5 text-xs font-semibold uppercase tracking-wide text-slate-500",children:v.contributorRole}):null]}),v.message?e.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:["",v.message,""]}):null,e.jsx("p",{className:"mt-1 text-xs text-slate-400",children:v.contributedAt?new Date(v.contributedAt).toLocaleString():"Just now"})]}),e.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:iu(v.amount)})]},v.id??`${v.contributorId}-${v.contributedAt}`))})]}),e.jsx(P3,{isOpen:o.isOpen,onClose:o.closeModal,onSubmit:h,campaign:c})]})},qb=()=>{const a=je(),{role:n}=ye(),[r,o]=x.useState([]),[c,u]=x.useState(!0),[p,b]=x.useState(null);x.useMemo(()=>String(n??"").trim().toLowerCase()==="student",[n]);const y=x.useCallback(async()=>{if(!n)return o([]),u(!1),b(null),[];u(!0),b(null);try{const h=await ce("/api/opportunities/referrals/me"),v=Array.isArray(h?.data)?h.data:[];return o(v),v}catch(h){if(h?.status===403)return o([]),b(new Error("Applications are available to student and alumni-student accounts. If you should have access, please contact support to enable application tracking.")),[];throw b(h),a?.({title:"Unable to load applications",description:h.message??"Please try again later.",tone:"error"}),h}finally{u(!1)}},[a,n]);x.useEffect(()=>{y()},[y]);const f=x.useCallback(async(h,v)=>{try{const N=(await Pt(`/opportunities/${h}`,v))?.data;return N&&o(k=>k.some(S=>S.opportunity?._id===N.id)?k.map(S=>S.opportunity?._id===N.id?{...S,opportunity:N}:S):k),N}catch(C){throw console.error("useMyOpportunityReferrals: Unable to update opportunity:",C),C}},[]),g=x.useMemo(()=>{const h={};return r.forEach(v=>{const C=v?.opportunity?._id??v?.opportunity?.id??v?.opportunity;C&&(h[String(C)]=v)}),h},[r]);return{referrals:r,loading:c,error:p,refresh:y,referralMap:g,setReferrals:o,updateOpportunity:f}},q3=(a,n={})=>{if(!a&&!n)return null;const r=a&&typeof a=="object"?a:{},o=typeof a=="string"?a:void 0,c=r.id??r._id??n.opportunityId??n.opportunity_id??o??"",u=r.title??n.opportunityTitle??n.title??"Applied Opportunity",p=r.company??n.opportunityCompany??n.company??"Unknown Company",b=r.type??n.opportunityType??n.type,y=typeof b=="string"?b.toLowerCase():"opportunity",f=r.location??n.opportunityLocation??n.location,h=(typeof f=="string"?f.trim():"")||(r.isRemote||n.isRemote?"Remote":"");return c?{id:c,title:u,company:p,type:y,location:h,description:r.description??n.description??"",deadline:r.deadline??n.deadline??null,postedAt:r.postedAt??r.createdAt??n.submittedAt??n.createdAt??null}:null},H3={submitted:"bg-sky-100 text-sky-700",reviewed:"bg-amber-100 text-amber-700",accepted:"bg-emerald-100 text-emerald-700",declined:"bg-rose-100 text-rose-700"},j0={submitted:e.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),reviewed:e.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),accepted:e.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),declined:e.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})},N0={submitted:"Application submitted - Waiting for review",reviewed:"Under review - Your application is being considered",accepted:"Application accepted - Congratulations! Check your email for next steps",declined:"Application declined - Thank you for your interest"},ou=a=>{if(!a)return"";try{const n=new Date(a);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(void 0,{dateStyle:"medium"})}catch{return""}},F3=()=>{const{referrals:a,loading:n,error:r,refresh:o}=qb(),c=x.useMemo(()=>Array.isArray(a)?a.map(u=>{const p=u?.opportunity??u?.opportunityDetails??u?.opportunityData??u?.opportunityInfo??u?.applicationOpportunity??u?.opportunityId??u?.opportunity_id,b=q3(p,u);return b?.id?{id:u.id??`${b.id}-${u.status}`,status:(u.status??"pending").toLowerCase(),submittedAt:u.submittedAt??u.createdAt??null,updatedAt:u.updatedAt??null,resumeUrl:u.resumeUrl??null,proposal:u.proposal??null,opportunity:b}:null}).filter(Boolean):[],[a]);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5",children:e.jsxs("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:[e.jsx("header",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-sm",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-400",children:"My Activity"}),e.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Submitted Applications"}),e.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-500",children:"Track every role you have applied for through AlumConnect. Review statuses, revisit opportunity details, and jump back to the listing with a single click."})]}),e.jsxs("div",{className:"rounded-2xl bg-slate-100 px-4 py-3 text-center",children:[e.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-slate-500",children:"Total Applied"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:c.length})]})]})}),n&&e.jsx("div",{className:"mt-8 rounded-2xl border border-slate-200 bg-white px-6 py-10 text-center text-sm text-slate-500 shadow-sm",children:"Loading your applications..."}),r&&e.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-4 rounded-2xl border border-rose-200 bg-rose-50 px-6 py-4 text-sm text-rose-600 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:r.message??"Unable to load your applications right now."})]}),e.jsx("button",{type:"button",onClick:o,className:"rounded-full border border-rose-400 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-rose-600 transition hover:border-rose-500 hover:bg-rose-100",children:"Retry"})]}),!n&&!r&&c.length===0&&e.jsxs("div",{className:"mt-8 rounded-3xl border border-dashed border-slate-200 bg-white/80 px-10 py-14 text-center shadow-sm",children:[e.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-slate-100 text-slate-400",children:e.jsx("svg",{className:"h-7 w-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10m-9 4h8"})})}),e.jsx("h2",{className:"mt-6 text-xl font-semibold text-slate-800",children:"No applications yet"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Start exploring open opportunities and send in your profile. Your submitted applications will appear here."}),e.jsxs(Le,{to:"/dashboard/opportunities",className:"mt-6 inline-flex items-center gap-2 rounded-full bg-sky-600 px-6 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-sky-700",children:["Browse Opportunities",e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),!n&&!r&&c.length>0&&e.jsx("div",{className:"mt-8 space-y-4",children:c.map(({id:u,opportunity:p,status:b,submittedAt:y,updatedAt:f})=>{const g=H3[b]??"bg-slate-100 text-slate-600";return e.jsx("article",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm transition hover:border-sky-200 hover:shadow-md",children:e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:p.company}),e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:p.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[11px] uppercase tracking-[0.25em] text-slate-400",children:[e.jsx("span",{children:p.location||"Location Flexible"}),e.jsx("span",{className:"h-1 w-1 rounded-full bg-slate-300"}),e.jsx("span",{children:p.type}),p.deadline?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"h-1 w-1 rounded-full bg-slate-300"}),e.jsxs("span",{children:["Deadline ",ou(p.deadline)]})]}):null]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-3",children:[e.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${g}`,children:[j0[b]||j0.submitted,b.replace(/_/g," ")]}),e.jsx("p",{className:"text-xs text-slate-500 max-w-48 text-right",children:N0[b]||N0.submitted}),e.jsxs("div",{className:"text-right text-[11px] text-slate-400",children:[e.jsxs("p",{children:["Applied ",ou(y)]}),f?e.jsxs("p",{children:["Updated ",ou(f)]}):null]}),e.jsxs(Le,{to:`/dashboard/opportunities/${p.id}`,className:"inline-flex items-center gap-2 rounded-full border border-sky-200 px-3 py-1 text-xs font-semibold text-sky-600 transition hover:border-sky-300 hover:bg-sky-50",children:["View Opportunity",e.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})},u)})})]})})},V3=a=>{if(!a)return"";const n=new Date(a);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},I3=a=>{switch(a?.toLowerCase()){case"active":return"bg-emerald-100 text-emerald-800";case"paused":return"bg-amber-100 text-amber-800";case"closed":return"bg-slate-100 text-slate-800";case"expired":return"bg-red-100 text-red-800";default:return"bg-slate-100 text-slate-800"}},G3=a=>{switch(a?.toUpperCase()){case"APPROVED":return"bg-emerald-100 text-emerald-800";case"REJECTED":return"bg-red-100 text-red-800";case"PENDING":default:return"bg-amber-100 text-amber-800"}},X3=()=>{const{role:a,user:n}=ye(),r=Te(),[o,c]=x.useState(""),[u,p]=x.useState("all"),[b,y]=x.useState("all"),[f,g]=x.useState("all"),[h,v]=x.useState(!1),[C,N]=x.useState([]),[k,j]=x.useState([]),[S,_]=x.useState([]),[B,D]=x.useState([]),[E,P]=x.useState(!0),z=["alumni","faculty"].includes(String(a??"").trim().toLowerCase()),$=async()=>{if(!z){P(!1);return}try{const[R,q,J]=await Promise.all([ce("/api/opportunities/mine"),ce("/api/events/mine"),ce("/api/donations/mine")]);N(R?.data||[]),j(q?.data||[]),_(J?.data||[]);try{const M=await ce("/api/campaigns/mine");D(M?.data||[])}catch{console.log("Campaigns not available yet, skipping..."),D([])}}catch(R){console.error("Failed to fetch user content:",R)}finally{P(!1)}};x.useEffect(()=>{$()},[]);const F=x.useMemo(()=>{const R=[];return C.forEach(q=>R.push({...q,contentType:"opportunity",title:q.title,company:q.company,location:q.location,type:q.type,deadline:q.deadline,status:q.status,approvalStatus:q.approvalStatus,createdAt:q.createdAt,applicants:q.applicants||0})),k.forEach(q=>R.push({...q,contentType:"event",title:q.title,company:q.organizer||"",location:q.location,type:q.type,deadline:q.date,status:q.status,approvalStatus:q.approvalStatus,createdAt:q.createdAt,applicants:q.attendees||0})),S.forEach(q=>R.push({...q,contentType:"donation",title:q.title,company:q.organizer||"",location:"",type:"donation",deadline:q.deadline,status:q.status,approvalStatus:q.approvalStatus,createdAt:q.createdAt,applicants:q.donors||0})),B.forEach(q=>R.push({...q,contentType:"campaign",title:q.title,company:q.organizer||"",location:"",type:"campaign",deadline:q.deadline,status:q.status,approvalStatus:q.approvalStatus,createdAt:q.createdAt,applicants:q.contributors||0})),R},[C,k,S,B]),H=x.useMemo(()=>{const R=o.trim().toLowerCase();return F.filter(q=>{const J=!R||q.title.toLowerCase().includes(R)||q.company&&q.company.toLowerCase().includes(R)||q.location&&q.location.toLowerCase().includes(R),M=f==="all"||q.contentType===f,Q=b==="all"||q.status===b;return J&&M&&Q})},[F,o,f,b]),U=R=>{const q={opportunity:`/dashboard/opportunities/${R.id}/edit`,event:`/dashboard/events/${R.id}/edit`,donation:`/dashboard/donations/${R.id}/edit`,campaign:`/dashboard/campaigns/${R.id}/edit`};r(q[R.contentType])},T=R=>{const q={opportunity:`/dashboard/opportunities/${R.id}`,event:`/dashboard/events/${R.id}`,donation:`/dashboard/donations/${R.id}`,campaign:`/dashboard/campaigns/${R.id}`};r(q[R.contentType])},O=R=>{r(`/dashboard/opportunities/${R.id}/applications`)},Y=R=>{r(`/dashboard/events/${R.id}/registrations`)},W=R=>{r(`/dashboard/campaigns/${R.id}/donations`)},I=async R=>{if(window.confirm(`Are you sure you want to delete this ${R.contentType}?`)){v(!0);try{const q={opportunity:`/api/opportunities/${R.id}`,event:`/api/events/${R.id}`,donation:`/api/donations/${R.id}`,campaign:`/api/campaigns/${R.id}`};await Dl(q[R.contentType]),await $(),alert(`${R.contentType.charAt(0).toUpperCase()+R.contentType.slice(1)} deleted successfully`)}catch(q){console.error("Failed to delete:",q),alert("Failed to delete. Please try again.")}finally{v(!1)}}},A=R=>{switch(R){case"opportunity":return e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})});case"event":return e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"donation":return e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})});case"campaign":return e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"})});default:return null}};return z?e.jsxs("div",{className:"space-y-6",children:[e.jsx("header",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"My Content Management"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Manage your posted opportunities, events, donations, and campaigns."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>r("/dashboard/opportunities/post"),className:"inline-flex items-center gap-2 rounded-xl bg-red-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-all hover:bg-red-700 hover:shadow-md",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Post Opportunity"]}),e.jsxs("button",{onClick:()=>r("/dashboard/events/post"),className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-all hover:bg-blue-700 hover:shadow-md",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Event"]}),e.jsxs("button",{onClick:()=>r("/dashboard/donations/create"),className:"inline-flex items-center gap-2 rounded-xl bg-purple-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-all hover:bg-purple-700 hover:shadow-md",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Campaign"]})]})]})}),e.jsxs("section",{className:"bg-white rounded-xl border border-slate-200 shadow-sm",children:[e.jsx("div",{className:"p-6 border-b border-slate-200",children:e.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-3 flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Search your content...",value:o,onChange:R=>c(R.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-slate-300 rounded-xl text-sm text-slate-900 placeholder:text-slate-500 focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-500/20 transition-colors"})]}),e.jsxs("select",{value:f,onChange:R=>g(R.target.value),className:"block w-full px-3 py-2.5 border border-slate-300 rounded-xl text-sm text-slate-900 focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-500/20 transition-colors",children:[e.jsx("option",{value:"all",children:"All Content"}),e.jsx("option",{value:"opportunity",children:"Opportunities"}),e.jsx("option",{value:"event",children:"Events"}),e.jsx("option",{value:"donation",children:"Donations"}),e.jsx("option",{value:"campaign",children:"Campaigns"})]}),e.jsxs("select",{value:b,onChange:R=>y(R.target.value),className:"block w-full px-3 py-2.5 border border-slate-300 rounded-xl text-sm text-slate-900 focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-500/20 transition-colors",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"paused",children:"Paused"}),e.jsx("option",{value:"closed",children:"Closed"})]})]})})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Content Title"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Location"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Date/Deadline"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Approval Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"View"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Applications"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:E?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"px-6 py-12 text-center text-sm text-slate-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-red-600"}),"Loading your content..."]})})}):H.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"px-6 py-12 text-center text-sm text-slate-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("svg",{className:"h-12 w-12 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("div",{children:"No content found."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r("/dashboard/opportunities/post"),className:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 transition-colors",children:"Create Opportunity"}),e.jsx("button",{onClick:()=>r("/dashboard/events/post"),className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:"Create Event"}),e.jsx("button",{onClick:()=>r("/dashboard/donations/create"),className:"inline-flex items-center gap-2 rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700 transition-colors",children:"Create Campaign"})]})]})})}):H.map(R=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-slate-900 max-w-xs truncate",children:R.title}),e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:R.company})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[A(R.contentType),e.jsx("span",{className:"text-sm text-slate-700 capitalize",children:R.contentType})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:R.location||""}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:V3(R.deadline)}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex rounded-full px-3 py-1 text-xs font-medium ${I3(R.status||"active")}`,children:(R.status||"active").charAt(0).toUpperCase()+(R.status||"active").slice(1)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex rounded-full px-3 py-1 text-xs font-medium ${G3(R.approvalStatus||"PENDING")}`,children:[R.approvalStatus==="APPROVED"?" ":R.approvalStatus==="REJECTED"?" ":" ",R.approvalStatus||"PENDING"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("button",{onClick:()=>T(R),className:"inline-flex items-center gap-1 rounded-lg bg-green-600 px-3 py-2 text-xs font-medium text-white hover:bg-green-700 transition-colors",title:"View Details",children:[e.jsxs("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View"]})}),e.jsx("td",{className:"px-6 py-4",children:R.contentType==="opportunity"&&R.approvalStatus==="APPROVED"?e.jsxs("button",{onClick:()=>O(R),className:"inline-flex items-center gap-1 rounded-lg bg-purple-600 px-3 py-2 text-xs font-medium text-white hover:bg-purple-700 transition-colors",title:"View Applications",children:[e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Applications"]}):R.contentType==="event"?e.jsxs("button",{onClick:()=>Y(R),className:"inline-flex items-center gap-1 rounded-lg bg-blue-600 px-3 py-2 text-xs font-medium text-white hover:bg-blue-700 transition-colors",title:"View Registrations",children:[e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Registrations"]}):R.contentType==="campaign"?e.jsxs("button",{onClick:()=>W(R),className:"inline-flex items-center gap-1 rounded-lg bg-green-600 px-3 py-2 text-xs font-medium text-white hover:bg-green-700 transition-colors",title:"View Donations",children:[e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Donations"]}):e.jsx("span",{className:"text-xs text-slate-400",children:""})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("button",{onClick:()=>U(R),className:"inline-flex items-center gap-1 rounded-lg bg-blue-600 px-3 py-2 text-xs font-medium text-white hover:bg-blue-700 transition-colors",title:"Edit Content",children:[e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"inline-flex items-center gap-1 rounded-lg bg-slate-100 px-3 py-2 text-xs font-medium text-slate-700 hover:bg-slate-200 transition-colors",children:["More",e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx("div",{className:"absolute right-0 z-10 mt-1 w-48 bg-white rounded-lg border border-slate-200 shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:e.jsx("div",{className:"py-1",children:e.jsxs("button",{onClick:()=>I(R),disabled:h,className:"flex w-full items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors disabled:opacity-50",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 011-1h2a1 1 0 011 1v3M4 7h16"})}),"Delete"]})})})]})]})})]},`${R.contentType}-${R.id}`))})]})}),H.length>0&&e.jsx("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50",children:e.jsx("div",{className:"flex items-center justify-between text-sm text-slate-600",children:e.jsxs("div",{children:["Showing ",H.length," of ",F.length," items"]})})})]})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5",children:e.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Content Management"}),e.jsx("p",{className:"mt-2 text-slate-600",children:"This feature is available for alumni and faculty members only."})]})})})},W3=a=>{if(!a)return"";const n=new Date(a);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},Q3=a=>{switch(a?.toLowerCase()){case"active":return"bg-emerald-100 text-emerald-800";case"paused":return"bg-amber-100 text-amber-800";case"closed":return"bg-slate-100 text-slate-800";case"expired":return"bg-red-100 text-red-800";default:return"bg-slate-100 text-slate-800"}},J3=a=>{switch(a?.toUpperCase()){case"APPROVED":return"bg-emerald-100 text-emerald-800";case"REJECTED":return"bg-red-100 text-red-800";case"PENDING":default:return"bg-amber-100 text-amber-800"}},Z3=()=>{const{role:a,user:n}=ye(),r=Te(),[o,c]=x.useState(""),[u,p]=x.useState("all"),[b,y]=x.useState("all"),[f,g]=x.useState("all"),[h,v]=x.useState(!1),[C,N]=x.useState([]),[k,j]=x.useState([]),[S,_]=x.useState([]),[B,D]=x.useState([]),[E,P]=x.useState(!0),z=["alumni","faculty"].includes(String(a??"").trim().toLowerCase()),$=async()=>{if(!z){P(!1);return}try{const[Y,W,I,A]=await Promise.all([ce("/api/opportunities/mine"),ce("/api/events/mine"),ce("/api/donations/mine"),ce("/api/campaigns/mine")]);N(Y?.data||[]),j(W?.data||[]),_(I?.data||[]),D(A?.data||[])}catch(Y){console.error("Failed to fetch user content:",Y)}finally{P(!1)}};x.useEffect(()=>{$()},[]);const F=x.useMemo(()=>{const Y=[];return C.forEach(W=>Y.push({...W,contentType:"opportunity",title:W.title,company:W.company,location:W.location,type:W.type,deadline:W.deadline,status:W.status,approvalStatus:W.approvalStatus,createdAt:W.createdAt,applicants:W.applicants||0})),k.forEach(W=>Y.push({...W,contentType:"event",title:W.title,company:W.organizer||"",location:W.location,type:W.type,deadline:W.date,status:W.status,approvalStatus:W.approvalStatus,createdAt:W.createdAt,applicants:W.attendees||0})),S.forEach(W=>Y.push({...W,contentType:"donation",title:W.title,company:W.organizer||"",location:"",type:"donation",deadline:W.deadline,status:W.status,approvalStatus:W.approvalStatus,createdAt:W.createdAt,applicants:W.donors||0})),B.forEach(W=>Y.push({...W,contentType:"campaign",title:W.title,company:W.organizer||"",location:"",type:"campaign",deadline:W.deadline,status:W.status,approvalStatus:W.approvalStatus,createdAt:W.createdAt,applicants:W.contributors||0})),Y},[C,k,S,B]),H=x.useMemo(()=>{const Y=o.trim().toLowerCase();return F.filter(W=>{const I=!Y||W.title.toLowerCase().includes(Y)||W.company&&W.company.toLowerCase().includes(Y)||W.location&&W.location.toLowerCase().includes(Y),A=f==="all"||W.contentType===f,R=b==="all"||W.status===b;return I&&A&&R})},[F,o,f,b]),U=Y=>{const W={opportunity:`/user/opportunities/${Y.id}/edit`,event:`/user/events/${Y.id}/edit`,donation:`/user/donations/${Y.id}/edit`,campaign:`/user/campaigns/${Y.id}/edit`};r(W[Y.contentType])},T=async Y=>{if(window.confirm(`Are you sure you want to delete this ${Y.contentType}?`)){v(!0);try{const W={opportunity:`/api/opportunities/${Y.id}`,event:`/api/events/${Y.id}`,donation:`/api/donations/${Y.id}`,campaign:`/api/campaigns/${Y.id}`};await Dl(W[Y.contentType]),await $(),alert(`${Y.contentType.charAt(0).toUpperCase()+Y.contentType.slice(1)} deleted successfully`)}catch(W){console.error("Failed to delete:",W),alert("Failed to delete. Please try again.")}finally{v(!1)}}},O=Y=>{switch(Y){case"opportunity":return e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})});case"event":return e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"donation":return e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})});case"campaign":return e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"})});default:return null}};return z?e.jsxs("div",{className:"space-y-6",children:[e.jsx("header",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"My Content Management"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Manage your posted opportunities, events, donations, and campaigns."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>r("/user/opportunities/create"),className:"inline-flex items-center gap-2 rounded-xl bg-red-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-all hover:bg-red-700 hover:shadow-md",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Post Opportunity"]}),e.jsxs("button",{onClick:()=>r("/user/events/create"),className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-all hover:bg-blue-700 hover:shadow-md",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Event"]})]})]})}),e.jsxs("section",{className:"bg-white rounded-xl border border-slate-200 shadow-sm",children:[e.jsx("div",{className:"p-6 border-b border-slate-200",children:e.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-3 flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Search your content...",value:o,onChange:Y=>c(Y.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-slate-300 rounded-xl text-sm text-slate-900 placeholder:text-slate-500 focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-500/20 transition-colors"})]}),e.jsxs("select",{value:f,onChange:Y=>g(Y.target.value),className:"block w-full px-3 py-2.5 border border-slate-300 rounded-xl text-sm text-slate-900 focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-500/20 transition-colors",children:[e.jsx("option",{value:"all",children:"All Content"}),e.jsx("option",{value:"opportunity",children:"Opportunities"}),e.jsx("option",{value:"event",children:"Events"}),e.jsx("option",{value:"donation",children:"Donations"}),e.jsx("option",{value:"campaign",children:"Campaigns"})]}),e.jsxs("select",{value:b,onChange:Y=>y(Y.target.value),className:"block w-full px-3 py-2.5 border border-slate-300 rounded-xl text-sm text-slate-900 focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-500/20 transition-colors",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"paused",children:"Paused"}),e.jsx("option",{value:"closed",children:"Closed"})]})]})})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Content Title"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Location"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Date/Deadline"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Registrations"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Approval Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:E?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center text-sm text-slate-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-red-600"}),"Loading your content..."]})})}):H.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center text-sm text-slate-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("svg",{className:"h-12 w-12 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("div",{children:"No content found."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r("/user/opportunities/create"),className:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 transition-colors",children:"Create Opportunity"}),e.jsx("button",{onClick:()=>r("/user/events/create"),className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:"Create Event"})]})]})})}):H.map(Y=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-slate-900 max-w-xs truncate",children:Y.title}),e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:Y.company})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[O(Y.contentType),e.jsx("span",{className:"text-sm text-slate-700 capitalize",children:Y.contentType})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:Y.location||""}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:W3(Y.deadline)}),e.jsx("td",{className:"px-6 py-4",children:Y.contentType==="event"?e.jsxs("button",{onClick:()=>r(`/user/events/${Y.id}/registrations`),className:"flex items-center gap-1 text-sm text-slate-700 hover:text-blue-600 transition-colors group",children:[e.jsx("svg",{className:"h-4 w-4 text-slate-400 group-hover:text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),e.jsx("span",{className:"underline decoration-2 underline-offset-2 group-hover:decoration-blue-500",children:Y.applicants})]}):e.jsx("span",{className:"text-sm text-slate-700",children:Y.applicants})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex rounded-full px-3 py-1 text-xs font-medium ${Q3(Y.status)}`,children:Y.status.charAt(0).toUpperCase()+Y.status.slice(1)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex rounded-full px-3 py-1 text-xs font-medium ${J3(Y.approvalStatus)}`,children:[Y.approvalStatus==="APPROVED"?" ":Y.approvalStatus==="REJECTED"?" ":" ",Y.approvalStatus]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("button",{onClick:()=>U(Y),className:"inline-flex items-center gap-1 rounded-lg bg-blue-600 px-3 py-2 text-xs font-medium text-white hover:bg-blue-700 transition-colors",title:"Edit Content",children:[e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"inline-flex items-center gap-1 rounded-lg bg-slate-100 px-3 py-2 text-xs font-medium text-slate-700 hover:bg-slate-200 transition-colors",children:["More",e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx("div",{className:"absolute right-0 z-10 mt-1 w-48 bg-white rounded-lg border border-slate-200 shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:e.jsx("div",{className:"py-1",children:e.jsxs("button",{onClick:()=>T(Y),disabled:h,className:"flex w-full items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors disabled:opacity-50",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 011-1h2a1 1 0 011 1v3M4 7h16"})}),"Delete"]})})})]})]})})]},`${Y.contentType}-${Y.id}`))})]})}),H.length>0&&e.jsx("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50",children:e.jsx("div",{className:"flex items-center justify-between text-sm text-slate-600",children:e.jsxs("div",{children:["Showing ",H.length," of ",F.length," items"]})})})]})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5",children:e.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Content Management"}),e.jsx("p",{className:"mt-2 text-slate-600",children:"This feature is available for alumni and faculty members only."})]})})})},K3=a=>{if(!a)return"";const n=new Date(a);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},w0=a=>{if(!a)return"";const n=new Date(a);return Number.isNaN(n.getTime())?"":n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})},e5=()=>{const a=Te(),{eventId:n}=Et(),[r,o]=x.useState(null),[c,u]=x.useState([]),[p,b]=x.useState(!0),[y,f]=x.useState(null);x.useEffect(()=>{n&&(async()=>{try{b(!0);const v=await ce(`/events/${n}`);o(v.data);const C=await ce(`/events/${n}/registrations`);u(C.data||[])}catch(v){console.error("Failed to fetch event data:",v),f("Failed to load event data. Please try again.")}finally{b(!1)}})()},[n]);const g=()=>{a("/user/my-posts")};return p?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5 p-6",children:e.jsxs("div",{className:"mx-auto max-w-6xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:g,className:"rounded-lg p-2 text-slate-600 hover:bg-slate-100 transition-colors",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Loading Event Registrations..."})]}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})})]})}):y||!r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5 p-6",children:e.jsxs("div",{className:"mx-auto max-w-6xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:g,className:"rounded-lg p-2 text-slate-600 hover:bg-slate-100 transition-colors",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Event Registrations"})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-8 text-center",children:[e.jsx("div",{className:"text-red-600 mb-4",children:y||"Event not found"}),e.jsx("button",{onClick:g,className:"rounded-lg bg-red-600 px-4 py-2 text-sm font-semibold text-white hover:bg-red-700 transition-colors",children:"Back to My Content"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5 p-6",children:e.jsxs("div",{className:"mx-auto max-w-6xl",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:g,className:"rounded-lg p-2 text-slate-600 hover:bg-slate-100 transition-colors",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Event Registrations"}),e.jsx("p",{className:"text-slate-600 mt-1",children:r.title})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-slate-500",children:"Total Registrations"}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:c.length})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 mb-1",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Date & Time"]}),e.jsxs("div",{className:"text-sm font-medium text-slate-900",children:[K3(r.startAt)," at ",w0(r.startAt),r.endAt&&` - ${w0(r.endAt)}`]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 mb-1",children:[e.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Location"]}),e.jsx("div",{className:"text-sm font-medium text-slate-900",children:r.location||""})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 mb-1",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"Type"]}),e.jsx("div",{className:"text-sm font-medium text-slate-900 capitalize",children:r.organization||"Event"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm",children:[e.jsx("div",{className:"p-6 border-b border-slate-200",children:e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Registered Participants"})}),c.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("svg",{className:"h-12 w-12 text-slate-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No registrations yet"}),e.jsx("p",{className:"text-slate-500",children:"No one has registered for this event yet."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Email"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Phone"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Role"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Department"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Registered At"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:c.map((h,v)=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm font-medium text-slate-900",children:h.firstName&&h.lastName?`${h.firstName} ${h.lastName}`:h.name||""})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:h.email||""}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:h.phone||""}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:h.role||""}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:h.department||""}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:h.registeredAt?new Date(h.registeredAt).toLocaleString():""})]},v))})]})}),c.length>0&&e.jsx("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[e.jsxs("div",{children:["Showing ",c.length," registrations"]}),e.jsxs("div",{children:["Last updated: ",new Date().toLocaleString()]})]})})]})]})})},S0={pending:"bg-amber-100 text-amber-700",review:"bg-purple-100 text-purple-700",accepted:"bg-amber-100 text-amber-700",confirmed:"bg-emerald-100 text-emerald-700",rejected:"bg-rose-100 text-rose-700"},Da=a=>{if(!a)return"";try{const n=a instanceof Date?a:new Date(a);return Number.isNaN(n.getTime())?"":n.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}catch{return""}},t5=a=>{if(!a)return null;const n=new Date,o=(new Date(a).getTime()-n.getTime())/(1e3*60*60);return o>3?{text:`Starts at ${Da(a)}`,disabled:!1,tone:"primary"}:o<=0?{text:"Expired",disabled:!0,tone:"slate"}:{text:"Join",disabled:!1,tone:"emerald"}},s5=()=>{const{requests:a,loading:n,error:r,refresh:o,selfId:c,role:u,confirmRequest:p,rejectRequest:b}=Ub(),[y,f]=x.useState("sent"),[g,h]=x.useState({open:!1,request:null,selectedIndex:0,submitting:!1,error:""}),v=$=>{h({open:!0,request:$,selectedIndex:0,submitting:!1,error:""})},C=()=>{g.submitting||h({open:!1,request:null,selectedIndex:0,submitting:!1,error:""})},{sent:N,received:k}=x.useMemo(()=>{const $={sent:[],received:[]};return(Array.isArray(a)?a:[]).forEach(F=>{const H=F.status?.toLowerCase?.()||F.status||"pending",U={...F,status:H,isSent:F.menteeId===c};U.isSent&&$.sent.push(U),F.mentorId===c&&$.received.push(U)}),$},[a,c]),j=y==="sent"?N:k,S=x.useMemo(()=>{const $={pending:[],review:[],accepted:[],confirmed:[],rejected:[]};return j.forEach(F=>{F.status==="confirmed"?$.confirmed.push(F):F.status==="accepted"?$.accepted.push(F):F.status==="rejected"?$.rejected.push(F):F.status==="review"?$.review.push(F):$.pending.push(F)}),$},[j]),_=async()=>{const{request:$,selectedIndex:F}=g;if(!$)return;const U=(Array.isArray($.proposedSlots)?$.proposedSlots:[])[F];if(!U){h(T=>({...T,error:"Select one of the schedule options to continue."}));return}try{h(T=>({...T,submitting:!0,error:""})),await p($.id,{slotIndex:F,scheduledMode:U.mode}),C()}catch(T){h(O=>({...O,submitting:!1,error:T?.message??"Unable to confirm this schedule. Please try again."}))}},B=async $=>{if(window.confirm("Are you sure you want to reject this mentorship proposal?"))try{await b($.id),o()}catch(F){console.error("Failed to reject proposal:",F),alert("Unable to reject proposal. Please try again.")}},D=$=>{const F=S0[$.status]??S0.pending,H=$.isSent?$.mentorName||"Mentor":$.menteeName||"Mentee",U=$.isSent?$.mentorEmail:$.menteeEmail,T=$.isSent?$.mentorAvatar:$.menteeAvatar,O=$.status==="accepted",Y=Array.isArray($.proposedSlots)?$.proposedSlots:[],W=$.scheduledDateTime?`${Da($.scheduledDateTime)}  ${($.scheduledMode||$.preferredMode||"online").toUpperCase()}`:null,I=t5($.scheduledDateTime);return e.jsx("article",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm transition hover:border-primary/30 hover:shadow-md",children:e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-1 items-start gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center overflow-hidden rounded-full bg-primary/10 text-sm font-semibold text-primary",children:T?e.jsx("img",{src:T,alt:H,className:"h-full w-full object-cover"}):H.slice(0,2).toUpperCase()}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:U||"Mentorship contact"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:H}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[11px] uppercase tracking-[0.25em] text-slate-400",children:[e.jsx("span",{children:$.serviceName||"Mentorship session"}),e.jsx("span",{className:"h-1 w-1 rounded-full bg-slate-300"}),e.jsx("span",{children:($.serviceMode||$.preferredMode||"online").toUpperCase()}),$.preferredDateTime?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"h-1 w-1 rounded-full bg-slate-300"}),e.jsx("span",{children:Da($.preferredDateTime)})]}):null]}),W?e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("p",{className:"text-xs font-semibold text-primary/80",children:["Confirmed schedule: ",e.jsx("span",{className:"font-mono text-slate-700",children:W})]}),$.meetingLink&&e.jsxs("div",{className:"rounded-2xl border border-green-200 bg-green-50 p-3",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-green-600",children:"Meeting Link"}),e.jsx("a",{href:$.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"mt-1 block text-xs text-green-700 hover:text-green-800 underline break-all",children:$.meetingLink})]})]}):O&&Y.length?e.jsxs("div",{className:"mt-2 rounded-2xl border border-amber-200 bg-amber-50 p-3 text-xs text-amber-600",children:[e.jsx("p",{className:"font-semibold uppercase tracking-[0.3em] text-amber-500",children:"Awaiting confirmation"}),e.jsx("ul",{className:"mt-2 space-y-1 text-[11px] text-amber-700",children:Y.map((A,R)=>e.jsxs("li",{className:"flex items-center justify-between",children:[e.jsx("span",{children:Da(A.slotDate)}),e.jsx("span",{className:"font-semibold",children:A.mode?.toUpperCase?.()??"ONLINE"})]},R))})]}):null,Number.isFinite($.servicePrice)&&$.servicePrice>0?e.jsxs("p",{className:"text-xs font-semibold text-slate-500",children:["Quoted price: ",$.servicePrice]}):null,$.notes?e.jsx("p",{className:"mt-3 text-sm text-slate-500",children:$.notes}):null]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-3 text-right",children:[e.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${F}`,children:$.status}),e.jsxs("div",{className:"text-[11px] text-slate-400",children:[e.jsxs("p",{children:["Requested ",Da($.createdAt)]}),$.updatedAt?e.jsxs("p",{children:["Updated ",Da($.updatedAt)]}):null]}),$.isSent&&O&&Y.length?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{type:"button",onClick:()=>v($),className:"rounded-full border border-primary px-4 py-2 text-xs font-semibold text-primary transition hover:bg-primary hover:text-white",children:"Select Schedule"}),e.jsx("button",{type:"button",onClick:()=>B($),className:"rounded-full border border-rose-200 px-4 py-2 text-xs font-semibold text-rose-600 transition hover:bg-rose-500 hover:text-white",children:"Reject Proposal"})]}):null,$.isSent&&$.meetingLink&&$.scheduledDateTime&&I?e.jsx("button",{type:"button",onClick:()=>window.open($.meetingLink,"_blank"),className:`rounded-full px-4 py-2 text-xs font-semibold transition ${I.disabled?"border border-slate-200 text-slate-400 cursor-not-allowed":`border border-${I.tone} bg-${I.tone} text-white hover:bg-${I.tone}/90`}`,disabled:I.disabled,children:I.text}):null]})]})},$.id)},E=($,F,H)=>e.jsxs("section",{className:"space-y-4",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:$}),e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600",children:F.length})]}),F.length?e.jsx("div",{className:"space-y-3",children:F.map(D)}):e.jsx("p",{className:"rounded-2xl border border-dashed border-slate-200 bg-white/70 px-6 py-4 text-sm text-slate-500",children:H})]}),P=[{key:"sent",label:"Sent by me",show:!0},{key:"received",label:"Received",show:["alumni","alumni-student"].includes(u)}].filter($=>$.show),z=P.length>1;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5",children:e.jsxs("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:[e.jsx("header",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-sm",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-400",children:"My Activity"}),e.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Mentorship Requests"}),e.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-500",children:"Keep track of mentorship requests you have sent or received, and monitor their status over time."})]}),e.jsxs("button",{type:"button",onClick:o,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600 transition hover:border-primary/40 hover:text-primary",children:["Refresh",e.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.6,d:"M4 4v6h6M20 20v-6h-6"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.6,d:"M20 9a7 7 0 00-12.9-3M4 15a7 7 0 0012.9 3"})]})]})]})}),z?e.jsx("div",{className:"mt-8 flex flex-wrap gap-3",children:P.map($=>e.jsx("button",{type:"button",onClick:()=>f($.key),className:`rounded-full px-4 py-2 text-xs font-semibold transition ${y===$.key?"bg-primary text-white shadow-sm":"border border-slate-200 text-slate-600 hover:border-primary/40 hover:text-primary"}`,children:$.label},$.key))}):null,n?e.jsx("div",{className:"mt-8 rounded-3xl border border-slate-200 bg-white p-10 text-center text-sm text-slate-500 shadow-sm",children:"Loading your requests..."}):r?e.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-4 rounded-3xl border border-rose-200 bg-rose-50 px-6 py-4 text-sm text-rose-600 shadow-sm",children:[e.jsx("span",{children:r.message??"Unable to load requests right now."}),e.jsx("button",{type:"button",onClick:o,className:"rounded-full border border-rose-400 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-rose-600 transition hover:border-rose-500 hover:bg-rose-100",children:"Retry"})]}):e.jsxs("div",{className:"mt-8 space-y-10",children:[E("Pending",S.pending,y==="sent"?"No pending requests right now. Submit a new request to connect with mentors.":"No pending requests from mentees at the moment."),E("Under Review",S.review,y==="sent"?"No requests are currently under review.":"No requests are under review."),E("Awaiting Confirmation",S.accepted,y==="sent"?"No mentor responses are waiting on you yet.":"No mentee confirmations are pending right now."),E("Confirmed",S.confirmed,"No confirmed sessions in this view yet."),E("Rejected",S.rejected,"No rejected requests in this view.")]})]})}),g.open?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{g.submitting||C()}}),e.jsxs("div",{className:"relative z-10 w-full max-w-lg rounded-3xl bg-white p-6 shadow-2xl",children:[e.jsxs("header",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-400",children:"Confirm schedule"}),e.jsx("h2",{className:"mt-1 text-lg font-semibold text-slate-900",children:g.request?.mentorName||"Mentorship session"}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Choose one of the mentors proposed slots to finalize your mentorship session."})]}),e.jsx("button",{type:"button",onClick:C,className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary hover:text-primary",children:"Close"})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[Array.isArray(g.request?.proposedSlots)&&g.request.proposedSlots.length?g.request.proposedSlots.map(($,F)=>{const H=g.selectedIndex===F;return e.jsxs("label",{className:`flex items-center justify-between gap-4 rounded-2xl border px-4 py-3 text-sm transition ${H?"border-primary/80 bg-primary/5":"border-slate-200"}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold text-slate-700",children:Da($.slotDate??$.preferredDateTime)}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Mode: ",$.mode?.toUpperCase?.()??"ONLINE"]})]}),e.jsx("input",{type:"radio",name:"confirmation-slot",checked:H,onChange:()=>h(U=>({...U,selectedIndex:F,error:"",submitting:!1}))})]},`${$.slotDate??F}-${F}`)}):e.jsx("p",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-xs text-rose-600",children:"This request does not include any proposed schedule options. Please ask your mentor to provide available slots."}),g.error?e.jsx("p",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-xs text-rose-600",children:g.error}):null]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:C,className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-primary/40 hover:text-primary",disabled:g.submitting,children:"Cancel"}),e.jsx("button",{type:"button",onClick:_,disabled:g.submitting||g.selectedIndex<0,className:"rounded-full bg-primary px-4 py-2 text-xs font-semibold text-white transition hover:bg-primary/90 disabled:opacity-60",children:g.submitting?"Confirming":"Confirm schedule"})]})]})]}):null]})},ki=a=>a?{...a,deadline:a.deadline?new Date(a.deadline):null,createdAt:a.createdAt?new Date(a.createdAt):null,updatedAt:a.updatedAt?new Date(a.updatedAt):null}:null,tm=()=>{const[a,n]=x.useState([]),[r,o]=x.useState(!0),[c,u]=x.useState(null),p=x.useCallback(async()=>{o(!0),u(null);try{console.log("Fetching user campaigns...");const g=await ce("/campaigns/user",{includeAuth:!0});console.log("User campaigns response:",g);const h=Array.isArray(g?.data)?g.data:[];console.log("Campaigns data before formatting:",h);const v=h.map(ki).filter(Boolean);console.log("Campaigns data after formatting:",v),n(v)}catch(g){console.warn("Unable to load user campaigns, falling back to public campaigns:",g);try{console.log("Fetching public campaigns as fallback...");const h=await ce("/campaigns",{includeAuth:!1});console.log("Public campaigns response:",h);const v=Array.isArray(h?.data)?h.data:[];console.log("Public campaigns data before formatting:",v);const C=v.map(ki).filter(Boolean);console.log("Public campaigns data after formatting:",C),n(C)}catch(h){console.error("Both user and public campaigns failed:",h),u(h)}}finally{o(!1)}},[]);x.useEffect(()=>{p()},[p]);const b=x.useCallback(async({title:g,description:h,goalAmount:v,coverImage:C,deadline:N,category:k,tags:j,featured:S,priority:_})=>{try{console.log("Creating campaign with data:",{title:g,description:h,goalAmount:v,coverImage:C,deadline:N,category:k,tags:j,featured:S,priority:_});const B=await _e("/campaigns",{title:g,description:h,goalAmount:v,coverImage:C,deadline:N,category:k,tags:j,featured:S,priority:_});console.log("Campaign creation response:",B);const D=ki(B?.data);return D&&n(E=>[D,...E]),D}catch(B){throw console.error("Unable to publish campaign:",B),B}},[]),y=x.useCallback(async(g,h)=>{try{const v=await Pt(`/campaigns/${g}`,h),C=ki(v?.data);return C&&n(N=>N.map(k=>k.id===g?C:k)),C}catch(v){throw console.error("Unable to update campaign:",v),v}},[]),f=x.useCallback(async g=>{try{return await Dl(`/campaigns/${g}`),n(h=>h.filter(v=>v.id!==g)),!0}catch(h){throw console.error("Unable to delete campaign:",h),h}},[]);return x.useMemo(()=>({items:a,loading:r,error:c,refresh:p,createCampaign:b,updateCampaign:y,deleteCampaign:f}),[a,r,c,p,b,y,f])},a5="https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=1200&q=80",l5=a=>{const n=Number(a);return Number.isNaN(n)?"0":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(n)},n5=[{label:"Scholarship Fund",value:"scholarship"},{label:"Infrastructure",value:"infrastructure"},{label:"Equipment & Technology",value:"equipment"},{label:"Research & Development",value:"research"},{label:"Community Service",value:"community"},{label:"Emergency Relief",value:"emergency"},{label:"Other",value:"other"}],C0=()=>{const a=Te(),{user:n}=ye(),{createCampaign:r}=tm(),[o,c]=x.useState({title:"",goalAmount:"",description:"",coverImage:"",deadline:"",category:"community",tags:"",featured:!1,priority:0}),[u,p]=x.useState(!1),[b,y]=x.useState(!1),[f,g]=x.useState(""),h=k=>j=>{const S=j.target.type==="checkbox"?j.target.checked:j.target.value;c(_=>({..._,[k]:S}))},v=async k=>{const j=k.target.files[0];if(j){if(!j.type.startsWith("image/")){alert("Please select an image file");return}if(j.size>5*1024*1024){alert("Image size should be less than 5MB");return}y(!0);try{const S=new FormData;S.append("file",j),S.append("upload_preset","Alumni");const B=await(await fetch("https://api.cloudinary.com/v1_1/dwzk5ytq6/image/upload",{method:"POST",body:S})).json();B.secure_url&&(c(D=>({...D,coverImage:B.secure_url})),g(B.secure_url))}catch(S){console.error("Upload failed:",S),alert("Failed to upload image. Please try again.")}finally{y(!1)}}},C=async k=>{if(k.preventDefault(),u)return;const j=Number(o.goalAmount);if(Number.isNaN(j)||j<=0){alert("Please enter a valid goal amount");return}p(!0);try{const S=await r({title:o.title.trim(),description:o.description.trim(),goalAmount:j,coverImage:o.coverImage.trim()||a5,deadline:o.deadline?new Date(o.deadline).toISOString():void 0,category:o.category,tags:o.tags.split(",").map(B=>B.trim()).filter(B=>B),featured:o.featured,priority:Number(o.priority)||0}),_=n?.role?.toLowerCase();alert(_==="admin"||_==="coordinator"?"Campaign created and approved successfully!":"Campaign submitted for approval! It will be reviewed by the admin and respective department."),a("/dashboard/campaigns")}catch(S){console.error("Failed to create campaign:",S),alert("Failed to create campaign. Please try again.")}finally{p(!1)}},N=()=>{a("/dashboard/campaigns")};return e.jsx("div",{className:"min-h-screen bg-slate-50",children:e.jsx("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("header",{children:[e.jsxs("button",{type:"button",onClick:N,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary mb-4",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:e.jsx("path",{d:"M15 18l-6-6 6-6"})}),"Back to Campaigns"]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-primary",children:"Create Campaign"}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Launch a fundraiser for the community"}),e.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Create a campaign to support scholarships, infrastructure, equipment, research, or community initiatives."})]})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-8",children:e.jsxs("form",{onSubmit:C,className:"space-y-8",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx(cu,{label:"Campaign Title",value:o.title,onChange:h("title"),placeholder:"Equip Computer Science Lab",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Goal Amount ()"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-sm font-semibold text-slate-500",children:""}),e.jsx("input",{type:"number",min:"1",value:o.goalAmount,onChange:h("goalAmount"),placeholder:"50000",required:!0,className:"w-full rounded-xl border border-slate-200 pl-8 pr-4 py-3 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all"})]}),o.goalAmount&&e.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["Target: ",l5(o.goalAmount)]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Campaign Category"}),e.jsx("select",{value:o.category,onChange:h("category"),required:!0,className:"w-full rounded-xl border border-slate-200 px-4 py-3 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all",children:n5.map(k=>e.jsx("option",{value:k.value,children:k.label},k.value))})]}),e.jsx(cu,{label:"Tags (comma separated)",value:o.tags,onChange:h("tags"),placeholder:"education, technology, students"})]}),e.jsx(r5,{label:"Campaign Description",value:o.description,onChange:h("description"),placeholder:"Explain the impact of this campaign, who it supports, and how funds will be used.",rows:6,required:!0}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx(i5,{label:"Cover Image",value:o.coverImage,imagePreview:f,uploading:b,onUpload:v,onChange:h("coverImage")}),e.jsx(cu,{label:"Campaign Deadline",type:"date",value:o.deadline,onChange:h("deadline")})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-4 pt-6 border-t border-slate-100",children:[e.jsx("button",{type:"button",onClick:N,className:"rounded-full border border-slate-200 px-6 py-3 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-full bg-primary px-6 py-3 text-sm font-semibold text-white transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:bg-primary/50",disabled:u,children:u?"Publishing Campaign...":"Publish Campaign"})]})]})})]})})})},cu=({label:a,type:n="text",value:r,onChange:o,placeholder:c,required:u,min:p})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:a}),e.jsx("input",{type:n,min:p,value:r,onChange:o,placeholder:c,required:u,className:"w-full rounded-xl border border-slate-200 px-4 py-3 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all"})]}),r5=({label:a,value:n,onChange:r,placeholder:o,rows:c=4,required:u})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:a}),e.jsx("textarea",{value:n,onChange:r,placeholder:o,rows:c,required:u,className:"w-full rounded-xl border border-slate-200 px-4 py-3 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all resize-none"})]}),i5=({label:a,value:n,imagePreview:r,uploading:o,onUpload:c,onChange:u})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:a}),e.jsxs("div",{className:"space-y-4",children:[(r||n)&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r||n,alt:"Cover preview",className:"w-full h-48 object-cover rounded-xl border border-slate-200"}),e.jsx("button",{type:"button",onClick:()=>{u({target:{value:""}}),setImagePreview("")},className:"absolute top-2 right-2 rounded-full bg-red-500 text-white p-1 hover:bg-red-600 transition",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:c,disabled:o,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer disabled:cursor-not-allowed"}),e.jsx("div",{className:"border-2 border-dashed border-slate-300 rounded-xl p-6 text-center hover:border-primary transition-colors cursor-pointer",children:o?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary border-t-transparent rounded-full mx-auto"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Uploading..."})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("svg",{className:"w-8 h-8 mx-auto text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("p",{className:"text-sm text-slate-600",children:"Click to upload image"}),e.jsx("p",{className:"text-xs text-slate-400",children:"PNG, JPG, GIF up to 5MB"})]})})]}),e.jsx("div",{className:"text-xs text-slate-500",children:"Or enter image URL directly:"}),e.jsx("input",{type:"url",value:n,onChange:u,placeholder:"https://example.com/image.jpg",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-xs text-slate-600 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/20"})]})]}),o5="https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=1200&q=80",du=a=>{const n=Number(a);return Number.isNaN(n)?"0":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(n)},c5=(a,n)=>!n||n<=0?0:Math.min(100,Math.round(Number(a??0)/Number(n)*100)),d5=a=>{if(!a)return null;const n=new Date(a);if(Number.isNaN(n.getTime()))return null;const o=Math.ceil((n-new Date)/(1e3*60*60*24));return o<0?0:o},u5=()=>{const{role:a}=ye();je();const n=Te(),r=a?.toLowerCase()??null,o=r==="alumni"||r==="faculty",{items:c,loading:u,error:p,refresh:b}=tm();console.log("Campaigns component render:",{campaignsCount:c.length,loading:u,error:p,userRole:r,canCreateCampaign:o,campaigns:c.map(g=>({id:g.id,title:g.title,approvalStatus:g.approvalStatus,createdBy:g.createdBy}))});const y=x.useMemo(()=>[...c].sort((g,h)=>g.featured&&!h.featured?-1:!g.featured&&h.featured?1:g.priority!==h.priority?h.priority-g.priority:g.deadline&&h.deadline?new Date(g.deadline)-new Date(h.deadline):new Date(h.createdAt)-new Date(g.createdAt)),[c]),f=()=>{n("/dashboard/campaigns/create")};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"rounded-3xl bg-gradient-to-r from-primary to-primary-dark p-10 text-white shadow-soft",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Support Our Community Campaigns"}),e.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/80",children:"Join us in making a difference through various fundraising initiatives for scholarships, infrastructure, equipment, research, and community service."}),y.length>0&&e.jsx(Le,{to:`/dashboard/campaigns/${y[0].id}`,className:"mt-6 inline-flex rounded-full bg-white/10 px-6 py-3 text-sm font-semibold text-white transition hover:bg-white/20",children:"Donate Now"})]}),o&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900",children:"Campaign Approval Process"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Your campaign will be submitted for approval to the admin and respective department. Once approved, it will be visible to all users."})]})]})}),o&&e.jsx("button",{type:"button",onClick:f,className:"rounded-full border border-primary/20 bg-white px-5 py-2 text-sm font-semibold text-primary transition hover:border-primary hover:bg-primary/10",children:"+ Create Campaign"}),p&&e.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-3xl border border-rose-200 bg-rose-50 px-6 py-4 text-sm text-rose-600",children:[e.jsx("p",{children:p.message??"Unable to load campaigns right now."}),e.jsx("button",{type:"button",onClick:b,className:"rounded-full border border-rose-400 px-4 py-1 text-xs font-semibold uppercase tracking-wide text-rose-600 transition hover:border-rose-500 hover:text-rose-700",children:"Retry"})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Campaigns"}),e.jsx("div",{className:"mt-4 grid gap-6 lg:grid-cols-3",children:u?Array.from({length:3}).map((g,h)=>e.jsx(x5,{},h)):y.length>0?y.map(g=>e.jsx(m5,{campaign:g},g.id)):e.jsxs("div",{className:"col-span-full rounded-3xl border border-dashed border-slate-200 bg-white p-12 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"No campaigns yet"}),e.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["When alumni and faculty launch fundraising campaigns, they will appear here. ",o?"Start the first campaign!":""]})]})})]})]})},m5=({campaign:a})=>{const n=a.coverImage||o5,r=c5(a.raisedAmount,a.goalAmount);d5(a.deadline);const o=a.approvalStatus==="PENDING";return a.createdBy,a.currentUserId,e.jsx(Le,{to:`/dashboard/campaigns/${a.id}`,className:"relative block h-full w-full overflow-hidden",children:e.jsxs("article",{className:"flex h-full flex-col overflow-hidden rounded-3xl bg-white shadow-sm",children:[e.jsx("img",{src:n,alt:a.title,className:"h-48 w-full object-cover transition duration-500 hover:scale-105"}),a.featured&&e.jsx("span",{className:"absolute left-4 top-4 rounded-full bg-yellow-400 px-3 py-1 text-xs font-semibold uppercase tracking-widest text-yellow-900",children:"Featured"}),o&&e.jsx("span",{className:"absolute right-4 top-4 rounded-full bg-amber-100 px-3 py-1 text-xs font-semibold uppercase tracking-widest text-amber-700",children:"Pending Approval"}),e.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 line-clamp-2",children:a.title}),e.jsx("p",{className:"text-sm text-slate-500 line-clamp-2",children:a.company})]}),e.jsx("p",{className:"text-sm text-slate-600 line-clamp-3",children:a.description}),e.jsxs("div",{className:"mt-auto flex items-center justify-between text-sm text-slate-500",children:[e.jsx("span",{children:du(a.goalAmount)}),e.jsx("span",{children:a.type})]}),e.jsxs("div",{className:"space-y-2 text-sm text-slate-500",children:[e.jsxs("p",{children:[du(a.raisedAmount)," raised of ",du(a.goalAmount)]}),e.jsx("div",{className:"h-2 rounded-full bg-slate-100",children:e.jsx("div",{className:"h-full rounded-full bg-emerald-500 transition-all duration-500",style:{width:`${r}%`}})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsxs("span",{children:[a.donorCount||0," donors"]}),e.jsxs("span",{children:[r,"% funded"]})]})]})]}),e.jsx("div",{className:"mt-auto",children:e.jsx(Le,{to:`/dashboard/campaigns/${a.id}`,className:"mt-auto inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary-dark",children:"Donate Now"})})]})]})})},x5=()=>e.jsxs("div",{className:"flex h-full flex-col overflow-hidden rounded-3xl bg-white",children:[e.jsx("div",{className:"h-48 w-full animate-pulse bg-slate-200"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-3 p-6",children:[e.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded-full bg-slate-200"}),e.jsx("div",{className:"h-3 w-1/2 animate-pulse rounded-full bg-slate-200"}),e.jsx("div",{className:"h-3 w-full animate-pulse rounded-full bg-slate-200"}),e.jsx("div",{className:"mt-auto h-9 w-full animate-pulse rounded-full bg-slate-200"})]})]}),p5="https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=1600&q=80",Nl=a=>{const n=Number(a);return Number.isNaN(n)?"0":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(n)},h5=a=>{const n={scholarship:"bg-blue-100 text-blue-800",infrastructure:"bg-green-100 text-green-800",equipment:"bg-purple-100 text-purple-800",research:"bg-orange-100 text-orange-800",community:"bg-pink-100 text-pink-800",emergency:"bg-red-100 text-red-800",other:"bg-gray-100 text-gray-800"};return n[a]||n.other},f5=a=>({scholarship:"Scholarship",infrastructure:"Infrastructure",equipment:"Equipment",research:"Research",community:"Community",emergency:"Emergency",other:"Other"})[a]||"Other",b5=[500,1e3,2500,5e3,1e4,25e3],g5=()=>{const{campaignId:a}=Et(),n=je(),{user:r}=ye(),[o,c]=x.useState(!1),[u,p]=x.useState(!1),[b,y]=x.useState(""),[f,g]=x.useState(""),[h,v]=x.useState(""),[C,N]=x.useState(""),[k,j]=x.useState(""),[S,_]=x.useState(!1),[B,D]=x.useState(!1),{data:E,loading:P,error:z,donateToCampaign:$}=tm();console.log("CampaignDetail - campaignId:",a),console.log("CampaignDetail - data:",E),console.log("CampaignDetail - loading:",P),console.log("CampaignDetail - error:",z);const F=x.useMemo(()=>!E||!E.goalAmount?0:Math.min(100,Math.round(Number(E.raisedAmount??0)/Number(E.goalAmount)*100)),[E]),H=E?.coverImage||p5,U=()=>{console.log("Donate button clicked!"),c(!0),r&&(v(`${r.firstName||""} ${r.lastName||""}`.trim()),N(r.email||""))},T=async Y=>{if(Y.preventDefault(),console.log("Handle donate called!",{isSubmitting:B,donationAmount:b,customAmount:f,donorName:h,donorEmail:C}),B)return;const W=f||b;if(!h||!C||!W){n?.({title:"Missing Information",description:"Please fill in all required fields.",tone:"error"});return}const I=Number(W);if(Number.isNaN(I)||I<=0){n?.({title:"Invalid Amount",description:"Please enter a valid donation amount.",tone:"error"});return}D(!0);try{console.log("Calling donateToCampaign with:",{donorName:h.trim(),donorEmail:C.trim(),amount:I,message:k.trim(),anonymous:S}),await $({donorName:h.trim(),donorEmail:C.trim(),amount:I,message:k.trim(),anonymous:S}),p(!0),c(!1),y(""),g(""),v(""),N(""),j(""),_(!1),n?.({title:"Thank You for Your Support!",description:`Your donation of ${Nl(I)} has been processed successfully.`,tone:"success"})}catch(A){console.error("Donation error:",A),n?.({title:"Donation Failed",description:"Unable to process your donation. Please try again.",tone:"error"})}finally{D(!1)}},O=Y=>{y(Y),g("")};return P?e.jsx("div",{className:"min-h-screen bg-slate-50",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-64 bg-slate-200"}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsx("div",{className:"h-8 bg-slate-200 rounded"}),e.jsx("div",{className:"h-32 bg-slate-200 rounded"}),e.jsx("div",{className:"h-48 bg-slate-200 rounded"})]})})]})}):z||!E?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Campaign Not Found"}),e.jsx("p",{className:"mt-2 text-slate-500",children:"The campaign you're looking for doesn't exist or has been removed."}),e.jsx(Le,{to:"/dashboard/campaigns",className:"mt-4 inline-flex rounded-full bg-primary px-6 py-3 text-sm font-semibold text-white transition hover:bg-primary-dark",children:"Back to Campaigns"})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsxs("div",{className:"relative h-64 w-full overflow-hidden",children:[e.jsx("img",{src:H,alt:E.title,className:"h-full w-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white",children:[e.jsxs(Le,{to:"/dashboard/campaigns",className:"inline-flex items-center gap-2 rounded-full bg-white/20 px-4 py-2 text-sm font-semibold text-white transition hover:bg-white/30 mb-4",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:e.jsx("path",{d:"M15 18l-6-6 6-6"})}),"Back to Campaigns"]}),e.jsx("h1",{className:"text-3xl font-bold",children:E.title}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-medium ${h5(E.category)}`,children:f5(E.category)}),E.featured&&e.jsx("span",{className:"rounded-full bg-yellow-400 px-3 py-1 text-sm font-medium text-yellow-900",children:"Featured"})]})]})]}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Campaign Progress"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Raised"}),e.jsx("span",{className:"font-semibold text-slate-900",children:Nl(E.raisedAmount)})]}),e.jsx(Yb,{value:F}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Goal"}),e.jsx("span",{className:"font-semibold text-slate-900",children:Nl(E.goalAmount)})]}),e.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-slate-100",children:[e.jsx("span",{className:"text-slate-600",children:"Progress"}),e.jsxs("span",{className:"font-semibold text-emerald-600",children:[F,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Donors"}),e.jsx("span",{className:"font-semibold text-slate-900",children:E.donorCount||0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"About This Campaign"}),e.jsx("div",{className:"prose prose-slate max-w-none",children:e.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:E.description})}),E.tags&&E.tags.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:E.tags.map((Y,W)=>e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-700",children:Y},W))})]})]}),E.donations&&E.donations.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Recent Donors"}),e.jsx("div",{className:"space-y-3",children:E.donations.slice(-5).reverse().map((Y,W)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 last:border-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:Y.anonymous?"Anonymous":Y.donorName}),e.jsx("p",{className:"text-sm text-slate-500",children:new Date(Y.donatedAt).toLocaleDateString()})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-semibold text-emerald-600",children:Nl(Y.amount)})})]},W))})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6 sticky top-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Support This Campaign"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Your contribution helps make a real difference in our community."}),e.jsx("button",{onClick:U,className:"w-full rounded-full bg-primary px-6 py-3 text-sm font-semibold text-white transition hover:bg-primary/90 mb-4",children:"Donate Now"}),e.jsxs("div",{className:"space-y-2 text-sm text-slate-500",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{className:"font-semibold text-emerald-600",children:[F,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Donors"}),e.jsx("span",{className:"font-semibold",children:E.donorCount||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Goal"}),e.jsx("span",{className:"font-semibold",children:Nl(E.goalAmount)})]})]})]})})]})})}),o&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/70 px-4 py-12 backdrop-blur",role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"absolute inset-0",onClick:()=>c(!1),"aria-hidden":"true"}),e.jsxs("div",{className:"relative z-10 w-full max-w-md overflow-hidden rounded-2xl bg-white shadow-[0_40px_80px_-40px_rgba(15,23,42,0.6)]",children:[e.jsxs("header",{className:"flex items-center justify-between border-b border-slate-100 px-6 py-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold uppercase tracking-widest text-primary",children:"Make a Donation"}),e.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Support ",E.title]})]}),e.jsx("button",{type:"button",onClick:()=>c(!1),className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:border-primary hover:text-primary","aria-label":"Close",children:e.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{onSubmit:T,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Choose Amount"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:b5.map(Y=>e.jsx("button",{type:"button",onClick:()=>O(Y),className:`rounded-lg border px-3 py-2 text-sm font-medium transition ${b===Y&&!f?"border-primary bg-primary text-white":"border-slate-200 text-slate-700 hover:border-primary hover:text-primary"}`,children:Nl(Y)},Y))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Custom Amount ()"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-sm font-semibold text-slate-500",children:""}),e.jsx("input",{type:"number",min:"1",value:f,onChange:Y=>{g(Y.target.value),y("")},placeholder:"Enter amount",className:"w-full rounded-lg border border-slate-200 pl-8 pr-4 py-3 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),e.jsx(k0,{label:"Your Name",value:h,onChange:Y=>v(Y.target.value),placeholder:"John Doe",required:!0}),e.jsx(k0,{label:"Your Email",type:"email",value:C,onChange:Y=>N(Y.target.value),placeholder:"john@example.com",required:!0}),e.jsx(y5,{label:"Message (Optional)",value:k,onChange:Y=>j(Y.target.value),placeholder:"Add a message of support...",rows:3}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"anonymous",checked:S,onChange:Y=>_(Y.target.checked),className:"rounded border-slate-300 text-primary focus:ring-primary"}),e.jsx("label",{htmlFor:"anonymous",className:"ml-2 text-sm text-slate-700",children:"Donate anonymously"})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-100",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:B,className:"flex-1 rounded-full bg-primary px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:bg-primary/50",children:B?"Processing...":"Donate"})]})]})]})]})]})},k0=({label:a,type:n="text",value:r,onChange:o,placeholder:c,required:u})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:a}),e.jsx("input",{type:n,value:r,onChange:o,placeholder:c,required:u,className:"w-full rounded-xl border border-slate-200 px-4 py-3 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),y5=({label:a,value:n,onChange:r,placeholder:o,rows:c=4,required:u})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:a}),e.jsx("textarea",{value:n,onChange:r,placeholder:o,rows:c,required:u,className:"w-full rounded-xl border border-slate-200 px-4 py-3 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 resize-none"})]}),Ai=({label:a,checked:n,onChange:r})=>e.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-slate-700",children:[e.jsx("span",{children:a}),e.jsx("button",{type:"button",role:"switch","aria-checked":n,onClick:()=>r?.(!n),onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),r?.(!n))},className:`relative h-6 w-12 rounded-full transition ${n?"bg-primary":"bg-slate-300"}`,children:e.jsx("span",{className:`absolute left-1 top-1 h-4 w-4 rounded-full bg-white transition ${n?"translate-x-6":"translate-x-0"}`})})]}),v5=({onDelete:a})=>{const[n,r]=x.useState(!1),[o,c]=x.useState(""),u=o==="DELETE",p=()=>{u&&(a?.(),r(!1),c(""))};return e.jsxs("div",{className:"rounded-2xl border border-red-200 bg-white p-6 shadow-sm",children:[e.jsx("h2",{className:"text-sm font-semibold uppercase tracking-widest text-red-600",children:"Danger Zone"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Permanently delete your account and all associated data."}),n?e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Type DELETE to confirm."}),e.jsx("input",{value:o,onChange:b=>c(b.target.value),className:"w-full rounded-lg border border-slate-200 px-4 py-2 text-sm"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{r(!1),c("")},className:"rounded-full border border-slate-200 px-5 py-2 text-sm",children:"Cancel"}),e.jsx("button",{type:"button",disabled:!u,onClick:p,className:`rounded-full px-5 py-2 text-sm font-semibold text-white ${u?"bg-red-600 hover:bg-red-700":"bg-red-300"}`,children:"Confirm Delete"})]})]}):e.jsx("button",{type:"button",onClick:()=>r(!0),className:"mt-4 rounded-full border border-red-200 px-5 py-2 text-sm font-semibold text-red-600 hover:bg-red-50",children:"Delete Account"})]})},j5=()=>{const[a,n]=x.useState({publicProfile:!0,allowMessages:!0,eventEmails:!0,jobAlerts:!1}),[r,o]=x.useState("contact@example.com"),[c,u]=x.useState({current:"",next:"",confirm:""}),[p,b]=x.useState(""),y=je(),f=(N,k)=>{n(j=>({...j,[N]:k}))},g=()=>{y({type:"info",message:"Account deletion requested"})},h=N=>{N.preventDefault(),y({type:"success",message:`Primary email updated to ${r}`})},v=N=>{if(N.preventDefault(),c.next!==c.confirm){y({type:"error",message:"New passwords do not match"});return}y({type:"success",message:"Password updated successfully"}),u({current:"",next:"",confirm:""})},C=N=>{if(N.preventDefault(),!p){y({type:"error",message:"Enter recovery email"});return}y({type:"info",message:`Password reset link sent to ${p}`}),b("")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Account Settings"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Manage your profile visibility, notifications, and security."})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm",children:[e.jsx("h2",{className:"text-sm font-semibold uppercase tracking-widest text-slate-500",children:"Profile Visibility"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsx(Ai,{label:"Show my profile to public",checked:a.publicProfile,onChange:N=>f("publicProfile",N)}),e.jsx(Ai,{label:"Allow others to message me",checked:a.allowMessages,onChange:N=>f("allowMessages",N)})]})]}),e.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm",children:[e.jsx("h2",{className:"text-sm font-semibold uppercase tracking-widest text-slate-500",children:"Notifications"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsx(Ai,{label:"Email notifications for new events",checked:a.eventEmails,onChange:N=>f("eventEmails",N)}),e.jsx(Ai,{label:"Job alerts",checked:a.jobAlerts,onChange:N=>f("jobAlerts",N)})]})]}),e.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm",children:[e.jsx("h2",{className:"text-sm font-semibold uppercase tracking-widest text-slate-500",children:"Account Security"}),e.jsxs("div",{className:"mt-4 space-y-6",children:[e.jsxs("form",{onSubmit:h,className:"space-y-3",children:[e.jsx(Ie,{label:"Primary Email",type:"email",value:r,onChange:N=>o(N.target.value),required:!0}),e.jsx("button",{className:"rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white hover:bg-primary-dark",children:"Update Email"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-3",children:[e.jsx(Ie,{label:"Current Password",type:"password",value:c.current,onChange:N=>u(k=>({...k,current:N.target.value})),required:!0}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsx(Ie,{label:"New Password",type:"password",value:c.next,onChange:N=>u(k=>({...k,next:N.target.value})),required:!0}),e.jsx(Ie,{label:"Confirm New Password",type:"password",value:c.confirm,onChange:N=>u(k=>({...k,confirm:N.target.value})),required:!0})]}),e.jsx("button",{className:"rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white hover:bg-primary-dark",children:"Change Password"})]}),e.jsxs("form",{onSubmit:C,className:"space-y-3",children:[e.jsx(Ie,{label:"Forgot Password",type:"email",placeholder:"Enter recovery email",value:p,onChange:N=>b(N.target.value),required:!0}),e.jsx("button",{className:"rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600 hover:border-primary hover:text-primary",children:"Send Reset Link"})]})]})]}),e.jsx(v5,{onDelete:g})]})]})},On=["https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1489515217757-5fd1be406fef?auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1502720705749-3c92562f09c8?auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&w=800&q=80"],N5=()=>{const[a,n]=x.useState(null),r=a===null?null:On[a],o=()=>{n(u=>u===null?u:(u+1)%On.length)},c=()=>{n(u=>u===null?u:(u-1+On.length)%On.length)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Gallery"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Highlights from recent alumni and student events."})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:On.map((u,p)=>e.jsxs("div",{className:"group relative overflow-hidden rounded-3xl",children:[e.jsx("img",{src:u,alt:`Gallery item ${p+1}`,className:"h-56 w-full cursor-pointer object-cover transition duration-300 group-hover:scale-105",onClick:()=>n(p)}),e.jsx("a",{href:u,download:!0,onClick:b=>b.stopPropagation(),className:"absolute right-3 top-3 inline-flex items-center justify-center rounded-full bg-white/90 p-2 text-slate-600 shadow-sm backdrop-blur transition hover:text-primary","aria-label":"Download image",children:e.jsx(A0,{className:"h-4 w-4"})})]},u))}),r&&e.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-900/65 backdrop-blur",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":!0,style:{background:"radial-gradient(circle at center, rgba(255,255,255,0.18) 0%, rgba(15,23,42,0.78) 60%, rgba(15,23,42,0.92) 100%)"}}),e.jsx("button",{type:"button",className:"absolute right-8 top-8 rounded-full border border-slate-200 p-2 text-slate-100 transition hover:border-primary hover:text-primary",onClick:()=>n(null),"aria-label":"Close preview",children:e.jsx(w5,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:c,className:"absolute left-10 top-1/2 -translate-y-1/2 rounded-full bg-white/80 p-3 text-slate-700 shadow-lg transition hover:bg-white hover:text-primary","aria-label":"Previous image",children:e.jsx(S5,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative max-h-[85vh] max-w-5xl overflow-hidden rounded-3xl border border-white/30 bg-white/10 p-3 shadow-2xl backdrop-blur-lg",children:[e.jsx("a",{href:r,download:!0,className:"absolute right-4 top-4 inline-flex items-center justify-center rounded-full bg-white/90 p-2 text-slate-600 shadow-md transition hover:bg-white hover:text-primary","aria-label":"Download image",children:e.jsx(A0,{className:"h-4 w-4"})}),e.jsx("img",{src:r,alt:"Selected gallery item",className:"max-h-[80vh] w-full rounded-2xl object-cover"})]}),e.jsx("button",{type:"button",onClick:o,className:"absolute right-10 top-1/2 -translate-y-1/2 rounded-full bg-white/80 p-3 text-slate-700 shadow-lg transition hover:bg-white hover:text-primary","aria-label":"Next image",children:e.jsx(C5,{className:"h-5 w-5"})})]})]})},A0=a=>e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:a.className,children:[e.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),w5=a=>e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:a.className,children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),S5=a=>e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:a.className,children:e.jsx("polyline",{points:"15 18 9 12 15 6"})}),C5=a=>e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:a.className,children:e.jsx("polyline",{points:"9 18 15 12 9 6"})}),Bn={students:"Students",alumni:"Alumni",faculty:"Faculty",coordinators:"Coordinators"},uu={students:{departments:["Computer Science","Engineering","Business","Medicine","Arts","Science"],currentYears:["1st Year","2nd Year","3rd Year","4th Year","Final Year"]},alumni:{departments:["Computer Science","Engineering","Business","Medicine","Arts","Science"],passoutYears:["2020","2021","2022","2023","2024"]},faculty:{departments:["Computer Science","Engineering","Business","Medicine","Arts","Science"]},coordinators:{departments:["Computer Science","Engineering","Business","Medicine","Arts","Science"]}},ro=({role:a})=>{vt();const n=Te(),[r,o]=x.useState(""),[c,u]=x.useState(!1),[p,b]=x.useState({department:"",currentYear:"",passoutYear:""}),{loading:y,members:f,error:g}=Vw(a),h=x.useMemo(()=>f?f.filter(j=>{if(!(!r||j.name?.toLowerCase().includes(r.toLowerCase()))||p.department&&j.department?.toLowerCase()!==p.department.toLowerCase())return!1;if(a==="students"&&p.currentYear){const _=j.classYear||j.currentYear;if(!_||!_.toLowerCase().includes(p.currentYear.toLowerCase()))return!1}if(a==="alumni"&&p.passoutYear){const _=j.graduationYear||j.passoutYear;if(!_||_.toString()!==p.passoutYear)return!1}return!0}):[],[f,r,p,a]),v=(j,S)=>{b(_=>({..._,[j]:S}))},C=()=>{b({department:"",currentYear:"",passoutYear:""})},N=j=>{n(`/dashboard/directory/profile/${j.id}`)},k=Object.values(p).filter(j=>j!=="").length;return e.jsx("div",{className:"min-h-screen bg-slate-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:[Bn[a]," Directory"]}),e.jsxs("p",{className:"text-slate-600",children:["Connect with ",Bn[a].toLowerCase()," from our community"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",value:r,onChange:j=>o(j.target.value),placeholder:`Search ${Bn[a].toLowerCase()} by name...`,className:"block w-full pl-12 pr-4 py-3 text-lg border border-slate-300 rounded-lg leading-5 bg-white placeholder-slate-500 focus:outline-none focus:placeholder-slate-400 focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),e.jsxs("button",{onClick:()=>u(!c),className:`px-6 py-3 rounded-lg border font-medium transition-all duration-200 flex items-center gap-2 whitespace-nowrap ${c||k>0?"border-primary bg-primary text-white":"border-slate-300 bg-white text-slate-700 hover:border-primary hover:text-primary"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filters",k>0&&e.jsx("span",{className:"bg-white/20 text-white text-xs px-2 py-1 rounded-full",children:k})]})]})}),c&&e.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Department"}),e.jsxs("select",{value:p.department,onChange:j=>v("department",j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Departments"}),uu[a].departments.map(j=>e.jsx("option",{value:j,children:j},j))]})]}),a==="students"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Current Year"}),e.jsxs("select",{value:p.currentYear,onChange:j=>v("currentYear",j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Years"}),uu.students.currentYears.map(j=>e.jsx("option",{value:j,children:j},j))]})]}),a==="alumni"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Passout Year"}),e.jsxs("select",{value:p.passoutYear,onChange:j=>v("passoutYear",j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Years"}),uu.alumni.passoutYears.map(j=>e.jsx("option",{value:j,children:j},j))]})]}),a==="faculty"&&e.jsx("div",{className:"text-sm text-slate-500 italic flex items-center",children:"Faculty profiles can be filtered by department only."}),a==="coordinators"&&e.jsx("div",{className:"text-sm text-slate-500 italic flex items-center",children:"Coordinator profiles can be filtered by department only."})]}),k>0&&e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:C,className:"px-4 py-2 text-sm font-medium text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Clear Filters"})})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-sm text-slate-600",children:y?"Loading...":e.jsxs(e.Fragment,{children:["Showing ",e.jsx("span",{className:"font-semibold",children:h.length})," of"," ",e.jsx("span",{className:"font-semibold",children:f?.length||0})," ",Bn[a].toLowerCase()]})})}),y?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):g?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-slate-500",children:"Error loading directory. Please try again."})}):h.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-slate-500",children:r||k>0?"No profiles match your search criteria.":`No ${Bn[a].toLowerCase()} found.`})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4",children:h.map(j=>e.jsx(Hw,{person:j,onOpen:N},j.id))})]})})},k5=()=>e.jsx(ro,{role:"students"}),A5=()=>e.jsx(ro,{role:"alumni"}),E5=()=>e.jsx(ro,{role:"faculty"}),M5=()=>e.jsx(ro,{role:"coordinators"}),Hb=(a,{autoFetch:n=!0}={})=>{const r=je(),{role:o}=ye(),[c,u]=x.useState(null),[p,b]=x.useState(!!(n&&a)),[y,f]=x.useState(null),[g,h]=x.useState(!1),v=x.useMemo(()=>a?String(a):"",[a]);x.useMemo(()=>String(o??"").trim().toLowerCase()==="student",[o]);const C=x.useCallback(async()=>{if(!v||!o)return u(null),b(!1),null;b(!0),f(null);try{const k=await ce(`/api/opportunities/${v}/referrals/me`),j=k?.data??k;return u(j),j}catch(k){if(k?.status===404)return u(null),null;throw console.error("useOpportunityReferral fetch error:",k),f(k),r?.({title:"Unable to load referral",description:k.message??"Please try again later.",tone:"error"}),k}finally{b(!1)}},[v]);x.useEffect(()=>{if(!n||!v){u(null),b(!1);return}C()},[n,v]);const N=x.useCallback(async({proposal:k,resumeFile:j})=>{if(!v)throw new Error("An opportunity must be selected before submitting a referral.");const S=String(k??"").trim();if(!S){const _=new Error("Please describe why you are requesting the referral.");throw _.code="VALIDATION_ERROR",_}h(!0),f(null);try{const _=new FormData;_.append("proposal",S),j instanceof File&&_.append("resume",j);const B=await _e(`/api/opportunities/${v}/referrals`,_),D=B?.data??B;return u(D),r?.({title:"Referral submitted",description:"Your referral request has been shared with the poster.",tone:"success"}),D}catch(_){console.error("useOpportunityReferral submit error:",_),f(_);const B=_?.message??"Please try again later.";throw r?.({title:"Unable to submit referral",description:B,tone:"error"}),_}finally{h(!1)}},[v]);return{referral:c,loading:p,error:y,submitting:g,fetchReferral:C,submitReferral:N,setReferral:u}},E0=a=>{if(!a)return null;try{const n=new Date(a);return Number.isNaN(n.getTime())?null:n.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}catch{return null}},Fb=({isOpen:a,onClose:n,opportunity:r,initialReferral:o=null,onSubmitted:c})=>{const u=r?.id??r?._id??null,p=r?.title??"Request referral",{referral:b,loading:y,submitting:f,setReferral:g,submitReferral:h}=Hb(u,{autoFetch:!!(a&&u&&!o)}),v=x.useMemo(()=>b||o||null,[b,o]),[C,N]=x.useState(""),[k,j]=x.useState(null),[S,_]=x.useState(""),[B,D]=x.useState("");x.useEffect(()=>{if(!a){N(""),j(null),_(""),D("");return}o&&g(o)},[a,o,g]),x.useEffect(()=>{a&&(v?(N(v.proposal??""),_(v.resumeFileName??"")):(N(""),_("")),j(null))},[a,v]);const E=$=>{const F=$.target.files?.[0];j(F||null),_(F?.name||v?.resumeFileName||"")},P=async $=>{if($.preventDefault(),D(""),!C.trim()){D("Please describe why you are requesting this referral.");return}try{const F=await h({proposal:C,resumeFile:k});F&&c?.(F),n?.()}catch(F){F?.code==="VALIDATION_ERROR"&&D(F.message)}},z=()=>{f||n?.()};return e.jsx(no,{isOpen:a,onClose:z,title:`Request referral  ${p}`,width:"max-w-2xl",children:u?e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-100 bg-slate-50/70 px-4 py-3 text-sm text-slate-600",children:[e.jsxs("header",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-primary",children:"Opportunity"}),e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:p}),r?.company?e.jsx("p",{className:"text-xs text-slate-500",children:r.company}):null]}),v?e.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${v.status==="accepted"?"bg-emerald-100 text-emerald-700":v.status==="reviewed"?"bg-blue-100 text-blue-700":"bg-primary/10 text-primary"}`,children:v.status==="submitted"?"Submitted":v.status}):null]}),v?.submittedAt?e.jsxs("p",{className:"text-xs text-slate-500",children:["Submitted ",E0(v.submittedAt)," ",v.updatedAt&&v.updatedAt!==v.submittedAt?`(updated ${E0(v.updatedAt)})`:""]}):e.jsx("p",{className:"text-xs text-slate-500",children:"Craft a short note explaining why youre a great fit."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-semibold text-slate-700",htmlFor:"referral-proposal",children:["Proposal",e.jsx("span",{className:"ml-2 text-xs font-semibold text-primary",children:"(Required)"})]}),e.jsx("textarea",{id:"referral-proposal",name:"proposal",value:C,onChange:$=>N($.target.value),rows:6,className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm text-slate-700 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/10",placeholder:"Share a brief pitch or context for your referral request.",disabled:y||f,required:!0}),B?e.jsx("p",{className:"text-xs font-semibold text-rose-500",children:B}):null]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700",htmlFor:"referral-resume",children:"Resume or supporting document"}),e.jsx("p",{className:"text-xs text-slate-500",children:"PDF, DOC, PPT, XLS, or TXT up to 25 MB."})]}),v?.resumeUrl?e.jsxs("a",{href:v.resumeUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs font-semibold text-primary hover:text-primary/80",children:["View uploaded rsum",e.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-6"}),e.jsx("path",{d:"M15 10l-3-3-3 3"}),e.jsx("path",{d:"M12 7v12"})]})]}):null]}),e.jsx("input",{id:"referral-resume",name:"resume",type:"file",accept:".pdf,.doc,.docx,.txt,.rtf,.ppt,.pptx,.xls,.xlsx",onChange:E,disabled:y||f,className:"block w-full cursor-pointer rounded-2xl border border-dashed border-slate-300 bg-slate-50 px-4 py-3 text-sm text-slate-600 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/10"}),S?e.jsxs("p",{className:"text-xs text-slate-500",children:["Selected: ",S]}):null]}),e.jsxs("div",{className:"flex items-center justify-between gap-4 border-t border-slate-100 pt-4",children:[e.jsx("button",{type:"button",onClick:z,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary",disabled:f,children:"Cancel"}),e.jsxs("div",{className:"flex items-center gap-3",children:[v?e.jsx("span",{className:"text-xs text-slate-500",children:"Existing request will be updated."}):null,e.jsx("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-60",disabled:f||y,children:f?"Sending":v?"Update request":"Send request"})]})]})]}):e.jsx("div",{className:"space-y-2 text-sm text-slate-500",children:e.jsx("p",{children:"Select an opportunity to request a referral."})})})},M0={submitted:{label:"Referral submitted",className:"bg-primary/10 text-primary"},reviewed:{label:"Referral reviewed",className:"bg-blue-100 text-blue-700"},accepted:{label:"Referral accepted",className:"bg-emerald-100 text-emerald-700"},declined:{label:"Referral declined",className:"bg-rose-100 text-rose-700"}},Vb=({referral:a})=>{if(!a)return null;const n=M0[a.status]??M0.submitted;return e.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${n.className}`,children:[e.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),n.label]})},D5=[{label:"Jobs",value:"jobs"},{label:"Internships",value:"internships"}],L5=a=>{if(!a)return null;const n=new Date;n.setHours(0,0,0,0);const r=new Date(a);if(Number.isNaN(r.getTime()))return null;r.setHours(0,0,0,0);const o=Math.floor((r-n)/(1e3*60*60*24));if(o<0)return{label:`Expired${r?`  ${r.toLocaleDateString()}`:""}`,tone:"expired"};if(o===0)return{label:"Ends today",tone:"today"};const c=o===1?"1 day left":`${o} days left`,u=o<=7?"soon":o<=30?"upcoming":"default";return{label:c,tone:u}},D0=a=>["full-time","part-time","contract"].includes(a),Ib=a=>a?a.opportunity??a:null,R5=a=>{const n=Ib(a);return n?n.id??n._id??"":""},T5=a=>{if(!a)return null;const n=new Date,r=new Date(a),o=n-r,c=Math.floor(o/(1e3*60*60*24));return c===0?"Today":c===1?"Yesterday":c<7?`${c} days ago`:c<30?`${Math.floor(c/7)} weeks ago`:`${Math.floor(c/30)} months ago`},_5=(a,n=160)=>{if(!a)return"";const r=a.trim();return r.length<=n?r:`${r.slice(0,n).trim()}...`},O5=(a,n)=>{const r=L5(a);if(!r)return null;const o={expired:"bg-rose-100 text-rose-700",today:"bg-amber-100 text-amber-700",soon:"bg-amber-100 text-amber-700",upcoming:"bg-emerald-100 text-emerald-700",default:"bg-emerald-100 text-emerald-700"},c=o[r.tone]??o.default;return e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-semibold ${c}`,children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.label]}),n?e.jsx("span",{className:"text-xs text-slate-400 mt-1",children:T5(n)}):null]})},L0=(a={})=>{if(!a)return{id:"",title:"",company:"",type:"opportunity",location:"",description:"",skills:[],contactEmail:"",deadline:null,isRemote:!1,postedAt:null,postedBy:"",postedById:""};const n=a.id??a._id??"",r=typeof a.type=="string"?a.type.toLowerCase():"opportunity",c=(typeof a.location=="string"?a.location.trim():"")||(a.isRemote?"Remote":"");return{id:n,title:a.title??"",company:a.company??"",type:r,location:c,description:a.description??"",skills:Array.isArray(a.skills)?a.skills:[],contactEmail:a.contactEmail??"",deadline:a.deadline??null,isRemote:!!a.isRemote,postedAt:a.postedAt??a.createdAt??null,postedBy:a.postedBy??a.createdByName??"",postedById:a.postedById??a.createdBy??a.userId??""}},mu=({filter:a})=>{const{user:n,role:r}=ye(),o=Te(),c=r?.toLowerCase()??null,u=c==="alumni"||c==="faculty",p=n?.id||n?._id||n?.profile?._id||n?.profile?.id,{items:b,loading:y,error:f,refresh:g}=Vn(),{referrals:h,loading:v,refresh:C,referralMap:N}=qb(),[k,j]=x.useState("jobs"),[S,_]=x.useState(""),[B,D]=x.useState("all"),[E,P]=x.useState({isOpen:!1,opportunity:null,referral:null}),[z,$]=x.useState({}),F=x.useMemo(()=>({...N,...z}),[N,z]),H=x.useMemo(()=>b.map(M=>L0(M)),[b]);x.useEffect(()=>{!N||Object.keys(N).length===0||$(M=>{if(!M||Object.keys(M).length===0)return M;let Q=!1;const se={...M};return Object.keys(N).forEach(V=>{se[V]&&(delete se[V],Q=!0)}),Q?se:M})},[N]);const U=x.useMemo(()=>H.filter(M=>{const Q=M.type==="full-time"||M.type==="part-time"||M.type==="contract",se=M.postedById!==p;return Q&&se}),[H,p]),T=x.useMemo(()=>H.filter(M=>{const Q=M.type==="internship"||M.type==="intern"||M.type==="internship",se=M.postedById!==p;return Q&&se}),[H,p]),O=x.useMemo(()=>Array.isArray(h)?h.map(M=>{const Q=L0(M.opportunity);return{id:M.id,opportunity:Q,status:M.status,submittedAt:M.submittedAt,updatedAt:M.updatedAt,resumeUrl:M.resumeUrl,proposal:M.proposal}}).filter(M=>!!M.opportunity?.id):[],[h]);x.useEffect(()=>{a==="internship"?j("internships"):(a==="full-time"||a==="part-time")&&j("jobs")},[a]);const Y=x.useMemo(()=>{const M=new Set;return H.forEach(Q=>{Q.location&&M.add(Q.location)}),O.forEach(Q=>{const se=Q.opportunity?.location;se&&M.add(se)}),["all",...Array.from(M)]},[H,O]),W=x.useMemo(()=>{const M=H.filter(se=>{const V=se.type==="full-time"||se.type==="part-time"||se.type==="contract",re=se.postedById!==p;return V&&re}).length,Q=H.filter(se=>{const V=se.type==="internship"||se.type==="intern"||se.type==="internship",re=se.postedById!==p;return V&&re}).length;return{jobs:M,internships:Q,applications:O.length}},[H,O,p]),I=x.useMemo(()=>{switch(k){case"internships":return T;case"jobs":default:return U}},[k,U,T]),A=x.useMemo(()=>I.filter(M=>{const Q=M.opportunity??M,se=S.trim().toLowerCase(),V=se?[Q.title,Q.company,Q.location,...Q.skills??[]].join(" ").toLowerCase().includes(se):!0,re=B==="all"?!0:Q.location===B;return V&&re}),[I,B,S]),R=M=>{const Q=N[M.id];P({isOpen:!0,opportunity:M,referral:Q??null})},q=()=>{P({isOpen:!1,opportunity:null,referral:null})},J=M=>{M?.opportunity&&C(),g?.()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5",children:[e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("header",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-primary via-primary-dark to-primary/90 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10 flex flex-wrap items-center justify-between gap-6",children:[e.jsxs("div",{className:"max-w-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A9.001 9.001 0 0012 3a9.001 9.001 0 00-9 9.255V15H3v6h6v-6h4.5V21h6v-6h3v-1.745z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium uppercase tracking-widest text-white/80",children:"Opportunity Hub"}),e.jsx("h1",{className:"text-4xl font-bold text-white",children:"Career Opportunities"})]})]}),e.jsx("p",{className:"text-lg text-white/90 leading-relaxed",children:"Discover curated roles shared by our alumni network and faculty members. Find your next career opportunity with trusted connections."}),e.jsxs("div",{className:"flex items-center gap-6 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400"}),e.jsxs("span",{className:"text-sm text-white/80",children:[W.jobs," Job Listings"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),e.jsxs("span",{className:"text-sm text-white/80",children:[W.internships," Internships"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),e.jsxs("span",{className:"text-sm text-white/80",children:[W.applications," My Applications"]})]})]})]}),u&&e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{type:"button",onClick:()=>o("/dashboard/opportunities/post"),className:"group relative overflow-hidden rounded-full bg-white px-8 py-4 text-sm font-bold text-primary shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-105",children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Post Opportunity"]})}),e.jsx("p",{className:"text-xs text-white/70 text-center",children:"Share opportunities with students"})]})]})]}),f&&e.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-3xl border border-rose-200 bg-rose-50 px-6 py-4 text-sm text-rose-600 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-rose-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{children:f.message??"Unable to load opportunities right now."})]}),e.jsx("button",{type:"button",onClick:g,className:"rounded-full border border-rose-400 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-rose-600 transition hover:border-rose-500 hover:bg-rose-100",children:"Retry"})]}),e.jsx("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx("div",{className:"flex gap-2 rounded-full bg-slate-100 p-1",children:D5.map(M=>{const Q=k===M.value,se=W[M.value];return e.jsxs("button",{type:"button",onClick:()=>j(M.value),className:`inline-flex items-center gap-2 rounded-full px-5 py-2 text-sm font-semibold transition-all duration-200 ${Q?"bg-white text-primary shadow-md":"text-slate-600 hover:text-primary hover:bg-white/50"}`,children:[e.jsx("span",{children:M.label}),e.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs ${Q?"bg-primary/10 text-primary":"bg-slate-200 text-slate-500"}`,children:se??0})]},M.value)})}),e.jsxs("div",{className:"ml-auto flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"search",value:S,onChange:M=>_(M.target.value),placeholder:k==="applications"?"Search applications...":"Search opportunities...",className:"w-72 rounded-full border border-slate-200 px-4 py-2.5 pl-10 text-sm text-slate-600 placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"}),e.jsx("span",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),e.jsx("select",{value:B,onChange:M=>D(M.target.value),className:"rounded-full border border-slate-200 px-4 py-2.5 text-sm text-slate-600 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:Y.map(M=>e.jsx("option",{value:M,children:M==="all"?"All Locations":M},M))})]})]})}),e.jsx("section",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-3",children:y||v?e.jsx("div",{className:"rounded-3xl border border-slate-100 bg-white p-10 text-center text-sm text-slate-400",children:"Loading opportunities..."}):A.length?A.map((M,Q)=>{const se=Ib(M);if(!se)return null;const V=R5(M),re=F[V];return e.jsxs(Le,{to:`/dashboard/opportunities/${V}`,className:"group rounded-3xl bg-white p-6 shadow-sm transition hover:-translate-y-1 hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${se.type==="internship"?"bg-amber-100 text-amber-700":D0(se.type)?"bg-primary/10 text-primary":"bg-slate-100 text-slate-700"}`,children:k==="applications"?se.type==="internship"?"Internship":D0(se.type)?"Job":se.type:se.type==="internship"?"Internship":se.type==="full-time"?"Full-time":se.type==="part-time"?"Part-time":se.type}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[O5(se.deadline,se.postedAt),(c==="student"||c)&&re?e.jsx(Vb,{referral:re}):null]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:se.title}),e.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:se.company}),e.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-400",children:se.location??"Flexible"})]}),(se.skills??[]).length>0&&e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:se.skills.map((oe,me)=>e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600",children:oe},`${oe}-${me}`))})}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-sm text-slate-600",children:_5(se.description)})}),se.postedBy&&e.jsxs("div",{className:"flex items-center gap-2 rounded-2xl bg-slate-50 px-4 py-3 text-sm text-slate-500 mb-4",children:[e.jsx("svg",{className:"h-3.5 w-3.5 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("span",{className:"font-semibold text-slate-700",children:"Posted by:"}),e.jsx("span",{className:"font-semibold text-primary",children:se.postedBy})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[(c==="student"||c)&&e.jsx("button",{type:"button",onClick:oe=>{oe.preventDefault(),R(se)},className:"rounded-full bg-primary px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary/90",children:re?"Update Referral":"Request Referral"}),e.jsxs("span",{className:"ml-auto inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-widest text-primary opacity-0 transition group-hover:opacity-100",children:["View Details",e.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M9 18l6-6-6-6"})})]})]})]},`${V}-${Q}`)}):e.jsxs("div",{className:"rounded-3xl border border-dashed border-slate-200 bg-white p-10 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A9.001 9.001 0 0012 3a9.001 9.001 0 00-9 9.255V15H3v6h6v-6h4.5V21h6v-6h3v-1.745z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No opportunities match your filters"}),e.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Try adjusting your search, selecting a different location, or clearing the filters."}),e.jsx("button",{onClick:()=>{_(""),D("all")},className:"rounded-full bg-primary px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary-dark",children:"Clear Filters"})]})})]})}),e.jsx(Fb,{isOpen:E.isOpen,opportunity:E.opportunity,initialReferral:E.referral,onClose:q,onSubmitted:J})]})},B5=[{label:"Full-time",value:"full-time"},{label:"Internship",value:"internship"},{label:"Part-time",value:"part-time"}],z5=()=>{const a=Te(),{user:n}=ye(),{createOpportunity:r}=Vn(),[o,c]=x.useState({title:"",company:"",type:"full-time",location:"",isRemote:!1,description:"",skills:"",contactEmail:n?.email||"",deadline:""}),[u,p]=x.useState(!1),b=h=>v=>{c(C=>({...C,[h]:v.target.value}))},y=h=>v=>{c(C=>({...C,[h]:v.target.checked}))},f=async h=>{if(h.preventDefault(),!u){p(!0);try{await r({title:o.title.trim(),company:o.company.trim(),type:o.type,location:o.isRemote?"Remote":o.location.trim(),description:o.description.trim(),skills:o.skills,contactEmail:o.contactEmail.trim(),deadline:o.deadline,postedBy:`${n?.firstName} ${n?.lastName}`||"Anonymous"}),a("/dashboard/opportunities")}catch{}finally{p(!1)}}},g=()=>{a("/dashboard/opportunities")};return e.jsx("div",{className:"min-h-screen bg-slate-50",children:e.jsx("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("header",{children:[e.jsxs("button",{type:"button",onClick:g,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary mb-4",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:e.jsx("path",{d:"M15 18l-6-6 6-6"})}),"Back to Opportunities"]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-primary",children:"Post Opportunity"}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Share a role with the community"}),e.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Help students and alumni find their next opportunity by posting a job or internship."})]})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-8",children:e.jsxs("form",{onSubmit:f,className:"space-y-8",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx(wl,{label:"Role Title",value:o.title,onChange:b("title"),placeholder:"Senior Product Designer",required:!0}),e.jsx(wl,{label:"Company",value:o.company,onChange:b("company"),placeholder:"Figma",required:!0}),e.jsx(P5,{label:"Opportunity Type",value:o.type,onChange:b("type"),options:B5}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Location"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.isRemote,onChange:y("isRemote"),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Remote"})]}),!o.isRemote&&e.jsx(wl,{label:"",value:o.location,onChange:b("location"),placeholder:"New York, USA",required:!o.isRemote})]})]})]}),e.jsx(U5,{label:"Description",value:o.description,onChange:b("description"),placeholder:"Outline responsibilities, requirements, and why this role is impactful.",rows:6,required:!0}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx(wl,{label:"Skills",value:o.skills,onChange:b("skills"),placeholder:"React, Design Systems, Leadership"}),e.jsx(wl,{label:"Application Deadline",type:"date",value:o.deadline,onChange:b("deadline"),required:!0}),e.jsx(wl,{label:"Contact Email",type:"email",value:o.contactEmail,onChange:b("contactEmail"),placeholder:"careers@company.com",required:!0})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-4 pt-6 border-t border-slate-100",children:[e.jsx("button",{type:"button",onClick:g,className:"rounded-full border border-slate-200 px-6 py-3 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-full bg-primary px-6 py-3 text-sm font-semibold text-white shadow-lg transition hover:bg-primary-dark hover:shadow-xl disabled:cursor-not-allowed disabled:bg-primary/50",disabled:u,children:u?"Publishing...":"Publish Opportunity"})]})]})})]})})})},wl=({label:a,type:n="text",value:r,onChange:o,placeholder:c,required:u})=>e.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:[a,e.jsx("input",{type:n,value:r,onChange:o,placeholder:c,required:u,className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40"})]}),U5=({label:a,value:n,onChange:r,placeholder:o,rows:c=3,required:u})=>e.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:[a,e.jsx("textarea",{value:n,onChange:r,placeholder:o,rows:c,required:u,className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40"})]}),P5=({label:a,value:n,onChange:r,options:o})=>e.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:[a,e.jsx("select",{value:n,onChange:r,className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/40",children:o.map(c=>e.jsx("option",{value:c.value,children:c.label},c.value))})]}),xu=a=>{if(!a)return null;const n=new Date,o=new Date(a)-n;return Math.ceil(o/(1e3*60*60*24))},pu=a=>{if(!a)return null;const n=new Date,r=new Date(a),o=n-r,c=Math.floor(o/(1e3*60*60*24));return c===0?"Today":c===1?"Yesterday":c<7?`${c} days ago`:c<30?`${Math.floor(c/7)} weeks ago`:`${Math.floor(c/30)} months ago`},Ei=a=>{if(!a)return"Not specified";const n=new Date(a);return Number.isNaN(n.getTime())?"Not specified":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(n)},R0=a=>{if(!a)return null;const n=new Date(a);return Number.isNaN(n.getTime())?null:n.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})},$5=()=>{const{opportunityId:a}=Et(),n=Te(),{role:r}=ye(),{data:o,loading:c,error:u}=$1(a),[p,b]=x.useState(!1),y=String(r??"").trim().toLowerCase()==="student",{referral:f,loading:g,setReferral:h}=Hb(a,{autoFetch:!!a}),v=o?.type?o.type==="full-time"?"Full-time":o.type==="part-time"?"Part-time":"Internship":"Opportunity",C=(o?.description??"").split(/\n+/).map(S=>S.trim()).filter(Boolean),N=()=>b(!0),k=()=>{g||b(!1)},j=S=>{S&&h(S)};return c?e.jsx("article",{className:"rounded-3xl bg-white p-8 text-center text-sm text-slate-400 shadow-soft",children:"Loading opportunity..."}):u||!o?e.jsx("article",{className:"space-y-4",children:e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50 p-8 text-center text-sm text-rose-600",children:u?.message??"Opportunity not found or unavailable."})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5",children:[e.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-10",children:[e.jsxs("button",{onClick:()=>n("/dashboard/opportunities"),className:"inline-flex items-center gap-2 rounded-full border border-transparent px-4 py-2 text-sm font-medium text-slate-600 transition hover:border-primary/30 hover:text-primary",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Opportunities"]}),e.jsxs("article",{className:"mt-8 space-y-10",children:[e.jsx("section",{className:"rounded-4xl border border-slate-200 bg-white shadow-soft",children:e.jsxs("div",{className:"flex flex-col gap-8 p-8 sm:p-12",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:[e.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-primary/10 px-3 py-1 text-primary",children:v}),o.isRemote&&e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-slate-500",children:"Remote Friendly"}),o.location&&e.jsx("span",{className:"text-slate-500",children:o.location})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-3xl font-bold leading-tight text-slate-900 sm:text-4xl lg:text-5xl",children:o.title}),e.jsxs("p",{className:"text-sm text-slate-500",children:[o.company?`${o.company}${o.location?"  ":""}`:"",o.location??"",o.postedAt&&e.jsxs("span",{className:"ml-2 text-xs uppercase tracking-[0.35em] text-slate-400",children:["Posted ",pu(o.postedAt)]})]})]}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[e.jsx(zn,{label:"Company",value:o.company??"Not specified"}),e.jsx(zn,{label:"Role type",value:v}),e.jsx(zn,{label:"Location",value:o.location??"Flexible",supporting:o.isRemote?"Remote friendly":void 0}),e.jsx(zn,{label:"Deadline",value:Ei(o.deadline),supporting:o.deadline?`Submit in ${Math.max(xu(o.deadline),0)} days`:void 0,highlight:o.deadline&&xu(o.deadline)<=7}),e.jsx(zn,{label:"Posted",value:Ei(o.postedAt),supporting:o.postedAt?pu(o.postedAt):void 0})]})]})}),e.jsxs("section",{className:"grid gap-8 lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)]",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{className:"rounded-4xl bg-white p-8 shadow-soft",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Role Overview"}),e.jsx("div",{className:"mt-4 space-y-4 text-base leading-relaxed text-slate-600",children:C.length?C.map((S,_)=>e.jsx("p",{children:S},_)):e.jsx("p",{className:"text-slate-500",children:"No job description provided for this opportunity."})})]}),(o.skills??[]).length>0&&e.jsxs("section",{className:"rounded-4xl bg-white p-8 shadow-soft",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Key Skills & Tools"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Highlight these strengths in your application."}),e.jsx("div",{className:"mt-5 flex flex-wrap gap-3",children:o.skills.map(S=>e.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-primary/20 bg-primary/5 px-4 py-2 text-sm font-semibold text-primary",children:[e.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M20 7a4 4 0 00-8 0v4"}),e.jsx("path",{d:"M4 9v6"}),e.jsx("path",{d:"M4 19h7"}),e.jsx("path",{d:"M13 17h7"})]}),S]},S))})]}),e.jsxs("section",{className:"rounded-4xl bg-white p-8 shadow-soft",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Application Timeline"}),e.jsxs("div",{className:"mt-6 space-y-5",children:[e.jsx(T0,{iconBg:"bg-emerald-100",iconColor:"text-emerald-600",title:"Application deadline",value:Ei(o.deadline),supporting:o.deadline?`${Math.max(xu(o.deadline),0)} days left`:"Submit as soon as possible"}),e.jsx(T0,{iconBg:"bg-blue-100",iconColor:"text-blue-600",title:"Opportunity posted",value:Ei(o.postedAt),supporting:o.postedAt?`Posted ${pu(o.postedAt)}`:"Live now"})]})]})]}),e.jsxs("aside",{className:"space-y-6",children:[e.jsxs("section",{className:"rounded-4xl bg-white p-8 shadow-soft",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Take action"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-600",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),"Open"]}),(y||r)&&f?e.jsx(Vb,{referral:f}):null]})]}),e.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Reach out directly or request a referral from your network."}),(y||r)&&f?.submittedAt?e.jsxs("p",{className:"text-xs text-slate-500",children:["Submitted ",R0(f.submittedAt),f.updatedAt&&f.updatedAt!==f.submittedAt?`  Updated ${R0(f.updatedAt)}`:""]}):null,e.jsx("div",{className:"mt-6 space-y-3",children:(y||r)&&e.jsxs("button",{type:"button",onClick:N,className:"inline-flex w-full items-center justify-center gap-2 rounded-full bg-primary px-5 py-3 text-sm font-semibold text-white transition hover:bg-primary-dark",children:[e.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101"}),e.jsx("path",{d:"M10.314 10.314a4 4 0 015.656 0l4 4a4 4 0 01-5.656 5.656l-1.1-1.1"})]}),f?"Update referral request":"Request referral"]})})]}),o.postedBy&&e.jsxs("section",{className:"rounded-4xl bg-white p-8 shadow-soft",children:[e.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Shared by"}),e.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[e.jsx("span",{className:"inline-flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:e.jsxs("svg",{className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M16 7a4 4 0 11-8 0 4 4 0 018 0z"}),e.jsx("path",{d:"M12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:o.postedBy}),e.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-400",children:o.createdByRole?o.createdByRole:"Community Member"})]})]}),o.contactEmail&&e.jsxs("p",{className:"mt-4 text-sm text-slate-500",children:["Connect with ",o.postedBy.split(" ")[0]??"the poster"," for additional context or referral support."]})]})]})]})]})]}),e.jsx(Fb,{isOpen:p,onClose:k,opportunity:o,initialReferral:f,onSubmitted:j})]})},zn=({label:a,value:n,highlight:r=!1})=>e.jsxs("div",{className:`rounded-3xl border px-5 py-6 text-sm transition ${r?"border-rose-200 bg-rose-50 text-rose-600":"border-slate-100 bg-slate-50 text-slate-700"}`,children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-slate-400",children:a}),e.jsx("p",{className:"mt-3 text-base font-semibold text-slate-900",children:n||""})]}),T0=({iconBg:a,iconColor:n,title:r,value:o,supporting:c})=>e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ${a}`,children:e.jsxs("svg",{className:`h-5 w-5 ${n}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M8 7V3"}),e.jsx("path",{d:"M16 7V3"}),e.jsx("path",{d:"M3 11h18"}),e.jsx("path",{d:"M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:r}),e.jsx("p",{className:"text-sm text-slate-600",children:o}),c&&e.jsx("p",{className:"text-xs text-slate-400",children:c})]})]}),_0=a=>{if(!a)return"";const n=new Date(a);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},O0=a=>{switch(a?.toLowerCase()){case"accepted":return"bg-emerald-100 text-emerald-800";case"declined":return"bg-red-100 text-red-800";case"reviewed":return"bg-blue-100 text-blue-800";case"submitted":default:return"bg-amber-100 text-amber-800"}},Y5=()=>{const a=Te(),{opportunityId:n}=Et(),[r,o]=x.useState(""),[c,u]=x.useState("all"),[p,b]=x.useState(null),[y,f]=x.useState(!1),[g,h]=x.useState(null),[v,C]=x.useState(!1),[N,k]=x.useState(""),j=async()=>{C(!0),k("");try{const D=await ce(`/opportunities/${n}/applicants`);h(D?.data||null)}catch(D){k(D?.message||"Unable to load applicants.")}finally{C(!1)}};x.useEffect(()=>{n&&j()},[n]);const S=x.useMemo(()=>{if(!g)return[];const D=r.trim().toLowerCase();return g.filter(E=>{const P=!D||E.student.name.toLowerCase().includes(D)||E.student.email.toLowerCase().includes(D)||E.student.department.toLowerCase().includes(D)||E.student.role.toLowerCase().includes(D),z=c==="all"||E.status===c;return P&&z})},[g,r,c]),_=async(D,E,P="")=>{f(!0);try{await Pt(`/opportunities/referrals/${D}/status`,{status:E,reviewerNote:P}),await j(),alert(`Applicant status updated to ${E} successfully.`)}catch(z){console.error("Failed to update applicant status:",z),alert("Failed to update applicant status. Please try again.")}finally{f(!1)}},B=(D,E)=>{D?window.open(D,"_blank"):alert("No resume available for this applicant.")};return v?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):N?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-600 mb-4",children:"Failed to load applicants. Please try again."}),e.jsx("button",{onClick:()=>j(),className:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 transition-colors",children:"Retry"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("header",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Opportunity Applications"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"View and manage applications for your opportunity."})]}),e.jsxs("button",{onClick:()=>a("/dashboard/activity/content"),className:"inline-flex items-center gap-2 rounded-xl bg-slate-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-all hover:bg-slate-700 hover:shadow-md",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to My Content"]})]})}),e.jsxs("section",{className:"bg-white rounded-xl border border-slate-200 shadow-sm",children:[e.jsx("div",{className:"p-6 border-b border-slate-200",children:e.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-3 flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Search applicants by name, email, department...",value:r,onChange:D=>o(D.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-slate-300 rounded-xl text-sm text-slate-900 placeholder:text-slate-500 focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-500/20 transition-colors"})]}),e.jsxs("select",{value:c,onChange:D=>u(D.target.value),className:"block w-full px-3 py-2.5 border border-slate-300 rounded-xl text-sm text-slate-900 focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-500/20 transition-colors",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"submitted",children:" Submitted"}),e.jsx("option",{value:"reviewed",children:" Reviewed"}),e.jsx("option",{value:"accepted",children:" Accepted"}),e.jsx("option",{value:"declined",children:" Declined"})]})]})})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Applicant"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Department"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Role"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Applied Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Resume"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:S.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-sm text-slate-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("svg",{className:"h-12 w-12 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("div",{children:"No applicants found."})]})})}):S.map(D=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-200 flex items-center justify-center",children:D.student.profilePicture?e.jsx("img",{src:D.student.profilePicture,alt:D.student.name,className:"h-10 w-10 rounded-full object-cover"}):e.jsx("span",{className:"text-sm font-medium text-slate-600",children:D.student.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-slate-900",children:D.student.name}),e.jsx("div",{className:"text-xs text-slate-500",children:D.student.email})]})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:D.student.department}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex rounded-full px-2 py-1 text-xs font-medium bg-slate-100 text-slate-800",children:D.student.role})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:_0(D.submittedAt)}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex rounded-full px-3 py-1 text-xs font-medium ${O0(D.status)}`,children:D.status.charAt(0).toUpperCase()+D.status.slice(1)})}),e.jsx("td",{className:"px-6 py-4",children:D.resumeUrl?e.jsxs("button",{onClick:()=>B(D.resumeUrl,D.resumeFileName),className:"inline-flex items-center gap-1 rounded-lg bg-blue-100 px-3 py-2 text-xs font-medium text-blue-700 hover:bg-blue-200 transition-colors",children:[e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Resume"]}):e.jsx("span",{className:"text-xs text-slate-400",children:"No resume"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("button",{onClick:()=>b(D),className:"inline-flex items-center gap-1 rounded-lg bg-slate-100 px-3 py-2 text-xs font-medium text-slate-700 hover:bg-slate-200 transition-colors",children:[e.jsxs("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View"]}),(D.status==="submitted"||D.status==="reviewed")&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>_(D.id,"reviewed"),disabled:y,className:"inline-flex items-center gap-1 rounded-lg bg-blue-600 px-3 py-2 text-xs font-medium text-white hover:bg-blue-700 disabled:opacity-50 transition-colors",children:"Review"}),e.jsx("button",{onClick:()=>_(D.id,"accepted"),disabled:y,className:"inline-flex items-center gap-1 rounded-lg bg-emerald-600 px-3 py-2 text-xs font-medium text-white hover:bg-emerald-700 disabled:opacity-50 transition-colors",children:"Accept"}),e.jsx("button",{onClick:()=>_(D.id,"declined"),disabled:y,className:"inline-flex items-center gap-1 rounded-lg bg-red-600 px-3 py-2 text-xs font-medium text-white hover:bg-red-700 disabled:opacity-50 transition-colors",children:"Decline"})]})]})})]},D.id))})]})}),S.length>0&&e.jsx("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50",children:e.jsx("div",{className:"flex items-center justify-between text-sm text-slate-600",children:e.jsxs("div",{children:["Showing ",S.length," of ",g?.length||0," applicants"]})})})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Applicant Details"}),e.jsx("button",{onClick:()=>b(null),className:"rounded-lg p-2 text-slate-400 hover:bg-slate-100",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-200 flex items-center justify-center",children:p.student.profilePicture?e.jsx("img",{src:p.student.profilePicture,alt:p.student.name,className:"h-16 w-16 rounded-full object-cover"}):e.jsx("span",{className:"text-lg font-medium text-slate-600",children:p.student.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:p.student.name}),e.jsx("p",{className:"text-slate-600",children:p.student.email}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx("span",{className:"inline-flex rounded-full px-2 py-1 text-xs font-medium bg-slate-100 text-slate-800",children:p.student.role}),e.jsx("span",{className:"inline-flex rounded-full px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800",children:p.student.department})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Proposal"}),e.jsx("div",{className:"bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-wrap",children:p.proposal})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Applied Date"}),e.jsx("p",{className:"text-sm text-slate-600",children:_0(p.submittedAt)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Status"}),e.jsx("span",{className:`inline-flex rounded-full px-3 py-1 text-xs font-medium ${O0(p.status)}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})]})]}),p.resumeUrl&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Resume"}),e.jsxs("button",{onClick:()=>B(p.resumeUrl,p.resumeFileName),className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download Resume (",p.resumeFileName,")"]})]}),p.reviewerNote&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Reviewer Note"}),e.jsx("div",{className:"bg-amber-50 rounded-lg p-4 text-sm text-amber-800",children:p.reviewerNote})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-200 flex gap-3",children:(p.status==="submitted"||p.status==="reviewed")&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{_(p.id,"reviewed"),b(null)},disabled:y,className:"flex-1 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50 transition-colors",children:"Mark as Reviewed"}),e.jsx("button",{onClick:()=>{_(p.id,"accepted"),b(null)},disabled:y,className:"flex-1 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-700 disabled:opacity-50 transition-colors",children:"Accept"}),e.jsx("button",{onClick:()=>{const D=prompt("Please provide a reason for decline (optional):");D!==null&&(_(p.id,"declined",D),b(null))},disabled:y,className:"flex-1 rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 disabled:opacity-50 transition-colors",children:"Decline"})]})})]})})]})},B0={title:"",description:"",startDate:"",startTime:"",location:"",coverImage:"",mode:"in-person",registrationLink:"",organization:"",department:"",branch:""},q5=(a,n)=>{if(!a)return"";const r=n&&n.trim()!==""?n:"00:00",o=new Date(`${a}T${r}`);return Number.isNaN(o.getTime())?"":o.toISOString()},H5=(a="")=>a.charAt(0).toUpperCase()+a.slice(1),F5=()=>{const a=Te(),{user:n}=ye(),{createEvent:r}=Ta(),[o,c]=x.useState(B0),[u,p]=x.useState(!1),[b,y]=x.useState(!1);if(!n)return alert("Please log in to create an event."),a("/login"),null;if(!["alumni","faculty"].includes(n.role?.toLowerCase()))return alert("Only alumni and faculty can create events."),a("/dashboard/events"),null;const g=["Computer Science","Electrical Engineering","Mechanical Engineering","Civil Engineering","Chemical Engineering","Business Administration","Physics","Chemistry","Mathematics","English"],h={"Computer Science":["AI & ML","Data Science","Software Engineering","Cybersecurity","Web Development"],"Electrical Engineering":["Power Systems","Electronics","Communication","Control Systems","VLSI"],"Mechanical Engineering":["Automotive","Aerospace","Thermal","Design","Manufacturing"],"Civil Engineering":["Structural","Transportation","Environmental","Geotechnical","Water Resources"],"Chemical Engineering":["Petrochemical","Pharmaceutical","Food Technology","Polymer","Environmental"],"Business Administration":["Finance","Marketing","HR","Operations","International Business"],Physics:["Quantum Physics","Astrophysics","Nuclear Physics","Condensed Matter","Optics"],Chemistry:["Organic","Inorganic","Physical","Analytical","Biochemistry"],Mathematics:["Pure Math","Applied Math","Statistics","Computational","Discrete"],English:["Literature","Linguistics","Creative Writing","Communication","Journalism"]},v=j=>S=>{c(_=>({..._,[j]:S.target.value}))},C=async j=>{const S=j.target.files[0];if(S){if(!S.type.startsWith("image/")){alert("Please upload an image file.");return}if(S.size>5*1024*1024){alert("Please upload an image smaller than 5MB.");return}y(!0);try{const _=URL.createObjectURL(S);c(B=>({...B,coverImage:_})),alert("Event banner image has been uploaded successfully.")}catch{alert("Failed to upload image. Please try again.")}finally{y(!1)}}},N=()=>{c(B0)},k=async j=>{if(j.preventDefault(),u)return;const S=q5(o.startDate,o.startTime);if(!S){alert("Please select a valid start date and time.");return}if(!o.organization){alert("Please select an organization type.");return}if(o.organization==="department"&&!o.department){alert("Please select a department when organization is department.");return}p(!0);try{console.log("Submitting event data:",{title:o.title.trim(),description:o.description.trim(),location:o.location.trim(),coverImage:o.coverImage.trim(),startAt:S,mode:o.mode,registrationLink:o.registrationLink.trim(),organization:o.organization,department:o.department.trim(),branch:o.branch.trim()});const _=await r({title:o.title.trim(),description:o.description.trim(),location:o.location.trim(),coverImage:o.coverImage.trim(),startAt:S,mode:o.mode,registrationLink:o.registrationLink.trim(),organization:o.organization,department:o.department.trim(),branch:o.branch.trim()});console.log("Event created successfully:",_),alert("Your event has been successfully published."),a("/dashboard/events")}catch(_){console.error("Failed to publish event:",_),alert(`Failed to publish event: ${_.message||"Unknown error"}`)}finally{p(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs("button",{onClick:()=>a("/dashboard/events"),className:"inline-flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-primary transition-colors mb-8",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Events"]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Create New Event"}),e.jsx("p",{className:"text-slate-600",children:"Share an upcoming event with the alumni community"})]}),e.jsx("div",{className:"rounded-3xl bg-white shadow-xl p-8",children:e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Event Banner"}),e.jsxs("div",{className:"space-y-3",children:[o.coverImage&&e.jsxs("div",{className:"relative h-32 w-full rounded-2xl overflow-hidden bg-slate-100",children:[e.jsx("img",{src:o.coverImage,alt:"Event banner preview",className:"h-full w-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>c(j=>({...j,coverImage:""})),className:"absolute top-2 right-2 rounded-full bg-white/90 p-1.5 text-slate-600 hover:bg-white hover:text-red-500 transition",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:C,disabled:b,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer disabled:cursor-not-allowed"}),e.jsx("div",{className:"flex items-center justify-center w-full rounded-2xl border-2 border-dashed border-slate-300 bg-slate-50 px-4 py-8 text-center transition hover:border-primary hover:bg-primary/5",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("svg",{className:"mx-auto h-8 w-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("div",{className:"text-sm text-slate-600",children:b?"Uploading...":"Click to upload or drag and drop"}),e.jsx("div",{className:"text-xs text-slate-500",children:"PNG, JPG, GIF up to 5MB"})]})})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Event Title *"}),e.jsx("input",{type:"text",value:o.title,onChange:v("title"),placeholder:"Annual Alumni Meetup 2024",required:!0,className:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-700 placeholder:text-slate-400 transition focus:border-primary focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Location *"}),e.jsx("input",{type:"text",value:o.location,onChange:v("location"),placeholder:"Grand Hall, City Center",required:!0,className:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-700 placeholder:text-slate-400 transition focus:border-primary focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Event Format *"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:o.mode,onChange:v("mode"),className:"w-full appearance-none rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 pr-12 text-sm text-slate-700 transition focus:border-primary focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30",children:ij.map(j=>e.jsx("option",{value:j,children:H5(j)},j))}),e.jsx("svg",{className:"pointer-events-none absolute right-4 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Date and Time"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Start Date *"}),e.jsx("input",{type:"date",value:o.startDate,onChange:v("startDate"),required:!0,className:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-700 transition focus:border-primary focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Start Time *"}),e.jsx("input",{type:"time",value:o.startTime,onChange:v("startTime"),required:!0,className:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-700 transition focus:border-primary focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Organization"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Organization Type *"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:o.organization,onChange:j=>{c(S=>({...S,organization:j.target.value,department:"",branch:""}))},className:"w-full appearance-none rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 pr-12 text-sm text-slate-700 transition focus:border-primary focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30",required:!0,children:[e.jsx("option",{value:"",children:"Select Organization"}),e.jsx("option",{value:"alumni",children:"Alumni Community"}),e.jsx("option",{value:"college",children:"College"}),e.jsx("option",{value:"department",children:"Department"})]}),e.jsx("svg",{className:"pointer-events-none absolute right-4 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),o.organization==="department"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Department *"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:o.department,onChange:j=>{c(S=>({...S,department:j.target.value,branch:""}))},className:"w-full appearance-none rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 pr-12 text-sm text-slate-700 transition focus:border-primary focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30",required:!0,children:[e.jsx("option",{value:"",children:"Select Department"}),g.map(j=>e.jsx("option",{value:j,children:j},j))]}),e.jsx("svg",{className:"pointer-events-none absolute right-4 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),o.organization==="department"&&o.department&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Branch *"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:o.branch,onChange:v("branch"),className:"w-full appearance-none rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 pr-12 text-sm text-slate-700 transition focus:border-primary focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30",required:!0,children:[e.jsx("option",{value:"",children:"Select Branch"}),h[o.department]?.map(j=>e.jsx("option",{value:j,children:j},j))]}),e.jsx("svg",{className:"pointer-events-none absolute right-4 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Event Description *"}),e.jsx("textarea",{value:o.description,onChange:v("description"),placeholder:"Share what attendees can expect, key speakers, agenda, and why this event is impactful.",rows:6,required:!0,className:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-700 placeholder:text-slate-400 transition focus:border-primary focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Registration Options"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"External Registration Link"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"url",value:o.registrationLink,onChange:v("registrationLink"),placeholder:"https://example.com/register",className:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-700 placeholder:text-slate-400 transition focus:border-primary focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30"}),e.jsx("p",{className:"text-xs text-slate-500",children:'If provided, users will be redirected to this link when they click "Register". If left empty, users will see a registration popup form to fill out directly.'})]})]})})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-4 pt-6 border-t border-slate-200",children:[e.jsx("button",{type:"button",onClick:()=>{N(),a("/dashboard/events")},className:"rounded-full border border-slate-200 px-6 py-3 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-full bg-primary px-6 py-3 text-sm font-semibold text-white transition hover:bg-primary-dark disabled:cursor-not-allowed disabled:bg-primary/50",disabled:u,children:u?"Publishing...":"Publish Event"})]})]})})]})})},V5=Object.freeze(["online","in-person","hybrid"]),I5=a=>{const n=String(a??"").toLowerCase().trim();return V5.includes(n)?n:"in-person"},G5=()=>{const{id:a}=Et(),n=Te(),r=je(),[o,c]=x.useState(!0),[u,p]=x.useState(!1),[b,y]=x.useState(null),[f,g]=x.useState(null),[h,v]=x.useState({title:"",description:"",location:"",coverImage:"",startAt:"",endAt:"",mode:"in-person",registrationLink:"",organization:"alumni",department:"",branch:""}),C=x.useCallback(async()=>{if(a){console.log("EditEvent: Fetching event with ID:",a);try{const j=await ce(`/events/${a}`);console.log("EditEvent: Raw API response:",j);const S=j?.data;console.log("EditEvent: Fetched event data:",S),S&&(g(S),v({title:S.title||"",description:S.description||"",location:S.location||"",coverImage:S.coverImage||"",startAt:S.startAt?new Date(S.startAt).toISOString().slice(0,16):"",endAt:S.endAt?new Date(S.endAt).toISOString().slice(0,16):"",mode:I5(S.mode),registrationLink:S.registrationLink||"",organization:S.organization||"alumni",department:S.department||"",branch:S.branch||""}),console.log("EditEvent: Setting loading to false"),c(!1))}catch(j){y(j.message||"Failed to load event"),console.error("Failed to load event:",j)}finally{console.log("EditEvent: Finally block - loading state:",o),c(!1)}}},[a]);x.useEffect(()=>{C()},[C,a]);const N=(j,S)=>{v(_=>({..._,[j]:S}))},k=async j=>{j.preventDefault(),p(!0),y(null);try{const S=await Pt(`/events/${a}`,h);r?.({title:"Event Updated",description:"Your event has been updated successfully.",tone:"success"}),n("/dashboard/content-posted")}catch(S){y(S.message||"Failed to update event"),r?.({title:"Update Failed",description:S.message||"Unable to update event. Please try again.",tone:"error"})}finally{p(!1)}};return o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),e.jsx("p",{className:"mt-4 text-slate-600",children:"Loading event..."})]})}):b&&!f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-rose-600 mb-4",children:"Error Loading Event"}),e.jsx("p",{className:"text-slate-600",children:b}),e.jsx("button",{onClick:()=>n("/dashboard/content-posted"),className:"mt-4 rounded-full bg-primary px-6 py-2 text-white hover:bg-primary-dark",children:"Back to My Content"})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5",children:e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("header",{className:"rounded-3xl bg-gradient-to-r from-primary to-primary-dark p-10 text-white shadow-soft",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Edit Event"}),e.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/80",children:"Update the details for your event. Changes will be reflected immediately on your content page."})]}),b&&e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50 p-6 text-sm text-rose-600",children:e.jsx("p",{children:b})}),e.jsxs("form",{onSubmit:k,className:"space-y-8",children:[e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-sm",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Event Title *"}),e.jsx("input",{type:"text",id:"title",value:h.title,onChange:j=>N("title",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"Enter event title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description *"}),e.jsx("textarea",{id:"description",value:h.description,onChange:j=>N("description",j.target.value),rows:6,className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"Describe your event",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Location *"}),e.jsx("input",{type:"text",id:"location",value:h.location,onChange:j=>N("location",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"Event location or venue",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"coverImage",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Cover Image URL"}),e.jsx("input",{type:"url",id:"coverImage",value:h.coverImage,onChange:j=>N("coverImage",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"https://example.com/image.jpg"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"startAt",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Start Date & Time *"}),e.jsx("input",{type:"datetime-local",id:"startAt",value:h.startAt,onChange:j=>N("startAt",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"endAt",className:"block text-sm font-semibold text-slate-700 mb-2",children:"End Date & Time"}),e.jsx("input",{type:"datetime-local",id:"endAt",value:h.endAt,onChange:j=>N("endAt",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"mode",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Mode"}),e.jsxs("select",{id:"mode",value:h.mode,onChange:j=>N("mode",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"in-person",children:"In-Person"}),e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"registrationLink",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Registration Link"}),e.jsx("input",{type:"url",id:"registrationLink",value:h.registrationLink,onChange:j=>N("registrationLink",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"https://example.com/register"})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mt-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"organization",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Organization *"}),e.jsxs("select",{id:"organization",value:h.organization,onChange:j=>N("organization",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0,children:[e.jsx("option",{value:"alumni",children:"Alumni"}),e.jsx("option",{value:"college",children:"College"}),e.jsx("option",{value:"department",children:"Department"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"department",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Department"}),e.jsx("input",{type:"text",id:"department",value:h.department,onChange:j=>N("department",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"Department name (if applicable)"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"branch",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Branch"}),e.jsx("input",{type:"text",id:"branch",value:h.branch,onChange:j=>N("branch",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"Branch name (if applicable)"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("button",{type:"button",onClick:()=>n("/dashboard/content-posted"),className:"rounded-full border border-slate-200 bg-white px-6 py-3 text-slate-700 hover:bg-slate-50",children:"Cancel"}),e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{type:"submit",disabled:u,className:"rounded-full bg-primary px-8 py-3 text-sm font-semibold text-white transition hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Updating...":"Update Event"})})]})]})]})})})},X5=a=>{const n=Number(a);return Number.isNaN(n)?"":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(n)},W5=()=>{const{id:a}=Et(),n=Te(),r=je(),[o,c]=x.useState(!0),[u,p]=x.useState(!1),[b,y]=x.useState(null),[f,g]=x.useState(null),[h,v]=x.useState({title:"",description:"",goalAmount:"",coverImage:"",deadline:""}),C=x.useCallback(async()=>{if(a)try{const S=(await ce(`/donations/${a}`))?.data;console.log("EditDonation: Fetched donation data:",S),S&&(g(S),v({title:S.title||"",description:S.description||"",goalAmount:S.goalAmount?S.goalAmount.toString():"",coverImage:S.coverImage||"",deadline:S.deadline?new Date(S.deadline).toISOString().slice(0,16):""}),console.log("EditDonation: Form data set:",{title:S.title||"",description:S.description||"",goalAmount:S.goalAmount?S.goalAmount.toString():"",coverImage:S.coverImage||"",deadline:S.deadline?new Date(S.deadline).toISOString().slice(0,16):""}))}catch(j){y(j.message||"Failed to load donation campaign"),console.error("Failed to load donation:",j)}finally{console.log("EditDonation: Setting loading to false"),c(!1)}},[a]);x.useEffect(()=>{C()},[C,a]);const N=(j,S)=>{v(_=>({..._,[j]:S}))},k=async j=>{j.preventDefault(),p(!0),y(null);try{const S={...h,goalAmount:Number(h.goalAmount),deadline:h.deadline?new Date(h.deadline):null},_=await Pt(`/donations/${a}`,S);r?.({title:"Campaign Updated",description:"Your donation campaign has been updated successfully.",tone:"success"}),n("/dashboard/content-posted")}catch(S){y(S.message||"Failed to update campaign"),r?.({title:"Update Failed",description:S.message||"Unable to update donation campaign. Please try again.",tone:"error"})}finally{p(!1)}};return o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),e.jsx("p",{className:"mt-4 text-slate-600",children:"Loading campaign..."})]})}):b&&!f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-rose-600 mb-4",children:"Error Loading Campaign"}),e.jsx("p",{className:"text-slate-600",children:b}),e.jsx("button",{onClick:()=>n("/dashboard/content-posted"),className:"mt-4 rounded-full bg-primary px-6 py-2 text-white hover:bg-primary-dark",children:"Back to My Content"})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5",children:e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("header",{className:"rounded-3xl bg-gradient-to-r from-primary to-primary-dark p-10 text-white shadow-soft",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Edit Donation Campaign"}),e.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/80",children:"Update your donation campaign details. Changes will be reflected immediately on your content page."})]}),b&&e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50 p-6 text-sm text-rose-600",children:e.jsx("p",{children:b})}),e.jsx("form",{onSubmit:k,className:"space-y-8",children:e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-sm",children:[e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:e.jsxs("div",{className:"space-y-6 md:col-span-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Campaign Title *"}),e.jsx("input",{type:"text",id:"title",value:h.title,onChange:j=>N("title",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"Enter campaign title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description *"}),e.jsx("textarea",{id:"description",value:h.description,onChange:j=>N("description",j.target.value),rows:6,className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"Describe your donation campaign",required:!0})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"goalAmount",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Goal Amount () *"}),e.jsx("input",{type:"number",id:"goalAmount",value:h.goalAmount,onChange:j=>N("goalAmount",j.target.value),min:"1",step:"100",className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"100000",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"deadline",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Deadline"}),e.jsx("input",{type:"datetime-local",id:"deadline",value:h.deadline,onChange:j=>N("deadline",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"coverImage",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Cover Image URL"}),e.jsx("input",{type:"url",id:"coverImage",value:h.coverImage,onChange:j=>N("coverImage",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"https://example.com/image.jpg"})]})]})}),f&&e.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-2xl",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Current Progress"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Raised:"}),e.jsx("span",{className:"font-semibold text-slate-900 ml-2",children:X5(f.raisedAmount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Supporters:"}),e.jsx("span",{className:"font-semibold text-slate-900 ml-2",children:f.contributionCount||0})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>n("/dashboard/content-posted"),className:"rounded-full border border-slate-200 bg-white px-6 py-3 text-slate-700 hover:bg-slate-50",children:"Cancel"}),e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{type:"submit",disabled:u,className:"rounded-full bg-primary px-8 py-3 text-sm font-semibold text-white transition hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Updating...":"Update Campaign"})})]})]})})]})})})},Q5=a=>a?Array.isArray(a)?a.map(n=>typeof n=="string"?n.trim():"").filter(Boolean):typeof a=="string"?a.split(",").map(n=>n.trim()).filter(Boolean):[]:[],J5=()=>{const{id:a}=Et(),n=Te(),r=je(),[o,c]=x.useState(!0),[u,p]=x.useState(!1),[b,y]=x.useState(null),[f,g]=x.useState(null),[h,v]=x.useState({title:"",company:"",type:"full-time",location:"",description:"",skills:"",contactEmail:"",deadline:"",isRemote:!1}),C=x.useCallback(async()=>{if(a)try{const S=(await ce(`/opportunities/${a}`))?.data;console.log("EditOpportunity: Fetched opportunity data:",S),S&&(g(S),v({title:S.title||"",company:S.company||"",type:S.type||"full-time",location:S.location||"",description:S.description||"",skills:Array.isArray(S.skills)?S.skills.join(", "):"",contactEmail:S.contactEmail||"",deadline:S.deadline?new Date(S.deadline).toISOString().slice(0,16):"",isRemote:S.isRemote||!1}),console.log("EditOpportunity: Form data set:",{title:S.title||"",company:S.company||"",type:S.type||"full-time",location:S.location||"",description:S.description||"",skills:Array.isArray(S.skills)?S.skills.join(", "):"",contactEmail:S.contactEmail||"",deadline:S.deadline?new Date(S.deadline).toISOString().slice(0,16):"",isRemote:S.isRemote||!1}))}catch(j){y(j.message||"Failed to load opportunity"),console.error("Failed to load opportunity:",j)}finally{console.log("EditOpportunity: Setting loading to false"),c(!1)}},[a]);x.useEffect(()=>{C()},[C,a]);const N=(j,S)=>{v(_=>({..._,[j]:S}))},k=async j=>{j.preventDefault(),p(!0),y(null);try{const S={...h,skills:Q5(h.skills),deadline:h.deadline?new Date(h.deadline):null},_=await Pt(`/opportunities/${a}`,S);r?.({title:"Opportunity Updated",description:"Your opportunity has been updated successfully.",tone:"success"}),n("/dashboard/content-posted")}catch(S){y(S.message||"Failed to update opportunity"),r?.({title:"Update Failed",description:S.message||"Unable to update opportunity. Please try again.",tone:"error"})}finally{p(!1)}};return o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),e.jsx("p",{className:"mt-4 text-slate-600",children:"Loading opportunity..."})]})}):b&&!f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-rose-600 mb-4",children:"Error Loading Opportunity"}),e.jsx("p",{className:"text-slate-600",children:b}),e.jsx("button",{onClick:()=>n("/dashboard/content-posted"),className:"mt-4 rounded-full bg-primary px-6 py-2 text-white hover:bg-primary-dark",children:"Back to My Content"})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5",children:e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("header",{className:"rounded-3xl bg-gradient-to-r from-primary to-primary-dark p-10 text-white shadow-soft",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Edit Opportunity"}),e.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/80",children:"Update the details for your opportunity. Changes will be reflected immediately on your content page."})]}),b&&e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50 p-6 text-sm text-rose-600",children:e.jsx("p",{children:b})}),e.jsx("form",{onSubmit:k,className:"space-y-8",children:e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-sm",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Job Title *"}),e.jsx("input",{type:"text",id:"title",value:h.title,onChange:j=>N("title",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"Enter job title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"company",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company *"}),e.jsx("input",{type:"text",id:"company",value:h.company,onChange:j=>N("company",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"Company name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Type *"}),e.jsxs("select",{id:"type",value:h.type,onChange:j=>N("type",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0,children:[e.jsx("option",{value:"full-time",children:"Full-time"}),e.jsx("option",{value:"part-time",children:"Part-time"}),e.jsx("option",{value:"contract",children:"Contract"}),e.jsx("option",{value:"internship",children:"Internship"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Contact Email *"}),e.jsx("input",{type:"email",id:"contactEmail",value:h.contactEmail,onChange:j=>N("contactEmail",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"contact@company.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"deadline",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Application Deadline *"}),e.jsx("input",{type:"datetime-local",id:"deadline",value:h.deadline,onChange:j=>N("deadline",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Job Description *"}),e.jsx("textarea",{id:"description",value:h.description,onChange:j=>N("description",j.target.value),rows:6,className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"Describe the role, responsibilities, and requirements",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"skills",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Skills"}),e.jsx("input",{type:"text",id:"skills",value:h.skills,onChange:j=>N("skills",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"React, JavaScript, Node.js (comma-separated)"}),e.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Enter skills separated by commas"})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isRemote",checked:h.isRemote,onChange:j=>N("isRemote",j.target.checked),className:"h-4 w-4 text-primary border-slate-300 rounded focus:ring-primary"}),e.jsx("label",{htmlFor:"isRemote",className:"ml-2 text-sm font-medium text-slate-700",children:"This is a remote position"})]})}),!h.isRemote&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Location *"}),e.jsx("input",{type:"text",id:"location",value:h.location,onChange:j=>N("location",j.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-900 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"City, State or Country",required:!h.isRemote})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>n("/dashboard/content-posted"),className:"rounded-full border border-slate-200 bg-white px-6 py-3 text-slate-700 hover:bg-slate-50",children:"Cancel"}),e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{type:"submit",disabled:u,className:"rounded-full bg-primary px-8 py-3 text-sm font-semibold text-white transition hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Updating...":"Update Opportunity"})})]})]})})]})})})},Z5=()=>{const{role:a,user:n}=ye(),[r,o]=x.useState({platformStats:{},roleStats:{},activityStats:{},trends:{},topMetrics:{}}),[c,u]=x.useState(!0),[p,b]=x.useState(null),[y,f]=x.useState(new Date),g=x.useMemo(()=>{const P=a??n?.role??n?.profile?.role;return P?String(P).trim().toLowerCase():""},[a,n?.role,n?.profile?.role]),h=x.useMemo(()=>{switch(g){case"student":return{title:"Student Insights",subtitle:"Track your academic journey and career opportunities",primaryColor:"blue",icon:Ef,focusAreas:["Applications","Events","Mentorship","Skills"]};case"alumni":return{title:"Alumni Insights",subtitle:"Monitor your impact and network engagement",primaryColor:"emerald",icon:Af,focusAreas:["Mentorship","Opportunities","Events","Donations"]};case"faculty":return{title:"Faculty Insights",subtitle:"Track student engagement and academic contributions",primaryColor:"purple",icon:hi,focusAreas:["Students","Events","Research","Mentorship"]};default:return{title:"User Insights",subtitle:"Your personalized platform analytics",primaryColor:"slate",icon:Pd,focusAreas:["Activity","Engagement","Growth"]}}},[g]),v=x.useCallback(async()=>{try{u(!0),b(null);const[P,z,$,F,H,U]=await Promise.all([ce("/directory/students").catch(()=>({data:[]})),ce("/directory/alumni").catch(()=>({data:[]})),ce("/directory/faculty").catch(()=>({data:[]})),ce("/events").catch(()=>({data:[]})),ce("/opportunities").catch(()=>({data:[]})),ce("/campaigns").catch(()=>({data:[]}))]),T=P.data||[],O=z.data||[],Y=$.data||[],W=F.data||[],I=H.data||[],A=U.data||[],R=T.length+O.length+Y.length,q=W.filter(V=>new Date(V.date||V.startDate)>new Date).length,J={student:{total:T.length,active:T.filter(V=>V.status==="Active").length,profileCompleted:T.filter(V=>V.about&&V.skills?.length>0).length,avgProfileCompletion:T.length>0?Math.round(T.filter(V=>V.about&&V.skills?.length>0).length/T.length*100):0},alumni:{total:O.length,active:O.filter(V=>V.status==="Active").length,mentors:O.filter(V=>V.isMentor).length,profileCompleted:O.filter(V=>V.about&&V.skills?.length>0).length,avgProfileCompletion:O.length>0?Math.round(O.filter(V=>V.about&&V.skills?.length>0).length/O.length*100):0},faculty:{total:Y.length,active:Y.filter(V=>V.status==="Active").length,departments:[...new Set(Y.map(V=>V.department).filter(Boolean))].length,profileCompleted:Y.filter(V=>V.about&&V.skills?.length>0).length,avgProfileCompletion:Y.length>0?Math.round(Y.filter(V=>V.about&&V.skills?.length>0).length/Y.length*100):0}},M=new Date(Date.now()-720*60*60*1e3),Q={newStudents:T.filter(V=>new Date(V.createdAt)>M).length,newAlumni:O.filter(V=>new Date(V.createdAt)>M).length,newFaculty:Y.filter(V=>new Date(V.createdAt)>M).length,upcomingEvents:q,activeOpportunities:I.filter(V=>V.status==="active").length,activeCampaigns:A.filter(V=>V.status==="active").length},se=g==="student"?{totalOpportunities:I.length,appliedOpportunities:Math.floor(Math.random()*20)+5,upcomingEvents:q,mentorshipRequests:Math.floor(Math.random()*10)+2}:g==="alumni"?{mentorshipRequests:Math.floor(Math.random()*15)+5,opportunitiesPosted:Math.floor(Math.random()*8)+2,eventsAttended:Math.floor(Math.random()*12)+3,donationsMade:A.filter(V=>V.donations?.length>0).length}:g==="faculty"?{studentsMentored:Math.floor(Math.random()*25)+10,eventsOrganized:Math.floor(Math.random()*6)+1,researchCollaborations:Math.floor(Math.random()*8)+2,departmentRanking:Math.floor(Math.random()*3)+1}:{totalActivities:Math.floor(Math.random()*50)+20,engagementScore:Math.floor(Math.random()*30)+70,networkGrowth:Math.floor(Math.random()*15)+5,skillProgress:Math.floor(Math.random()*8)+3};o({platformStats:{totalUsers:R,totalStudents:T.length,totalAlumni:O.length,totalFaculty:Y.length,activeEvents:q,totalEvents:W.length,totalOpportunities:I.length,totalCampaigns:A.length},roleStats:J,activityStats:Q,trends:{userGrowth:Math.floor(Math.random()*20)+10,engagementRate:Math.floor(Math.random()*30)+65,activityLevel:Math.floor(Math.random()*40)+50},topMetrics:se}),f(new Date)}catch(P){console.error("Failed to fetch insights:",P),b(P.message||"Failed to load insights data")}finally{u(!1)}},[g]);x.useEffect(()=>{v();const P=setInterval(v,6e4);return()=>clearInterval(P)},[v]);const C=h.icon,N=({percentage:P,size:z=120,strokeWidth:$=8,color:F="blue",label:H})=>{const U=(z-$)/2,T=U*2*Math.PI,O=T-P/100*T;return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{width:z,height:z,className:"transform -rotate-90",children:[e.jsx("circle",{cx:z/2,cy:z/2,r:U,stroke:"currentColor",strokeWidth:$,fill:"none",className:"text-slate-200"}),e.jsx("circle",{cx:z/2,cy:z/2,r:U,stroke:"currentColor",strokeWidth:$,fill:"none",strokeDasharray:T,strokeDashoffset:O,className:`text-${F}-500 transition-all duration-500 ease-out`,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:`text-2xl font-bold text-${F}-600`,children:c?"...":`${P}%`})})]}),e.jsx("p",{className:"mt-2 text-sm font-medium text-slate-700",children:H})]})},k=({data:P,size:z=150,strokeWidth:$=30})=>{const F=P.reduce((U,T)=>U+T.value,0);let H=-90;return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{width:z,height:z,children:[P.map((U,T)=>{const Y=U.value/F*100/100*360,W=Y>180?1:0,I=z/2+(z/2-$/2)*Math.cos(H*Math.PI/180),A=z/2+(z/2-$/2)*Math.sin(H*Math.PI/180);H+=Y;const R=z/2+(z/2-$/2)*Math.cos(H*Math.PI/180),q=z/2+(z/2-$/2)*Math.sin(H*Math.PI/180);return e.jsx("path",{d:`
                    M ${I} ${A}
                    A ${z/2-$/2} ${z/2-$/2} 0 ${W} 1 ${R} ${q}
                  `,fill:U.color,className:"transition-all duration-300 hover:opacity-80"},T)}),e.jsx("circle",{cx:z/2,cy:z/2,r:z/2-$,fill:"white"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:F}),e.jsx("p",{className:"text-xs text-slate-500",children:"Total"})]})})]}),e.jsx("div",{className:"mt-4 space-y-2",children:P.map((U,T)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:U.color}}),e.jsxs("span",{className:"text-sm text-slate-600",children:[U.label,": ",U.value]})]},T))})]})},j=({data:P,height:z=200})=>{const $=Math.max(...P.map(F=>F.value));return e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"flex items-end justify-between gap-2",style:{height:`${z}px`},children:P.map((F,H)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[e.jsxs("div",{className:"w-full flex flex-col items-center",children:[e.jsx("span",{className:"text-xs font-medium text-slate-700 mb-1",children:c?"...":F.value}),e.jsx("div",{className:"w-full bg-gradient-to-t from-blue-500 to-blue-400 rounded-t transition-all duration-500 ease-out hover:from-blue-600 hover:to-blue-500",style:{height:c?"0%":`${F.value/$*100}%`,minHeight:"4px"}})]}),e.jsx("span",{className:"text-xs text-slate-500 text-center",children:F.label})]},H))})})},S=({activities:P})=>e.jsx("div",{className:"space-y-4",children:P.map((z,$)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${z.type==="growth"?"bg-emerald-500":z.type==="event"?"bg-blue-500":z.type==="opportunity"?"bg-purple-500":"bg-slate-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:z.title}),e.jsx("p",{className:"text-xs text-slate-500",children:z.description}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:z.time})]})]},$))});if(p)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5",children:e.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:e.jsxs("div",{className:"rounded-3xl border border-rose-200 bg-rose-50 p-8 text-center",children:[e.jsx(Ra,{className:"mx-auto h-12 w-12 text-rose-500 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-rose-900 mb-2",children:"Unable to load insights"}),e.jsx("p",{className:"text-rose-700 mb-4",children:p}),e.jsx("button",{onClick:v,className:"rounded-lg bg-rose-600 px-4 py-2 text-white font-medium hover:bg-rose-700 transition",children:"Try Again"})]})})});const _=[{label:"Students",value:r.platformStats.totalStudents||0,color:"#3B82F6"},{label:"Alumni",value:r.platformStats.totalAlumni||0,color:"#10B981"},{label:"Faculty",value:r.platformStats.totalFaculty||0,color:"#8B5CF6"}],B=[{label:"Events",value:r.platformStats.activeEvents||0},{label:"Opportunities",value:r.platformStats.totalOpportunities||0},{label:"Campaigns",value:r.platformStats.totalCampaigns||0}],D=[{label:"New Students",value:r.activityStats.newStudents||0},{label:"New Alumni",value:r.activityStats.newAlumni||0},{label:"New Faculty",value:r.activityStats.newFaculty||0}],E=[{type:"growth",title:"New User Registrations",description:`${(r.activityStats.newStudents||0)+(r.activityStats.newAlumni||0)+(r.activityStats.newFaculty||0)} new members joined this month`,time:"Last 30 days"},{type:"event",title:"Platform Events",description:`${r.platformStats.activeEvents||0} active events currently running`,time:"This month"},{type:"opportunity",title:"Career Opportunities",description:`${r.platformStats.totalOpportunities||0} opportunities available`,time:"Updated now"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl px-4 py-8",children:[e.jsx("header",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-sm mb-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`rounded-2xl bg-${h.primaryColor}-100 p-4`,children:e.jsx(C,{className:`h-8 w-8 text-${h.primaryColor}-600`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-400",children:h.title}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mt-1",children:h.title}),e.jsx("p",{className:"text-sm text-slate-500 mt-2",children:h.subtitle})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Last updated"}),e.jsx("p",{className:"text-sm font-medium text-slate-700",children:y.toLocaleTimeString()}),e.jsx("button",{onClick:v,className:"mt-2 text-xs font-medium text-primary hover:text-primary/80 transition",children:"Refresh Data"})]})]})}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-6",children:"Platform Overview"}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-4",children:[e.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:e.jsx(N,{percentage:r.trends.userGrowth||0,size:120,color:"emerald",label:"User Growth"})}),e.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:e.jsx(N,{percentage:r.trends.engagementRate||0,size:120,color:"blue",label:"Engagement Rate"})}),e.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:e.jsx(N,{percentage:r.roleStats[g]?.avgProfileCompletion||0,size:120,color:h.primaryColor,label:"Profile Completion"})}),e.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:e.jsx(N,{percentage:r.trends.activityLevel||0,size:120,color:"purple",label:"Activity Level"})})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-6",children:"User Distribution"}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-4",children:"Role Distribution"}),e.jsx(k,{data:_,size:180,strokeWidth:40})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-4",children:"Platform Activity"}),e.jsx(k,{data:[{label:"Events",value:r.platformStats.activeEvents||0,color:"#8B5CF6"},{label:"Opportunities",value:r.platformStats.totalOpportunities||0,color:"#3B82F6"},{label:"Campaigns",value:r.platformStats.totalCampaigns||0,color:"#F59E0B"}],size:180,strokeWidth:40})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-4",children:"Recent Growth"}),e.jsx(j,{data:D,height:150})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-6",children:"Recent Activity Timeline"}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-4",children:"Platform Activity"}),e.jsx(S,{activities:E})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-4",children:"Monthly Activity"}),e.jsx(j,{data:B,height:200})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-6",children:"Your Personal Impact"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:Object.entries(r.topMetrics).map(([P,z])=>{const F={totalOpportunities:{icon:Ud,label:"Opportunities",color:"blue"},appliedOpportunities:{icon:M1,label:"Applications",color:"emerald"},upcomingEvents:{icon:pi,label:"Events",color:"violet"},mentorshipRequests:{icon:hi,label:"Mentorship",color:"amber"},opportunitiesPosted:{icon:Ud,label:"Posted",color:"blue"},eventsAttended:{icon:pi,label:"Attended",color:"violet"},donationsMade:{icon:N1,label:"Donations",color:"rose"},studentsMentored:{icon:hi,label:"Mentored",color:"emerald"},eventsOrganized:{icon:pi,label:"Organized",color:"violet"},researchCollaborations:{icon:Ef,label:"Research",color:"purple"},departmentRanking:{icon:Af,label:"Ranking",color:"amber"},totalActivities:{icon:kf,label:"Activities",color:"blue"},engagementScore:{icon:Pd,label:"Engagement",color:"emerald"},networkGrowth:{icon:L1,label:"Network",color:"blue"},skillProgress:{icon:A1,label:"Skills",color:"violet"}}[P]||{icon:kf,label:P,color:"slate"},H=F.icon;return e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:`rounded-xl bg-${F.color}-100 p-3`,children:e.jsx(H,{className:`h-6 w-6 text-${F.color}-600`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:F.label}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:c?"...":z})]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:`bg-${F.color}-500 h-2 rounded-full transition-all duration-500`,style:{width:c?"0%":`${Math.min(z/50*100,100)}%`}})})]},P)})})]}),e.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-sm",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(Le,{to:"/dashboard",className:"flex items-center gap-3 rounded-xl border border-slate-200 p-4 hover:border-primary/30 hover:bg-primary/5 transition",children:[e.jsx(Pd,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Dashboard"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Main overview"})]})]}),e.jsxs(Le,{to:"/dashboard/directory/students",className:"flex items-center gap-3 rounded-xl border border-slate-200 p-4 hover:border-primary/30 hover:bg-primary/5 transition",children:[e.jsx(hi,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Directory"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Browse users"})]})]}),e.jsxs(Le,{to:"/dashboard/events",className:"flex items-center gap-3 rounded-xl border border-slate-200 p-4 hover:border-primary/30 hover:bg-primary/5 transition",children:[e.jsx(pi,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Events"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Upcoming events"})]})]}),e.jsxs(Le,{to:"/dashboard/opportunities",className:"flex items-center gap-3 rounded-xl border border-slate-200 p-4 hover:border-primary/30 hover:bg-primary/5 transition",children:[e.jsx(Ud,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Opportunities"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Career opportunities"})]})]})]})]})]})})},hu=a=>a?Array.isArray(a)?a.filter(Boolean):String(a).split(",").map(n=>n.trim()).filter(Boolean):[],K5=a=>Array.isArray(a)?a.map(n=>({company:n.company||"",role:n.role||"",startDate:n.startDate||"",endDate:n.endDate||"",isCurrentJob:!!n.isCurrentJob,description:n.description||""})):[],e6=a=>Array.isArray(a)?a.map(n=>({institution:n.institution||"",degree:n.degree||"",field:n.field||"",department:n.department||"",admissionYear:n.admissionYear||"",passoutYear:n.passoutYear||"",cgpa:n.cgpa||"",isCurrentlyPursuing:!!n.isCurrentlyPursuing,description:n.description||""})):[],t6=a=>Array.isArray(a)?a.map(n=>({id:n.id||n._id||"",title:n.title||"",description:n.description||"",duration:n.duration||"",price:typeof n.price=="number"?n.price:Number(n.price??0),mode:n.mode||"",status:n.status||"inactive"})):[],s6=a=>Array.isArray(a)?a.map(n=>({id:n.id||n._id||"",title:n.title||"",description:n.description||"",type:n.type||"other",status:n.status||"inactive",url:n.url||"",fileName:n.fileName||"",fileType:n.fileType||"",fileSize:n.fileSize??0})):[],a6=(a={})=>a?{id:a.id||a.applicationId||a.profileId||"",slug:a.slug||"",fullName:a.fullName||a.name||"",email:a.email||"",contactNumber:a.contactNumber||"",graduationYear:a.graduationYear||"",department:a.department||"",location:a.location||"",linkedin:a.linkedin||"",jobRole:a.jobRole||a.position||"",companyName:a.companyName||"",industry:a.industry||"",experience:a.experience||"",preferredStudents:a.preferredStudents||"",maxStudents:a.maxStudents||"",weeklyHours:a.weeklyHours||"",availability:a.availability||"",modes:hu(a.modes),categories:hu(a.categories),expertise:hu(a.expertise),skills:a.skills||"",bio:a.bio||"",motivation:a.motivation||"",avatar:a.avatar||"",services:t6(a.services),resources:s6(a.resources),workExperience:K5(a.workExperience),education:e6(a.education),createdAt:a.createdAt?new Date(a.createdAt):null,updatedAt:a.updatedAt?new Date(a.updatedAt):null}:null,l6=a=>{const[n,r]=x.useState(null),[o,c]=x.useState(!0),[u,p]=x.useState(null),b=je(),y=x.useCallback(async()=>{if(!a){r(null),c(!1);return}c(!0),p(null);try{const f=await ce(`/api/mentors/${a}`),g=f?.data??f;r(a6(g))}catch(f){p(f),b?.({title:"Unable to load mentor profile",description:f?.message??"Please try again later.",tone:"error"})}finally{c(!1)}},[a,b]);return x.useEffect(()=>{y()},[y]),x.useMemo(()=>({mentor:n,loading:o,error:u,refresh:y}),[n,o,u,y])},n6=()=>{const a=Te(),{user:n}=ye(),{mentorId:r}=Et(),o=je(),{mentor:c,loading:u,error:p,refresh:b}=l6(r),[y,f]=x.useState(!1),[g,h]=x.useState(!1),[v,C]=x.useState(null),[N,k]=x.useState(!1),j=x.useMemo(()=>c&&(c.fullName||c.jobRole)||"Mentor",[c]),S=(n?._id||n?.id||n?.profile?._id||n?.profile?.id||"").toString(),_=c?.profileId?c.profileId.toString():"",B=!!(S&&_&&S===_),D=x.useCallback(async()=>{if(!S){C(null),k(!1);return}if(B||!_){C(null),k(!1);return}k(!0);try{const A=await ce("/api/mentors/me/requests"),q=(Array.isArray(A?.data)?A.data:Array.isArray(A)?A:[]).find(J=>{const M=(J?.status||"").toString().toLowerCase();if(!M||M==="rejected")return!1;const Q=J?.mentor?._id||J?.mentor?.id||J?.mentorId||J?.mentor||"";return(typeof Q=="object"&&Q!==null&&typeof Q.toString=="function"?Q.toString():Q?.toString?.()||String(Q||""))===_});C(q??null)}catch(A){console.error("Failed to check existing mentorship requests:",A),C(null)}finally{k(!1)}},[S,B,_]);x.useEffect(()=>{D()},[D]);const E=A=>{const R=(A||"").toString().toLowerCase();return R?R.charAt(0).toUpperCase()+R.slice(1):""},P=!!v,z=P?E(v.status):"";if(u&&!c)return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("button",{type:"button",onClick:()=>a(-1),className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-500 transition hover:text-primary",children:[e.jsx("span",{className:"text-lg",children:""}),"Back to Mentorship"]}),e.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-10 shadow-sm",children:e.jsxs("div",{className:"flex flex-col items-center gap-5 text-center",children:[e.jsx("div",{className:"h-20 w-20 animate-pulse rounded-full bg-slate-200"}),e.jsx("div",{className:"h-5 w-48 animate-pulse rounded bg-slate-200"}),e.jsx("div",{className:"h-3 w-64 animate-pulse rounded bg-slate-100"}),e.jsx("div",{className:"h-10 w-40 animate-pulse rounded-full bg-slate-100"})]})})]});if(p&&!c)return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("button",{type:"button",onClick:()=>a(-1),className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-500 transition hover:text-primary",children:[e.jsx("span",{className:"text-lg",children:""}),"Back to Mentorship"]}),e.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/60 p-10 text-center shadow-sm text-rose-600",children:p.message??"Unable to load mentor profile. Please try again later."})]});if(!c)return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("button",{type:"button",onClick:()=>a(-1),className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-500 transition hover:text-primary",children:[e.jsx("span",{className:"text-lg",children:""}),"Back to Mentorship"]}),e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-10 text-center shadow-sm",children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Mentor not found"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"The mentor profile you are looking for is unavailable. Please choose another mentor."})]})]});const $=c.categories||[],F=c.expertise||[],H=c.services||[],U=c.resources||[],T=c.workExperience||[],O=c.education||[],Y=c.fullName?.split(" ")[0]||"the mentor",W=c.applicationId||c.id,I=async A=>{if(!W){o?.({title:"Mentor unavailable",description:"Unable to submit request for this mentor.",tone:"error"});return}try{h(!0),await _e(`/mentors/${W}/requests`,A),o?.({title:"Request sent",description:"Your mentorship request has been shared with the mentor.",tone:"success"}),f(!1),await D()}catch(R){o?.({title:"Unable to send request",description:R?.message??"Please try again later.",tone:"error"})}finally{h(!1)}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>a(-1),className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-500 transition hover:text-primary",children:[e.jsx("span",{className:"text-lg",children:""}),"Back to Mentorship"]}),!B&&!P&&e.jsx("button",{type:"button",className:"rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white transition hover:bg-primary/90 disabled:opacity-60",onClick:()=>f(!0),disabled:g||N,children:N?"Checking":"Request Mentorship"}),!B&&P&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("span",{className:"rounded-full border border-primary/30 bg-primary/10 px-4 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-primary",children:z||"Request Pending"}),e.jsx("button",{type:"button",onClick:()=>a("/dashboard/my-activity/requests"),className:"rounded-full border border-primary/40 px-4 py-1 text-xs font-semibold text-primary transition hover:border-primary hover:bg-primary/10",children:"View in Requests"})]})]}),e.jsxs("div",{className:"grid gap-8 xl:grid-cols-[minmax(0,1.1fr)_minmax(0,0.9fr)]",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("article",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-wrap items-start gap-6",children:[e.jsx("img",{src:c.avatar||`https://api.dicebear.com/7.x/initials/svg?seed=${encodeURIComponent(j.slice(0,2))}`,alt:j,className:"h-24 w-24 rounded-3xl object-cover"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-primary/70",children:"Mentor ID"}),e.jsx("p",{className:"mt-1 font-mono text-sm text-slate-500",children:c.id||"Unavailable"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:c.fullName||c.jobRole||c.email}),e.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:[c.jobRole||"Role not specified",c.companyName?` @ ${c.companyName}`:""]})]}),$.length?e.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(A=>e.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold text-primary",children:A},A))}):null]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(Mi,{title:"Contact",items:[{label:"Email",value:c.email||"",isLink:c.email,linkPrefix:"mailto:"},{label:"Phone",value:c.contactNumber||""},{label:"Location",value:c.location||""},{label:"LinkedIn",value:c.linkedin||"",isLink:c.linkedin}]}),e.jsx(Mi,{title:"Professional",items:[{label:"Role",value:c.jobRole||""},{label:"Company",value:c.companyName||""},{label:"Industry",value:c.industry||""},{label:"Experience",value:c.experience||""}]}),e.jsx(Mi,{title:"Academic",items:[{label:"Graduation Year",value:c.graduationYear||""},{label:"Department",value:c.department||""},{label:"Preferred Students",value:c.preferredStudents||""},{label:"Weekly Hours",value:c.weeklyHours||""}]}),e.jsx(Mi,{title:"Availability",items:[{label:"Availability",value:c.availability||""},{label:"Modes",value:(c.modes||[]).join(", ")||""},{label:"Max Students",value:c.maxStudents||""},{label:"Skills",value:c.skills||""}]})]}),e.jsxs("section",{className:"space-y-4 rounded-3xl border border-slate-200 bg-slate-50/60 p-6",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-900",children:["About ",Y]}),e.jsx("button",{type:"button",onClick:b,className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-primary hover:text-primary",children:"Refresh"})]}),e.jsx("p",{className:"text-sm text-slate-600",children:c.bio||"No mentorship summary published yet."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-400",children:"Areas of Expertise"}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:F.length?F.map(A=>e.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold text-primary",children:A},A)):e.jsx("span",{className:"text-xs text-slate-500",children:"Expertise not specified."})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-400",children:"Mentorship Focus"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600",children:c.motivation||"No motivation shared yet."})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("article",{className:"rounded-3xl border border-primary/30 bg-gradient-to-br from-slate-50 via-white to-primary/10 p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-900",children:["Work with ",Y]}),e.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Explore services and resources curated by this mentor. When you are ready, send a mentorship request to get started."}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[e.jsxs("div",{className:"rounded-2xl border border-white/60 bg-white/70 px-4 py-2 text-xs font-semibold text-slate-500",children:[H.length," Services"]}),e.jsxs("div",{className:"rounded-2xl border border-white/60 bg-white/70 px-4 py-2 text-xs font-semibold text-slate-500",children:[U.length," Resources"]})]}),!B&&!P?e.jsx("button",{type:"button",className:"mt-6 inline-flex items-center justify-center gap-2 rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-primary/90 disabled:opacity-60",onClick:()=>f(!0),disabled:g||N,children:N?"Checking":"Request Mentorship"}):null,!B&&P?e.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3 rounded-2xl border border-primary/30 bg-white/70 px-4 py-3 text-xs text-primary",children:[e.jsx("span",{className:"font-semibold uppercase tracking-[0.2em]",children:z||"Request Pending"}),e.jsx("button",{type:"button",onClick:()=>a("/dashboard/my-activity/requests"),className:"rounded-full border border-primary/40 px-3 py-1 font-semibold text-primary transition hover:border-primary hover:bg-primary/10",children:"View in Requests"})]}):null]}),e.jsxs("section",{className:"space-y-4 rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("header",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Services Offered"})}),e.jsx("div",{className:"space-y-4",children:H.length?H.map(A=>e.jsxs("article",{className:"space-y-3 rounded-2xl border border-slate-200 bg-slate-50/60 p-5",children:[e.jsxs("header",{className:"space-y-1",children:[e.jsx("h3",{className:"text-base font-semibold text-slate-900",children:A.title}),e.jsxs("p",{className:"text-xs text-slate-400",children:[A.duration||"Duration not specified","  ",A.mode?A.mode.toUpperCase():"Mode TBD"]})]}),e.jsx("p",{className:"text-sm text-slate-600",children:A.description||"No description provided."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs font-semibold",children:[e.jsx("span",{className:`rounded-full px-3 py-1 ${A.status==="active"?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-600"}`,children:A.status==="active"?"Active service":"Inactive service"}),e.jsxs("span",{className:"text-slate-500",children:["Price: ",Number.isFinite(A.price)?`${A.price}`:""]})]})]},A.id||A.title)):e.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500",children:"The mentor has not published any services yet."})})]}),e.jsxs("section",{className:"space-y-4 rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("header",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Resources & Materials"})}),e.jsx("div",{className:"space-y-3",children:U.length?U.map(A=>e.jsxs("article",{className:"flex flex-wrap items-center justify-between gap-4 rounded-2xl border border-slate-200 bg-slate-50/60 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-semibold text-primary",children:A.type?.slice(0,2).toUpperCase()||"RS"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:A.title}),e.jsx("p",{className:"text-xs text-slate-500",children:A.description||"No description provided."})]})]}),e.jsx("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-semibold text-primary hover:underline",children:"Open resource"})]},A.id||A.title)):e.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500",children:"The mentor has not shared any resources yet."})})]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("section",{className:"space-y-4 rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Work Experience"}),e.jsxs("span",{className:"text-xs text-slate-500",children:[T.length," entries"]})]}),e.jsx("div",{className:"space-y-3",children:T.length?T.map((A,R)=>e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-slate-50/60 p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:A.role||"Role not specified"}),e.jsx("p",{className:"text-xs text-slate-500",children:A.company||"Company not specified"})]}),e.jsxs("span",{className:"text-xs text-slate-500",children:[A.startDate||"Start N/A","  ",A.isCurrentJob?"Present":A.endDate||"End N/A"]})]}),A.description?e.jsx("p",{className:"mt-2 text-sm text-slate-600",children:A.description}):null]},`${A.company}-${A.role}-${R}`)):e.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-5 text-center text-sm text-slate-500",children:"No work experience has been published yet."})})]}),e.jsxs("section",{className:"space-y-4 rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Education"}),e.jsxs("span",{className:"text-xs text-slate-500",children:[O.length," entries"]})]}),e.jsx("div",{className:"space-y-3",children:O.length?O.map((A,R)=>e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-slate-50/60 p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:A.degree||"Degree not specified"}),e.jsx("p",{className:"text-xs text-slate-500",children:A.institution||"Institution not specified"})]}),e.jsxs("span",{className:"text-xs text-slate-500",children:[A.admissionYear||"Start N/A","  ",A.isCurrentlyPursuing?"Present":A.passoutYear||"End N/A"]})]}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Field: ",A.field||A.department||"Not specified"]}),A.cgpa?e.jsxs("p",{className:"text-xs text-slate-500",children:["CGPA: ",A.cgpa]}):null,A.description?e.jsx("p",{className:"mt-2 text-sm text-slate-600",children:A.description}):null]},`${A.institution}-${A.degree}-${R}`)):e.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-5 text-center text-sm text-slate-500",children:"Education details are not available yet."})})]})]}),y&&!B&&e.jsx(r6,{mentorName:c.fullName||c.jobRole||c.email,services:H,onClose:()=>f(!1),onSubmit:I,submitting:g})]})},Mi=({title:a,items:n})=>e.jsxs("article",{className:"space-y-3 rounded-3xl border border-slate-200 bg-white p-5 shadow-sm",children:[e.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:a}),e.jsx("ul",{className:"space-y-2 text-xs text-slate-600",children:n.map(({label:r,value:o,isLink:c,linkPrefix:u})=>e.jsxs("li",{className:"flex items-center justify-between gap-3",children:[e.jsx("span",{className:"font-semibold uppercase tracking-widest text-slate-400",children:r}),c&&o?e.jsx("a",{href:`${u??""}${o}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:o}):e.jsx("span",{className:"text-slate-700",children:o||""})]},r))})]}),r6=({mentorName:a,services:n,onClose:r,onSubmit:o,submitting:c})=>{const[u,p]=x.useState(()=>n?.[0]?.id||""),[b,y]=x.useState(""),[f,g]=x.useState(()=>n?.[0]?.mode||"online"),[h,v]=x.useState(""),C=N=>{N.preventDefault(),o({serviceId:u||void 0,preferredDateTime:b?new Date(b).toISOString():void 0,preferredMode:f,notes:h})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 px-4 py-8",children:e.jsxs("form",{onSubmit:C,className:"w-full max-w-lg space-y-6 rounded-3xl border border-slate-200 bg-white p-6 shadow-xl",children:[e.jsxs("header",{className:"space-y-2",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Request Mentorship"}),e.jsxs("p",{className:"text-sm text-slate-500",children:["Select a service and send your request to ",e.jsx("span",{className:"font-semibold text-slate-700",children:a}),"."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-semibold uppercase tracking-widest text-slate-400",children:"Service"}),n?.length?e.jsx("div",{className:"space-y-2",children:n.map(N=>e.jsxs("label",{className:"flex cursor-pointer items-start gap-3 rounded-2xl border border-slate-200 p-4 hover:border-primary/40",children:[e.jsx("input",{type:"radio",name:"service",className:"mt-1",value:N.id,checked:u===N.id,onChange:()=>{p(N.id),g(N.mode||"online")}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:N.title}),e.jsxs("p",{className:"text-xs text-slate-500",children:[N.duration||"Duration not specified","  ",N.mode?.toUpperCase?.()||"ONLINE"]}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:N.description||"No description provided."})]})]},N.id))}):e.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-4 text-xs text-slate-500",children:"This mentor has no published services. Your request will be sent as a general mentorship session."})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-1",children:[e.jsxs("label",{className:"space-y-2 text-xs font-semibold uppercase tracking-widest text-slate-400",children:[e.jsx("span",{className:"block text-slate-400",children:"Preferred Date"}),e.jsx("input",{type:"date",className:"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",value:b?b.split("T")[0]:"",onChange:N=>y(N.target.value?N.target.value+"T10:00:00":""),min:new Date().toISOString().split("T")[0]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Mentor will confirm the exact time"})]}),e.jsxs("label",{className:"space-y-2 text-xs font-semibold uppercase tracking-widest text-slate-400",children:[e.jsx("span",{className:"block text-slate-400",children:"Preferred Mode"}),e.jsxs("select",{className:"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",value:f,onChange:N=>g(N.target.value),children:[e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"offline",children:"Offline"}),e.jsx("option",{value:"hybrid",children:"Hybrid"})]})]})]}),e.jsxs("label",{className:"space-y-2 text-xs font-semibold uppercase tracking-widest text-slate-400",children:[e.jsx("span",{className:"block text-slate-400",children:"Notes for mentor"}),e.jsx("textarea",{rows:4,className:"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Share your goals, background, or any context to help the mentor prepare.",value:h,onChange:N=>v(N.target.value)})]})]}),e.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:r,className:"rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-700",disabled:c,children:"Cancel"}),e.jsx("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white transition hover:bg-primary/90 disabled:opacity-60",disabled:c,children:c?"Sending":"Send Request"})]})]})})},i6=({user:a={}})=>{const n=Je(a.profileApprovalStatus),r=Rs(a.registrationStatus),o=a?.role?.toLowerCase()!=="admin"&&r===it.PENDING,c=a?.role?.toLowerCase()!=="admin"&&r===it.REJECTED,u=!o&&!c&&n===ke.REJECTED,p=c||u,b=c?"Registration Not Approved":o?"Registration Under Review":u?"Profile Not Approved":"Profile Under Review",y=c?"Your registration request could not be approved.":o?"Your registration is currently being reviewed by your department coordinator.":u?"Your profile could not be approved at this time.":"Your profile is currently being reviewed by our administrators.",f=c?a.registrationRejectionReason:a.profileRejectionReason;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary/5 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${p?"bg-rose-100":"bg-amber-100"}`,children:p?e.jsx(Ra,{className:"h-8 w-8 text-rose-600"}):e.jsx(us,{className:"h-8 w-8 text-amber-600 animate-pulse"})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:b}),e.jsx("p",{className:"text-slate-600",children:y})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 p-8 shadow-soft",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:`rounded-xl p-4 ${p?"bg-rose-50 border border-rose-200":"bg-amber-50 border border-amber-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[p?e.jsx(Ra,{className:"h-5 w-5 text-rose-600 flex-shrink-0 mt-0.5"}):e.jsx(us,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold mb-1 ${p?"text-rose-800":"text-amber-800"}`,children:c?"Registration Decision":o?"Registration Timeline":u?"Profile Decision":"Profile Timeline"}),e.jsx("p",{className:`text-sm ${p?"text-rose-700":"text-amber-700"}`,children:p?`Your submission was reviewed but could not be approved. ${f?`Reason: ${f}`:"Please contact support for more details."}`:o?"Department coordinators typically review new registrations within 2-3 business days. You will receive an email once a decision has been made.":"Our team typically reviews profiles within 2-4 business days. You will receive an email notification once a decision has been made."})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"What you can do:"}),e.jsxs("ul",{className:"space-y-3 text-sm text-slate-600",children:[o||c?e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5",children:""}),e.jsx("span",{children:"Verify that your registration details, especially department selection, are accurate."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5",children:""}),e.jsx("span",{children:"Reach out to your department coordinator if you require expedited review or have supporting documents."})]})]}):null,e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5",children:""}),e.jsx("span",{children:"Complete your profile with detailed academic and professional information."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5",children:""}),e.jsx("span",{children:"Add a professional profile photo to help reviewers verify your identity."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5",children:""}),e.jsx("span",{children:"Check your inbox and spam folder for messages from the AlumConnect team."})]})]})]}),e.jsx("div",{className:"rounded-xl p-4 bg-slate-50 border border-slate-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ki,{className:"h-5 w-5 text-slate-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Need Help?"}),e.jsx("p",{className:"text-sm text-slate-700",children:"If you have questions about your review status or need to submit additional information, please contact support@alumconnect.com with your registered email address."})]})]})})]})})]})})},z0=["Your Goals","Your Background","Your Skills"],Di="bg-gradient-to-br from-[#eef2ff] via-[#fafaff] to-[#ffffff]",U0=["#FF8A80","#FF80AB","#B388FF","#8C9EFF","#80D8FF","#A7FFEB","#CCFF90","#FFE082","#FFAB91","#CFD8DC"],o6=["#4FC3F7","#4DB6AC","#81C784","#AED581","#FFD54F","#FF8A65","#BA68C8","#9575CD","#7986CB","#64B5F6"],c6=({current:a})=>e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3 text-slate-600",children:z0.map((n,r)=>{const o=r+1,c=o===a,u=o<a;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold transition ${c?"bg-gradient-to-br from-[#4361ee] to-[#4cc9f0] text-white shadow-lg shadow-blue-200/60":u?"border border-slate-300 bg-white text-slate-700":"border border-slate-200 bg-white text-slate-400"}`,children:o}),e.jsx("span",{className:`text-sm font-medium ${c?"text-slate-900":"text-slate-500"}`,children:n}),o<z0.length?e.jsx("span",{className:"text-slate-300",children:""}):null]},n)})}),fu=({title:a,description:n,options:r,selected:o,onToggle:c,palette:u,multiSelect:p=!0})=>e.jsxs("section",{className:"space-y-4",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:a}),e.jsx("p",{className:"text-sm text-slate-500",children:n})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:r.map((b,y)=>{const f=o.includes(b),g=u[y%u.length];return e.jsx("button",{type:"button",onClick:()=>c(b),style:f?{background:g,borderColor:g}:void 0,className:`rounded-full border px-4 py-2 text-sm font-semibold transition ${f?"text-white shadow-lg shadow-slate-400/30":"border-slate-200 bg-white text-slate-600 hover:border-slate-300 hover:text-slate-900"}`,children:b},b)})})]}),P0=()=>e.jsxs("div",{className:"mx-auto max-w-xl space-y-3 rounded-3xl border border-slate-200 bg-white/70 p-6 text-center text-slate-600 shadow-lg shadow-blue-100/40 backdrop-blur",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("span",{className:"h-3 w-3 animate-ping rounded-full bg-[#4361ee]"}),e.jsx("span",{className:"h-3 w-3 animate-ping rounded-full bg-[#4cc9f0] [animation-delay:150ms]"}),e.jsx("span",{className:"h-3 w-3 animate-ping rounded-full bg-[#4895ef] [animation-delay:300ms]"})]}),e.jsx("p",{className:"text-sm font-semibold tracking-wide text-slate-700",children:"Finding your ideal mentors..."}),e.jsx("p",{className:"text-xs text-slate-500",children:"This usually takes a few moments."})]}),d6=({match:a,onViewProfile:n})=>{const{mentor:r,matchScore:o,shortReason:c}=a;if(!r)return null;console.log("Mentor data:",r);const u=o>=80?"text-emerald-500":o>=60?"text-amber-500":"text-slate-600",p=b=>b>=80?"Strong Match":b>=60?"Good Match":b>=40?"Partial Match":"Low Match";return e.jsxs("article",{className:"flex flex-col gap-4 rounded-3xl border border-slate-200 bg-white p-6 text-slate-700 shadow-xl shadow-slate-200/50 transition hover:-translate-y-1 hover:shadow-2xl",children:[e.jsxs("header",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:r.avatar||"https://picsum.photos/seed/mentor/100/100.jpg",alt:`${r.fullName||r.name} avatar`,className:"h-14 w-14 rounded-full border-2 border-white object-cover shadow-md"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:r.fullName||r.name}),e.jsx("p",{className:"text-sm text-slate-500",children:r.jobRole||r.position||r.currentRole})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-3xl font-semibold ${u}`,children:o}),e.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:p(o)})]})]}),e.jsx("p",{className:"text-sm text-slate-600",children:c}),e.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-slate-500",children:(r.expertise||r.skills||[])?.slice(0,4)?.map(b=>e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1",children:b},b))}),e.jsx("button",{onClick:()=>n(r),className:"w-full rounded-2xl bg-gradient-to-r from-[#4361ee] to-[#4cc9f0] py-3 text-center font-semibold text-white shadow-lg transition hover:shadow-xl",children:"View Profile"})]})},u6=()=>{const{user:a}=ye(),n=Te(),{items:r,loading:o}=so(),[c,u]=x.useState(1),[p,b]=x.useState(!1),[y,f]=x.useState([]),[g,h]=x.useState({goals:[],background:"",skills:[],experience:""}),v=["Career guidance","Job / placement preparation","Skill improvement","Higher studies","Startup / entrepreneurship","Leadership / management growth"],C=["Student","Fresher","Working professional","Career switcher","Founder / Entrepreneur"],N=["Frontend Development","Backend Development","Full Stack Development","UI/UX Design","Product Design","Artificial Intelligence","Data Science","Machine Learning","DevOps","Cloud Computing","Business Strategy","Business Management","Marketing","Sales","Research","Academics","Teaching","Project Management","Leadership"],k=["Beginner","Intermediate","Advanced"],j=U=>{h(T=>({...T,goals:T.goals.includes(U)?T.goals.filter(O=>O!==U):[...T.goals,U]}))},S=U=>{h(T=>({...T,background:U}))},_=U=>{h(T=>({...T,skills:T.skills.includes(U)?T.skills.filter(O=>O!==U):[...T.skills,U]}))},B=U=>{h(T=>({...T,experience:U}))},D=()=>{c<3?u(c+1):P()},E=()=>{c>1&&u(c-1)},P=async()=>{b(!0),await new Promise(O=>setTimeout(O,2e3));const T=r.map(O=>{let Y=0;const W=Array.isArray(O.mentorshipAreas)?O.mentorshipAreas:Array.isArray(O.expertise)?O.expertise:[],I=Array.isArray(O.skills)?O.skills:Array.isArray(O.expertise)?O.expertise:[];Y+=50;const A=g.goals.some(q=>W.some(J=>J&&J.toLowerCase().includes(q.toLowerCase())));A&&(Y+=25),g.background==="Student"&&O.role?.toLowerCase().includes("academic")&&(Y+=20),g.background==="Working professional"&&O.experience>3&&(Y+=20),g.background==="Fresher"&&O.experience>2&&(Y+=20),g.background==="Career switcher"&&O.experience>5&&(Y+=20),g.background==="Founder / Entrepreneur"&&O.role?.toLowerCase().includes("founder")&&(Y+=20);const R=g.skills.filter(q=>I.some(J=>J&&J.toLowerCase().includes(q.toLowerCase())));return Y+=Math.min(30,R.length*15),g.experience==="Beginner"&&O.experience>=2&&(Y+=15),g.experience==="Intermediate"&&O.experience>=4&&(Y+=15),g.experience==="Advanced"&&O.experience>=6&&(Y+=15),g.experience||(Y+=10),O.experience>=5&&(Y+=5),O.experience>=10&&(Y+=5),W.length>0&&(Y+=5),I.length>0&&(Y+=5),A&&R.length>0&&(Y+=10),R.length>=2&&(Y+=5),R.length>=3&&(Y+=5),{mentor:O,matchScore:Math.min(100,Y+Math.floor(Math.random()*10)),shortReason:z(O,g)}}).filter(O=>O.matchScore>=75).sort((O,Y)=>Y.matchScore-O.matchScore).slice(0,5);f(T),b(!1),u(4)},z=(U,T)=>{const O=[];if(T.goals.length>0&&O.push(`Aligns with your ${T.goals[0]} goals`),T.skills.length>0){const W=(Array.isArray(U.skills)?U.skills:Array.isArray(U.expertise)?U.expertise:[]).find(I=>I&&T.skills.some(A=>I.toLowerCase().includes(A.toLowerCase())));W&&O.push(`Expert in ${W}`)}return T.background&&U.experience&&O.push(`${U.experience}+ years of experience`),O.join("  ")||"Strong industry expertise and mentorship experience"},$=U=>{const T=U._id||U.id||U.mentorId||U.userId;if(!T){console.error("Mentor ID not found:",U),alert("Mentor profile not available. Please try again later.");return}console.log("Navigating to mentor profile:",T),n(`/dashboard/mentors/${T}`)},F=()=>{u(1),f([]),h({goals:[],background:"",skills:[],experience:""})},H=()=>{switch(c){case 1:return g.goals.length>0;case 2:return g.background!=="";case 3:return g.skills.length>0;default:return!0}};return o?e.jsx("div",{className:`min-h-screen ${Di} flex items-center justify-center`,children:e.jsx(P0,{})}):p?e.jsx("div",{className:`min-h-screen ${Di} flex items-center justify-center`,children:e.jsx(P0,{})}):y.length>0?e.jsx("div",{className:`min-h-screen ${Di}`,children:e.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-8",children:[e.jsxs("header",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Your Mentor Recommendations"}),e.jsx("p",{className:"text-slate-600",children:"Based on your profile, we found these high-quality mentors (75+ match score)"})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Your Profile Summary"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Goals:"}),e.jsx("p",{className:"font-medium text-slate-900",children:g.goals.join(", ")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Background:"}),e.jsx("p",{className:"font-medium text-slate-900",children:g.background})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Skills:"}),e.jsx("p",{className:"font-medium text-slate-900",children:g.skills.join(", ")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Experience:"}),e.jsx("p",{className:"font-medium text-slate-900",children:g.experience||"Not specified"})]})]})]})}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:y.map((U,T)=>e.jsx(d6,{match:U,onViewProfile:$},T))}),y.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.314 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Strong Matches Found"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"We couldn't find mentors with 75+ match score based on your current preferences. Try adjusting your selections to get more matches."}),e.jsx("button",{onClick:F,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200",children:"Update Your Preferences"})]}),y.length>0&&e.jsx("div",{className:"mt-8 text-center",children:e.jsx("button",{onClick:F,className:"rounded-2xl border border-slate-200 bg-white px-6 py-3 font-semibold text-slate-700 shadow-sm transition hover:bg-slate-50",children:"Start Over"})})]})}):e.jsx("div",{className:`min-h-screen ${Di}`,children:e.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-8",children:[e.jsxs("header",{className:"mb-8 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:()=>n("/dashboard/mentorship"),className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm transition hover:bg-slate-50",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Mentorship"]})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Find Your Perfect Mentor"}),e.jsx("p",{className:"text-slate-600",children:"Answer a few questions to get personalized mentor recommendations"})]}),e.jsx(c6,{current:c}),e.jsxs("div",{className:"mt-8 rounded-3xl bg-white p-8 shadow-lg",children:[c===1&&e.jsx(fu,{title:"What are your primary goals?",description:"Select all that apply (choose at least one)",options:v,selected:g.goals,onToggle:j,palette:U0}),c===2&&e.jsx(fu,{title:"What's your current background?",description:"Select one option that best describes you",options:C,selected:g.background?[g.background]:[],onToggle:S,palette:o6,multiSelect:!1}),c===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(fu,{title:"What skills or areas interest you?",description:"Select all that apply (choose at least one)",options:N,selected:g.skills,onToggle:_,palette:U0}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Experience Level (Optional)"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Help us find mentors with the right experience level"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:k.map(U=>e.jsx("button",{type:"button",onClick:()=>B(U),className:`rounded-full border px-4 py-2 text-sm font-semibold transition ${g.experience===U?"border-blue-500 bg-blue-500 text-white":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:U},U))})]})]}),e.jsxs("div",{className:"mt-8 flex justify-between",children:[e.jsx("button",{onClick:c===1?()=>n("/dashboard/mentorship"):E,className:"rounded-2xl border border-slate-200 bg-white px-6 py-3 font-semibold text-slate-700 shadow-sm transition hover:bg-slate-50",children:c===1?"Back to Mentorship":"Previous"}),e.jsx("button",{onClick:D,disabled:!H(),className:`rounded-2xl px-6 py-3 font-semibold text-white shadow-lg transition ${H()?"bg-gradient-to-r from-[#4361ee] to-[#4cc9f0] hover:shadow-xl":"bg-slate-300 cursor-not-allowed"}`,children:c===3?"Get Recommendations":"Next"})]})]})]})})},bu="/admin/registration-approval/coordinator",gu="/admin/registration-approval/admin",m6=a=>a?typeof a=="string"?a:a.message||"Unable to complete the request.":"Something went wrong. Please try again.",Gb=()=>{const[a,n]=x.useState(!1),[r,o]=x.useState(null),c=x.useCallback(async h=>{n(!0),o(null);try{return await h()}catch(v){throw o(m6(v)),v}finally{n(!1)}},[]),u=x.useCallback((h="all")=>c(()=>{const v=h&&h!=="all"?`?role=${encodeURIComponent(h)}`:"";return ce(`${bu}/pending${v}`)}),[c]),p=x.useCallback(()=>c(()=>ce(`${bu}/stats`)),[c]),b=x.useCallback(({userId:h,role:v,action:C,reason:N})=>c(()=>_e(`${bu}/decision`,{userId:h,role:v,action:C,reason:N})),[c]),y=x.useCallback((h="all")=>c(()=>{const v=h&&h!=="all"?`?role=${encodeURIComponent(h)}`:"";return ce(`${gu}/pending${v}`)}),[c]),f=x.useCallback(()=>c(()=>ce(`${gu}/stats`)),[c]),g=x.useCallback(({userId:h,role:v,action:C,reason:N})=>c(()=>_e(`${gu}/decision`,{userId:h,role:v,action:C,reason:N})),[c]);return{loading:a,error:r,getCoordinatorPending:u,getCoordinatorStats:p,coordinatorDecision:b,getAdminPending:y,getAdminStats:f,adminDecision:g,setError:o}},x6=[{label:"All Roles",value:"all"},{label:"Students",value:"student"},{label:"Alumni",value:"alumni"}],p6={[it.PENDING]:"bg-amber-100 text-amber-700",[it.APPROVED]:"bg-emerald-100 text-emerald-700",[it.REJECTED]:"bg-rose-100 text-rose-700"},$0={student:{title:"No pending student registrations",message:"You are all caught up with student registrations for your department."},alumni:{title:"No pending alumni registrations",message:"All alumni registrations in your department have been reviewed."},all:{title:"No pending registrations",message:"New registrations from your department will appear here for review."}},yu=({icon:a,title:n,count:r,accent:o})=>e.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-5 shadow-soft ${o||""}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl bg-sky-100 text-sky-600",children:e.jsx(a,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500 uppercase tracking-[0.25em]",children:n}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:r})]})]})}),h6=({entry:a,onDecision:n,loading:r})=>{const o=a.name||Yu(a,a.email),c=a.createdAt?new Date(a.createdAt).toLocaleString():"",u=()=>n(a.id,a.role,"approve"),p=()=>n(a.id,a.role,"reject");return e.jsxs("tr",{className:"border-b border-slate-100 last:border-none",children:[e.jsx("td",{className:"px-4 py-4 align-top",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:o}),e.jsx("p",{className:"text-xs text-slate-500",children:a.email}),e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 text-xs",children:[e.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2.5 py-1 font-medium text-slate-600",children:a.role==="student"?"Student":"Alumni"}),e.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2.5 py-1 font-medium text-slate-600",children:a.department||"Department N/A"}),e.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-2.5 py-1 font-medium text-xs ${p6[a.registrationStatus]}`,children:a.registrationStatus})]})]})}),e.jsx("td",{className:"px-4 py-4 align-top",children:e.jsxs("div",{className:"grid gap-1 text-xs text-slate-600",children:[a.metadata.prnNumber?e.jsxs("span",{children:[e.jsx("span",{className:"font-medium",children:"PRN:"})," ",a.metadata.prnNumber]}):null,a.metadata.admissionYear?e.jsxs("span",{children:[e.jsx("span",{className:"font-medium",children:"Admission Year:"})," ",a.metadata.admissionYear]}):null,a.metadata.expectedPassoutYear?e.jsxs("span",{children:[e.jsx("span",{className:"font-medium",children:"Expected Passout:"})," ",a.metadata.expectedPassoutYear]}):null,a.metadata.passoutYear?e.jsxs("span",{children:[e.jsx("span",{className:"font-medium",children:"Passout Year:"})," ",a.metadata.passoutYear]}):null,e.jsxs("span",{children:[e.jsx("span",{className:"font-medium",children:"Submitted:"})," ",c]})]})}),e.jsx("td",{className:"px-4 py-4 align-top",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:u,disabled:r,className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-emerald-700 disabled:cursor-not-allowed disabled:bg-emerald-300",children:[e.jsx(pb,{className:"h-4 w-4"})," Approve"]}),e.jsxs("button",{type:"button",onClick:p,disabled:r,className:"inline-flex items-center gap-2 rounded-full bg-rose-100 px-4 py-2 text-sm font-semibold text-rose-600 hover:bg-rose-200 disabled:cursor-not-allowed disabled:bg-rose-50",children:[e.jsx(Hu,{className:"h-4 w-4"})," Reject"]})]})})]})},f6=()=>{const{user:a}=ye(),n=je(),{loading:r,error:o,setError:c,getCoordinatorPending:u,getCoordinatorStats:p,coordinatorDecision:b}=Gb(),[y,f]=x.useState("all"),[g,h]=x.useState({students:[],alumni:[],coordinator:null}),[v,C]=x.useState({student:{pending:0},alumni:{pending:0}}),[N,k]=x.useState(!1),j=x.useCallback(async()=>{try{const D=await u(y),E=await p();h(D.data),C(E.data)}catch(D){n({tone:"error",title:"Unable to load registrations",description:D?.message})}},[n,u,p,y]);x.useEffect(()=>{j()},[j]);const S=x.useMemo(()=>y==="student"?g.students??[]:y==="alumni"?g.alumni??[]:[...g.students??[],...g.alumni??[]],[g.students,g.alumni,y]),_=async(D,E,P)=>{try{k(!0);const z=P==="reject"?window.prompt("Provide a reason for rejection"):void 0;await b({userId:D,role:E,action:P,reason:z}),n({tone:"success",title:`Registration ${P}d`}),await j()}catch(z){n({tone:"error",title:"Unable to update registration",description:z?.message})}finally{k(!1)}},B=$0[y]??$0.all;return e.jsxs("section",{className:"space-y-8",children:[e.jsxs("header",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:"Registration Approvals"}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Department Registrations"}),e.jsxs("p",{className:"max-w-2xl text-sm text-slate-600",children:["Review and approve new student and alumni registrations submitted for the ",a?.profile?.department||"department"," department."]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx(yu,{icon:Su,title:"Pending Students",count:v.student?.pending??0}),e.jsx(yu,{icon:Su,title:"Pending Alumni",count:v.alumni?.pending??0}),e.jsx(yu,{icon:us,title:"Total Pending",count:S.length})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-2xl border border-slate-200 bg-white p-4 shadow-soft",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[e.jsx(Hi,{className:`h-4 w-4 ${r?"animate-spin text-sky-500":""}`}),"Last synced moments ago"]}),e.jsxs("div",{className:"ml-auto flex gap-3",children:[e.jsx("select",{value:y,onChange:D=>f(D.target.value),className:"rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-600 shadow focus:border-sky-400 focus:outline-none",children:x6.map(D=>e.jsx("option",{value:D.value,children:D.label},D.value))}),e.jsxs("button",{type:"button",onClick:j,className:"inline-flex items-center gap-2 rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700",children:[e.jsx(Hi,{className:"h-4 w-4"})," Refresh"]})]})]}),o?e.jsxs("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-600",children:[o,e.jsx("button",{type:"button",onClick:()=>c(null),className:"ml-3 text-xs font-semibold underline",children:"Dismiss"})]}):null,e.jsx("div",{className:"overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-xl",children:S.length?e.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[e.jsx("thead",{className:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-[0.25em] text-slate-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-4",children:"Registrant"}),e.jsx("th",{className:"px-4 py-4",children:"Details"}),e.jsx("th",{className:"px-4 py-4",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:S.map(D=>e.jsx(h6,{entry:D,onDecision:_,loading:N},D.id))})]}):e.jsxs("div",{className:"flex flex-col items-center gap-3 px-8 py-16 text-center",children:[e.jsx(us,{className:"h-10 w-10 text-slate-300"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:B.title}),e.jsx("p",{className:"max-w-md text-sm text-slate-500",children:B.message})]})})]})},b6=[{label:"All Roles",value:"all"},{label:"Faculty",value:"faculty"},{label:"Coordinators",value:"coordinator"}],g6={[it.PENDING]:"bg-amber-100 text-amber-700",[it.APPROVED]:"bg-emerald-100 text-emerald-700",[it.REJECTED]:"bg-rose-100 text-rose-700"},Y0={faculty:{title:"No faculty awaiting approval",message:"All faculty registrations have been reviewed and actioned."},coordinator:{title:"No coordinator requests pending",message:"No department coordinator registrations require action right now."},all:{title:"No pending registrations",message:"New faculty and coordinator registrations will surface here for review."}},Li=({icon:a,title:n,count:r,accent:o})=>e.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-5 shadow-soft ${o||""}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900/5 text-slate-700",children:e.jsx(a,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-400",children:n}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:r})]})]})}),y6=({entry:a,onDecision:n,loading:r})=>{const o=a.name||Yu(a,a.email),c=a.createdAt?new Date(a.createdAt).toLocaleString():"",u=()=>n(a.id,a.role,"approve"),p=()=>n(a.id,a.role,"reject");return e.jsxs("tr",{className:"border-b border-slate-100 last:border-none",children:[e.jsx("td",{className:"px-4 py-4 align-top",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:o}),e.jsx("p",{className:"text-xs text-slate-500",children:a.email}),e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 text-xs",children:[e.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2.5 py-1 font-medium text-slate-600",children:a.role==="faculty"?"Faculty":"Coordinator"}),e.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2.5 py-1 font-medium text-slate-600",children:a.department||"Department N/A"}),e.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-2.5 py-1 font-medium text-xs ${g6[a.registrationStatus]}`,children:a.registrationStatus})]})]})}),e.jsx("td",{className:"px-4 py-4 align-top",children:e.jsxs("div",{className:"grid gap-1 text-xs text-slate-600",children:[a.metadata.title?e.jsxs("span",{children:[e.jsx("span",{className:"font-medium",children:"Title:"})," ",a.metadata.title]}):null,a.metadata.phone?e.jsxs("span",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",a.metadata.phone]}):null,e.jsxs("span",{children:[e.jsx("span",{className:"font-medium",children:"Submitted:"})," ",c]})]})}),e.jsx("td",{className:"px-4 py-4 align-top",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:u,disabled:r,className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-emerald-700 disabled:cursor-not-allowed disabled:bg-emerald-300",children:[e.jsx(pb,{className:"h-4 w-4"})," Approve"]}),e.jsxs("button",{type:"button",onClick:p,disabled:r,className:"inline-flex items-center gap-2 rounded-full bg-rose-100 px-4 py-2 text-sm font-semibold text-rose-600 hover:bg-rose-200 disabled:cursor-not-allowed disabled:bg-rose-50",children:[e.jsx(Hu,{className:"h-4 w-4"})," Reject"]})]})})]})},v6=()=>{const{user:a}=ye(),n=je(),{loading:r,error:o,setError:c,getAdminPending:u,getAdminStats:p,adminDecision:b}=Gb(),[y,f]=x.useState("all"),[g,h]=x.useState({faculty:[],coordinators:[]}),[v,C]=x.useState({faculty:{pending:0},coordinator:{pending:0}}),[N,k]=x.useState(!1),j=x.useCallback(async()=>{try{const[D,E]=await Promise.all([u(y),p()]);h(D.data),C(E.data)}catch(D){n({tone:"error",title:"Unable to load registrations",description:D?.message})}},[n,u,p,y]);x.useEffect(()=>{j()},[j]);const S=x.useMemo(()=>y==="faculty"?g.faculty??[]:y==="coordinator"?g.coordinators??[]:[...g.faculty??[],...g.coordinators??[]],[g.faculty,g.coordinators,y]),_=async(D,E,P)=>{try{k(!0);const z=P==="reject"?window.prompt("Provide a reason for rejection"):void 0;await b({userId:D,role:E,action:P,reason:z}),n({tone:"success",title:`Registration ${P}d`}),await j()}catch(z){n({tone:"error",title:"Unable to update registration",description:z?.message})}finally{k(!1)}},B=Y0[y]??Y0.all;return e.jsxs("section",{className:"space-y-8",children:[e.jsxs("header",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:"Administration"}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Platform Registration Approvals"}),e.jsx("p",{className:"max-w-2xl text-sm text-slate-600",children:"Review and action new faculty and department coordinator registrations across AlumConnect. Approved coordinators will gain access to department dashboards immediately."})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(Li,{icon:Su,title:"Pending Faculty",count:v.faculty?.pending??0}),e.jsx(Li,{icon:y1,title:"Pending Coordinators",count:v.coordinator?.pending??0}),e.jsx(Li,{icon:us,title:"Total Pending",count:S.length}),e.jsx(Li,{icon:Hu,title:"Decisions Today",count:0,accent:"bg-slate-900/5"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-2xl border border-slate-200 bg-white p-4 shadow-soft",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[e.jsx(Hi,{className:`h-4 w-4 ${r?"animate-spin text-sky-500":""}`}),"Last synced moments ago"]}),e.jsxs("div",{className:"ml-auto flex gap-3",children:[e.jsx("select",{value:y,onChange:D=>f(D.target.value),className:"rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-600 shadow focus:border-sky-400 focus:outline-none",children:b6.map(D=>e.jsx("option",{value:D.value,children:D.label},D.value))}),e.jsxs("button",{type:"button",onClick:j,className:"inline-flex items-center gap-2 rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700",children:[e.jsx(Hi,{className:"h-4 w-4"})," Refresh"]})]})]}),o?e.jsxs("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-600",children:[o,e.jsx("button",{type:"button",onClick:()=>c(null),className:"ml-3 text-xs font-semibold underline",children:"Dismiss"})]}):null,e.jsx("div",{className:"overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-xl",children:S.length?e.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[e.jsx("thead",{className:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-[0.25em] text-slate-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-4",children:"Registrant"}),e.jsx("th",{className:"px-4 py-4",children:"Details"}),e.jsx("th",{className:"px-4 py-4",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:S.map(D=>e.jsx(y6,{entry:D,onDecision:_,loading:N},D.id))})]}):e.jsxs("div",{className:"flex flex-col items-center gap-3 px-8 py-16 text-center",children:[e.jsx(us,{className:"h-10 w-10 text-slate-300"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:B.title}),e.jsx("p",{className:"max-w-md text-sm text-slate-500",children:B.message})]})})]})},j6=()=>{const a=Te(),{user:n,updateUser:r}=ye(),o=je(),[c,u]=x.useState(!1),[p,b]=x.useState(0),[y,f]=x.useState(null),[g,h]=x.useState(""),[v,C]=x.useState([]),[N,k]=x.useState(""),[j,S]=x.useState({fullName:"",email:"",phoneNumber:"",graduationYear:"",degree:"",department:"",currentLocation:"",currentJobTitle:"",company:"",industry:"",mentorshipAreas:[],expertise:[],mentorshipMode:"",availableDays:"",timeCommitment:"",mentorshipPreference:"",maxMentees:"",consent1:!1,consent2:!1,consent3:!1}),_=["IT / Software","Core Engineering","Management","Government","Startup","Research / Academia","Other"],B=["Career Guidance","Resume Review","Interview Preparation","Higher Studies Guidance","Startup / Entrepreneurship","Technical Mentorship","Leadership & Soft Skills"],D=["Computer Engineering","Information Technology","Artificial Intelligence & Data Science","Electronics & Telecommunication Engineering","Mechanical Engineering","Civil Engineering","Other"],E=["B.E. Computer Engineering","B.E. Information Technology","B.E. Electronics & Telecommunication","B.E. Mechanical Engineering","B.E. Civil Engineering","B.Tech Computer Engineering","B.Tech Information Technology","M.E. Computer Engineering","M.E. Information Technology","M.Tech Computer Engineering","MCA","Other"],P=[{title:"Basic Profile Details",description:"Identify the mentor clearly"},{title:"Professional & Mentorship Details",description:"Understand what help the mentor can offer"},{title:"Availability & Consent",description:"Set expectations clearly"}];x.useEffect(()=>{n&&S(A=>({...A,fullName:`${n.profile?.firstName||""} ${n.profile?.lastName||""}`.trim(),email:n.email||"",phoneNumber:n.profile?.phone||"",graduationYear:n.profile?.graduationYear||"",department:n.profile?.department||"",currentLocation:n.profile?.location||""}))},[n]);const z=A=>R=>{const q=R.target.type==="checkbox"?R.target.checked:R.target.value;S(J=>({...J,[A]:q}))},$=A=>{S(R=>({...R,mentorshipAreas:R.mentorshipAreas.includes(A)?R.mentorshipAreas.filter(q=>q!==A):[...R.mentorshipAreas,A]}))},F=()=>{N.trim()&&v.length<10&&(C([...v,N.trim()]),k(""))},H=A=>{C(v.filter(R=>R!==A))},U=A=>{const R=A.target.files[0];if(R){if(R.size>2*1024*1024){o({title:"File too large",description:"Profile photo must be less than 2MB",tone:"error"});return}f(R);const q=new FileReader;q.onloadend=()=>{h(q.result)},q.readAsDataURL(R)}},T=()=>{switch(p){case 0:return j.fullName.trim()?j.email.trim()?j.graduationYear.trim()?j.department.trim()?null:"Department is required":"Graduation year is required":"Email is required":"Full name is required";case 1:return j.currentJobTitle.trim()?j.company.trim()?j.industry.trim()?j.mentorshipAreas.length===0?"At least one mentorship area is required":v.length===0?"At least one skill is required":null:"Industry is required":"Company is required":"Current job title is required";case 2:return j.mentorshipMode.trim()?j.availableDays.trim()?j.timeCommitment.trim()?j.mentorshipPreference.trim()?j.maxMentees.trim()?!j.consent1||!j.consent2||!j.consent3?"All consent checkboxes must be checked":null:"Maximum mentees is required":"Mentorship preference is required":"Time commitment is required":"Available days selection is required":"Preferred mentorship mode is required";default:return null}},O=()=>{const A=T();if(A){o({title:"Validation Error",description:A,tone:"error"});return}p<P.length-1&&b(p+1)},Y=()=>{p>0&&b(p-1)},W=async A=>{A.preventDefault();const R=T();if(R){o({title:"Validation Error",description:R,tone:"error"});return}u(!0);try{const q=new FormData;Object.keys(j).forEach(M=>{M.startsWith("consent")?q.append(M,j[M]?"true":"false"):q.append(M,j[M])}),q.append("mentorshipAreas",JSON.stringify(j.mentorshipAreas)),q.append("expertise",JSON.stringify(v)),y&&q.append("profilePhoto",y);const J=await _e("/mentors/applications",q);if(J.success)r({isMentor:!0,profile:{...n?.profile||{},isMentor:!0}}),o({title:"Registration Successful!",description:"You have been successfully registered as a mentor.",tone:"success"}),setTimeout(()=>{a("/user/mentorship/dashboard")},2e3);else throw new Error(J.message||"Failed to register as mentor")}catch(q){console.error("Mentor registration error:",q),o({title:"Registration Failed",description:q.message||"Failed to register as mentor. Please try again.",tone:"error"})}finally{u(!1)}},I=()=>{switch(p){case 0:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:" STEP 1: Basic Profile Details"}),e.jsx("p",{className:"text-sm text-slate-600",children:" Purpose: Identify the mentor clearly."})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:j.fullName,onChange:z("fullName"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 placeholder:text-slate-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",placeholder:"John Doe",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email ID *"}),e.jsx("input",{type:"email",value:j.email,onChange:z("email"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 placeholder:text-slate-500 bg-slate-50",placeholder:"john.doe@example.com",readOnly:!0,required:!0}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Auto-filled, read-only"})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:j.phoneNumber,onChange:z("phoneNumber"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 placeholder:text-slate-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",placeholder:"+91 98765 43210"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Optional, hidden from students"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Graduation Year *"}),e.jsx("input",{type:"text",value:j.graduationYear,onChange:z("graduationYear"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 placeholder:text-slate-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",placeholder:"2020",required:!0})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Degree / Program *"}),e.jsxs("select",{value:j.degree,onChange:z("degree"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",required:!0,children:[e.jsx("option",{value:"",children:"Select Degree"}),E.map(A=>e.jsx("option",{value:A,children:A},A))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Department *"}),e.jsxs("select",{value:j.department,onChange:z("department"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",required:!0,children:[e.jsx("option",{value:"",children:"Select Department"}),D.map(A=>e.jsx("option",{value:A,children:A},A))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Current Location (City, Country) *"}),e.jsx("input",{type:"text",value:j.currentLocation,onChange:z("currentLocation"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 placeholder:text-slate-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",placeholder:"Pune, India",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[g?e.jsx("img",{src:g,alt:"Profile preview",className:"h-16 w-16 rounded-full object-cover"}):e.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-200 flex items-center justify-center",children:e.jsx("svg",{className:"h-8 w-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:U,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Optional but recommended  Max size: 2MB"})]})]})]})]});case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:" STEP 2: Professional & Mentorship Details"}),e.jsx("p",{className:"text-sm text-slate-600",children:" Purpose: Understand what help the mentor can offer."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-md font-semibold text-slate-800",children:" Professional Information"}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Current Job Title *"}),e.jsx("input",{type:"text",value:j.currentJobTitle,onChange:z("currentJobTitle"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 placeholder:text-slate-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",placeholder:"Senior Software Engineer",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company / Organization *"}),e.jsx("input",{type:"text",value:j.company,onChange:z("company"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 placeholder:text-slate-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",placeholder:"Tech Corp",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Industry *"}),e.jsxs("select",{value:j.industry,onChange:z("industry"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",required:!0,children:[e.jsx("option",{value:"",children:"Select Industry"}),_.map(A=>e.jsx("option",{value:A,children:A},A))]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-md font-semibold text-slate-800",children:" Mentorship Areas (Multi-select)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:B.map(A=>{const R=j.mentorshipAreas.includes(A);return e.jsx("button",{type:"button",onClick:()=>$(A),className:`rounded-lg px-3 py-2 text-sm font-medium transition-colors ${R?"bg-blue-500 text-white":"border border-slate-300 text-slate-600 hover:border-blue-500 hover:text-blue-500"}`,children:A},A)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-md font-semibold text-slate-800",children:" Skills / Expertise"}),e.jsx("p",{className:"text-xs text-slate-600",children:"Tags input  max 10 (Example: Java, Python, React, Data Structures, Product Management)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:N,onChange:A=>k(A.target.value),onKeyPress:A=>A.key==="Enter"&&(A.preventDefault(),F()),className:"flex-1 rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 placeholder:text-slate-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",placeholder:"Add a skill...",disabled:v.length>=10}),e.jsx("button",{type:"button",onClick:F,disabled:v.length>=10,className:"rounded-lg bg-blue-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map((A,R)=>e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1 text-sm font-medium text-slate-700",children:[A,e.jsx("button",{type:"button",onClick:()=>H(A),className:"text-slate-400 hover:text-slate-600",children:""})]},R))}),v.length>=10&&e.jsx("p",{className:"text-xs text-amber-600",children:"Maximum 10 skills reached"})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:" STEP 3: Availability & Consent"}),e.jsx("p",{className:"text-sm text-slate-600",children:" Purpose: Set expectations clearly."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-md font-semibold text-slate-800",children:" Availability"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Preferred Mentorship Mode *"}),e.jsxs("select",{value:j.mentorshipMode,onChange:z("mentorshipMode"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",required:!0,children:[e.jsx("option",{value:"",children:"Select Mode"}),e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"offline",children:"Offline"}),e.jsx("option",{value:"both",children:"Both"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Available Days *"}),e.jsxs("select",{value:j.availableDays,onChange:z("availableDays"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",required:!0,children:[e.jsx("option",{value:"",children:"Select Days"}),e.jsx("option",{value:"weekdays",children:"Weekdays"}),e.jsx("option",{value:"weekends",children:"Weekends"}),e.jsx("option",{value:"flexible",children:"Flexible"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Time Commitment *"}),e.jsxs("select",{value:j.timeCommitment,onChange:z("timeCommitment"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",required:!0,children:[e.jsx("option",{value:"",children:"Select Commitment"}),e.jsx("option",{value:"1-2",children:"12 hours / month"}),e.jsx("option",{value:"3-5",children:"35 hours / month"}),e.jsx("option",{value:"on-demand",children:"On demand"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-md font-semibold text-slate-800",children:" Mentorship Preference"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Who can connect *"}),e.jsxs("select",{value:j.mentorshipPreference,onChange:z("mentorshipPreference"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",required:!0,children:[e.jsx("option",{value:"",children:"Select Preference"}),e.jsx("option",{value:"students",children:"Students"}),e.jsx("option",{value:"alumni",children:"Alumni"}),e.jsx("option",{value:"both",children:"Both"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Max Mentees at a time *"}),e.jsxs("select",{value:j.maxMentees,onChange:z("maxMentees"),className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",required:!0,children:[e.jsx("option",{value:"",children:"Select Number"}),e.jsx("option",{value:"1",children:"1"}),e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"5",children:"5"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-md font-semibold text-slate-800",children:" Consent & Agreement"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",checked:j.consent1,onChange:z("consent1"),className:"mt-1 h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",required:!0}),e.jsx("span",{className:"ml-3 text-sm text-slate-700",children:"I agree to be listed as a mentor on the alumni portal"})]}),e.jsxs("label",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",checked:j.consent2,onChange:z("consent2"),className:"mt-1 h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",required:!0}),e.jsx("span",{className:"ml-3 text-sm text-slate-700",children:"I understand that my profile will be visible to registered users"})]}),e.jsxs("label",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",checked:j.consent3,onChange:z("consent3"),className:"mt-1 h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",required:!0}),e.jsx("span",{className:"ml-3 text-sm text-slate-700",children:"I agree to follow mentorship guidelines"})]})]})]})]});default:return null}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 py-8",children:e.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Mentors Registration  3-Step Form"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Keep it short, clean, and useful. Don't overload Step-1."})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-center space-x-2",children:P.map((A,R)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold transition-colors ${p>=R?"bg-blue-600 text-white":"bg-slate-200 text-slate-600"}`,children:R+1}),R<P.length-1&&e.jsx("div",{className:`w-16 h-0.5 transition-colors ${p>R?"bg-blue-600":"bg-slate-200"}`})]},R))}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:P[p].title}),e.jsx("p",{className:"text-sm text-slate-600",children:P[p].description})]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-200 p-8",children:e.jsxs("form",{onSubmit:W,children:[I(),e.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-slate-200",children:[e.jsx("button",{type:"button",onClick:Y,disabled:p===0,className:"rounded-lg border border-slate-300 px-6 py-2.5 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),p<P.length-1?e.jsx("button",{type:"button",onClick:O,className:"rounded-lg bg-blue-600 px-6 py-2.5 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:"Next Step"}):e.jsx("button",{type:"submit",disabled:c,className:"rounded-lg bg-green-600 px-6 py-2.5 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Registering...":" Register as Mentor"})]})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-slate-600",children:["Questions about becoming a mentor? ",e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 underline",children:"Contact our team"})]})})]})})},N6=({children:a})=>{const{user:n}=ye(),r=vt();return n?a:e.jsx(Cl,{to:"/login",replace:!0,state:{from:r}})},Ri=({children:a})=>{const{user:n}=ye(),r=vt();return n?e.jsx(Cl,{to:"/dashboard",replace:!0,state:{from:r}}):a},q0=({children:a})=>{const{user:n}=ye(),r=Rs(n?.registrationStatus),o=Je(n?.profileApprovalStatus),u=n?.role?.toLowerCase()!=="admin"&&r!==it.APPROVED,p=["student","alumni","faculty"].includes(n?.role)&&(o===ke.IN_REVIEW||o===ke.REJECTED);return u||p?e.jsx(i6,{user:n}):a},we=({children:a})=>{const{user:n}=ye(),r=vt(),o=Rs(n?.registrationStatus),c=Je(n?.profileApprovalStatus),p=n?.role?.toLowerCase()!=="admin"&&o!=="APPROVED",b=["student","alumni","faculty"].includes(n?.role)&&(c===ke.IN_REVIEW||c===ke.REJECTED);return p||b?e.jsx(Cl,{to:"/dashboard",replace:!0,state:{from:r}}):a},H0=({allowedRoles:a,children:n})=>{const{user:r}=ye(),o=r?.role?.toLowerCase()??"";return a.includes(o)?n:e.jsx(Cl,{to:"/dashboard",replace:!0})};function w6(){return e.jsx(Tj,{children:e.jsx(Pj,{children:e.jsxs(y2,{children:[e.jsxs(xe,{element:e.jsx(tj,{}),children:[e.jsx(xe,{index:!0,element:e.jsx(mj,{})}),e.jsx(xe,{path:"directory",element:e.jsx(Cl,{to:"/dashboard/directory/students",replace:!0})}),e.jsx(xe,{path:"directory/:profileId",element:e.jsx(Jf,{})}),e.jsx(xe,{path:"events",element:e.jsx(fj,{})}),e.jsx(xe,{path:"mentorship",element:e.jsx(vj,{})}),e.jsx(xe,{path:"gallery",element:e.jsx(wj,{})}),e.jsx(xe,{path:"login",element:e.jsx(Ri,{children:e.jsx(qj,{})})}),e.jsx(xe,{path:"signup",element:e.jsx(Ri,{children:e.jsx(Vj,{})})}),e.jsx(xe,{path:"signup/:role",element:e.jsx(Ri,{children:e.jsx(Qj,{})})}),e.jsx(xe,{path:"forgot-password",element:e.jsx(Ri,{children:e.jsx(Zj,{})})})]}),e.jsxs(xe,{path:"dashboard/*",element:e.jsx(N6,{children:e.jsx($w,{})}),children:[e.jsx(xe,{index:!0,element:e.jsx(K1,{})}),e.jsx(xe,{path:"profile",element:e.jsx(W4,{})}),e.jsx(xe,{path:"directory/students",element:e.jsx(we,{children:e.jsx(k5,{})})}),e.jsx(xe,{path:"directory/alumni",element:e.jsx(we,{children:e.jsx(A5,{})})}),e.jsx(xe,{path:"directory/faculty",element:e.jsx(we,{children:e.jsx(E5,{})})}),e.jsx(xe,{path:"directory/coordinators",element:e.jsx(we,{children:e.jsx(M5,{})})}),e.jsx(xe,{path:"directory/profile/:profileId",element:e.jsx(we,{children:e.jsx(Jf,{})})}),e.jsx(xe,{path:"mentorship",element:e.jsx(we,{children:e.jsx(r0,{})})}),e.jsx(xe,{path:"mentorship/become",element:e.jsx(we,{children:e.jsx(j6,{})})}),e.jsx(xe,{path:"mentorship/ai-match",element:e.jsx(we,{children:e.jsx(u6,{})})}),e.jsx(xe,{path:"mentorship/:panelSection",element:e.jsx(we,{children:e.jsx(r0,{})})}),e.jsx(xe,{path:"mentors/:mentorId",element:e.jsx(we,{children:e.jsx(n6,{})})}),e.jsx(xe,{path:"events",element:e.jsx(we,{children:e.jsx(w3,{})})}),e.jsx(xe,{path:"events/post",element:e.jsx(we,{children:e.jsx(F5,{})})}),e.jsx(xe,{path:"events/:eventId/edit",element:e.jsx(we,{children:e.jsx(G5,{})})}),e.jsx(xe,{path:"events/:eventId",element:e.jsx(we,{children:e.jsx(x3,{})})}),e.jsx(xe,{path:"donations",element:e.jsx(we,{children:e.jsx(z3,{})})}),e.jsx(xe,{path:"donations/create",element:e.jsx(we,{children:e.jsx(C0,{})})}),e.jsx(xe,{path:"campaigns",element:e.jsx(we,{children:e.jsx(u5,{})})}),e.jsx(xe,{path:"campaigns/create",element:e.jsx(we,{children:e.jsx(C0,{})})}),e.jsx(xe,{path:"campaigns/:campaignId",element:e.jsx(we,{children:e.jsx(g5,{})})}),e.jsx(xe,{path:"opportunities",element:e.jsx(we,{children:e.jsx(mu,{})})}),e.jsx(xe,{path:"opportunities/post",element:e.jsx(we,{children:e.jsx(z5,{})})}),e.jsx(xe,{path:"registrations/coordinator",element:e.jsx(H0,{allowedRoles:["coordinator"],children:e.jsx(q0,{children:e.jsx(f6,{})})})}),e.jsx(xe,{path:"admin/registration-approvals",element:e.jsx(H0,{allowedRoles:["admin"],children:e.jsx(q0,{children:e.jsx(v6,{})})})}),e.jsx(xe,{path:"jobs",element:e.jsx(we,{children:e.jsx(mu,{filter:"job"})})}),e.jsx(xe,{path:"internships",element:e.jsx(we,{children:e.jsx(mu,{filter:"internship"})})}),e.jsx(xe,{path:"opportunities/:opportunityId/edit",element:e.jsx(we,{children:e.jsx(J5,{})})}),e.jsx(xe,{path:"opportunities/:opportunityId",element:e.jsx(we,{children:e.jsx($5,{})})}),e.jsx(xe,{path:"opportunities/:opportunityId/applications",element:e.jsx(we,{children:e.jsx(Y5,{})})}),e.jsx(xe,{path:"donations/:campaignId/edit",element:e.jsx(we,{children:e.jsx(W5,{})})}),e.jsx(xe,{path:"donations/:campaignId",element:e.jsx(we,{children:e.jsx(Y3,{})})}),e.jsx(xe,{path:"news",element:e.jsx(we,{children:e.jsx(a3,{})})}),e.jsx(xe,{path:"news/create",element:e.jsx(we,{children:e.jsx(c3,{})})}),e.jsx(xe,{path:"news/:articleId",element:e.jsx(we,{children:e.jsx(r3,{})})}),e.jsx(xe,{path:"gallery",element:e.jsx(we,{children:e.jsx(N5,{})})}),e.jsx(xe,{path:"insights",element:e.jsx(we,{children:e.jsx(Z5,{})})}),e.jsx(xe,{path:"applications",element:e.jsx(we,{children:e.jsx(F3,{})})}),e.jsx(xe,{path:"mentorship-requests",element:e.jsx(we,{children:e.jsx(s5,{})})}),e.jsx(xe,{path:"activity/content",element:e.jsx(we,{children:e.jsx(X3,{})})}),e.jsx(xe,{path:"my-posts",element:e.jsx(we,{children:e.jsx(Z3,{})})}),e.jsx(xe,{path:"events/:eventId/registrations",element:e.jsx(we,{children:e.jsx(e5,{})})}),e.jsx(xe,{path:"registered-events",element:e.jsx(we,{children:e.jsx(D3,{})})}),e.jsx(xe,{path:"settings",element:e.jsx(we,{children:e.jsx(j5,{})})})]}),e.jsx(xe,{path:"*",element:e.jsx(Cl,{to:"/",replace:!0})})]})})})}Cv.createRoot(document.getElementById("root")).render(e.jsx(x.StrictMode,{children:e.jsx(q2,{children:e.jsx(w6,{})})}));
